function range(a,b){for(var c=new Array(b-a+1),d=a;b>=d;d++)c[d-a]=d;return c}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e,f,g;f=a("./scorer"),d=a("./legacy"),e=function(a){return a.candidate},g=function(a,b){return b.score-a.score},c=a("path").sep,b.exports=function(a,b,c){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(A=null!=c?c:{},m=A.key,p=A.maxResults,o=A.maxInners,h=A.allowErrors,n=A.legacy,t=[],u=null!=o&&o>0?o:a.length,i=!!h,j=null!=m,q=f.prepQuery(b),n)for(r=q.depth>0,l=q.core,x=0,z=a.length;z>x;x++)k=a[x],v=null!=m?k[m]:k,v&&(s=d.score(v,l,r),r||(s=d.basenameScore(v,l,s)),s>0&&t.push({candidate:k,score:s}));else for(w=0,y=a.length;y>w&&(k=a[w],v=j?k[m]:k,!(v&&(s=f.score(v,b,q,i),s>0&&(t.push({candidate:k,score:s}),!--u))));w++);return t.sort(g),a=t.map(e),null!=p&&(a=a.slice(0,p)),a}}).call(this)},{"./legacy":3,"./scorer":5,path:6}],2:[function(a,b,c){(function(){var c,d,e,f,g,h;h=a("./scorer"),e=a("./legacy"),d=a("./filter"),f=a("./matcher"),c=a("path").sep,g=null,b.exports={filter:function(a,b,c){return(null!=b?b.length:void 0)&&(null!=a?a.length:void 0)?d(a,b,c):[]},prepQuery:function(a){return h.prepQuery(a)},score:function(a,b,c,d){var f,i,j,k,l,m;return m=null!=d?d:{},f=m.allowErrors,j=m.legacy,(null!=a?a.length:void 0)&&(null!=b?b.length:void 0)?(null==c&&(c=g&&g.query===b?g:g=h.prepQuery(b)),j?(k=c.depth>0,i=c.core,l=e.score(a,i,k),k||(l=e.basenameScore(a,i,l))):l=h.score(a,b,c,!!f),l):0},match:function(a,b,d,e){var i,j,k,l,m,n;return i=(null!=e?e:{}).allowErrors,a&&b?a===b?function(){n=[];for(var b=0,c=a.length;c>=0?c>b:b>c;c>=0?b++:b--)n.push(b);return n}.apply(this):(null==d&&(d=g&&g.query===b?g:g=h.prepQuery(b)),i||h.isMatch(a,d.core_lw,d.core_up)?(m=a.toLowerCase(),l=d.query_lw,k=f.match(a,m,d),0===k.length?k:(a.indexOf(c)>-1&&(j=f.basenameMatch(a,m,d),k=f.mergeMatches(k,j)),k)):[]):[]}}}).call(this)},{"./filter":1,"./legacy":3,"./matcher":4,"./scorer":5,path:6}],3:[function(a,b,c){(function(){var b,d;b=a("path").sep,c.basenameScore=function(a,d,e){var f,g,h,i,j,k;for(h=a.length-1;a[h]===b;)h--;for(k=0,i=h,f=null;h>=0;)a[h]===b?(k++,null==f&&(f=a.substring(h+1,i+1))):0===h&&(i<a.length-1?null==f&&(f=a.substring(0,i+1)):null==f&&(f=a)),h--;return f===a?e*=2:f&&(e+=c.score(f,d)),j=k+1,g=Math.max(1,10-j),e*=.01*g},c.score=function(a,c){var e,f,g,h,i,j,k,l,m,n,o,p;if(a===c)return 1;if(d(a,c))return 1;for(n=0,k=c.length,m=a.length,g=0,h=0;k>g;){if(e=c[g++],i=a.indexOf(e.toLowerCase()),o=a.indexOf(e.toUpperCase()),j=Math.min(i,o),-1===j&&(j=Math.max(i,o)),h=j,-1===h)return 0;f=.1,a[h]===e&&(f+=.1),0===h||a[h-1]===b?f+=.8:("-"===(p=a[h-1])||"_"===p||" "===p)&&(f+=.7),a=a.substring(h+1,m),n+=f}return l=n/k,(l*(k/m)+l)/2},d=function(a,c){return a[a.length-c.length-1]===b?a.lastIndexOf(c)===a.length-c.length:void 0},c.match=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(null==c&&(c=0),a===b)return function(){m=[];for(var b=c,d=c+a.length;d>=c?d>b:b>d;d>=c?b++:b--)m.push(b);return m}.apply(this);for(j=b.length,k=a.length,e=0,f=0,h=[];j>e;){if(d=b[e++],g=a.indexOf(d.toLowerCase()),l=a.indexOf(d.toUpperCase()),i=Math.min(g,l),-1===i&&(i=Math.max(g,l)),f=i,-1===f)return[];h.push(c+f),c+=f+1,a=a.substring(f+1,k)}return h}}).call(this)},{path:6}],4:[function(a,b,c){(function(){var b,d;b=a("path").sep,d=a("./scorer"),c.basenameMatch=function(a,d,e){var f,g,h;for(h=a.length-1;a[h]===b;)h--;if(f=a.lastIndexOf(b,h),-1===f)return[];for(g=e.depth;g-->0;)if(f=a.lastIndexOf(b,f-1),-1===f)return[];return f++,h++,c.match(a.slice(f,h),d.slice(f,h),e,f)},c.mergeMatches=function(a,b){var c,d,e,f,g,h,i;if(g=a.length,h=b.length,0===h)return a.slice();if(0===g)return b.slice();for(e=-1,f=0,d=b[f],i=[];++e<g;){for(c=a[e];c>=d&&++f<h;)c>d&&i.push(d),d=b[f];i.push(c)}for(;h>f;)i.push(b[f++]);return i},c.match=function(a,b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(null==e&&(e=0),w=c.query,x=c.query_lw,r=a.length,u=w.length,j=d.scoreAcronyms(a,b,w,x).score,A=new Array(u),n=new Array(u),h=0,i=1,g=2,f=3,E=new Array(r*u),v=-1,q=-1;++q<u;)A[q]=0,n[q]=0;for(p=-1;++p<r;)for(y=0,B=0,m=0,C=b[p],q=-1;++q<u;)o=0,k=0,z=B,x[q]===C&&(D=d.isWordStart(p,a,b),o=m>0?m:d.scoreConsecutives(a,b,w,x,p,q,D),k=z+d.scoreCharacter(p,q,D,j,o)),B=A[q],m=n[q],y>B?t=g:(y=B,t=i),k>y?(y=k,t=f):o=0,A[q]=y,n[q]=o,E[++v]=y>0?t:h;for(p=r-1,q=u-1,v=p*u+q,l=!0,s=[];l&&p>=0&&q>=0;)switch(E[v]){case i:p--,v-=u;break;case g:q--,v--;break;case f:s.push(p+e),q--,p--,v-=u+1;break;default:l=!1}return s.reverse(),s}}).call(this)},{"./scorer":5,path:6}],5:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;d=a("path").sep,D=150,r=20,A=13,B=85,k=1.2,p=.75,q=/[ _\-:\/\\]/g,c.coreChars=g=function(a){return a.replace(q,"")},c.score=function(a,b,c,d){var g,h;return null==c&&(c=new e(b)),null==d&&(d=!1),d||l(a,c.core_lw,c.core_up)?(h=a.toLowerCase(),g=i(a,h,c),Math.ceil(f(a,h,c,g))):0},e=function(){function a(a){return(null!=a?a.length:void 0)?(this.query=a,this.query_lw=a.toLowerCase(),this.core=g(a),this.core_lw=this.core.toLowerCase(),this.core_up=C(this.core),void(this.depth=h(a,a.length))):null}return a}(),c.prepQuery=function(a){return new e(a)},c.isMatch=l=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.length,g=b.length,!f||g>f)return!1;for(d=-1,e=-1;++e<g;){for(h=b[e],i=c[e];++d<f&&(j=a[d],j!==h&&j!==i););if(d===f)return!1}return!0},i=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,q,r,x,y,A,B,C,D,E,F,G,H,I;if(y=c.query,A=c.query_lw,l=a.length,r=y.length,d=s(a,b,y,A),e=d.score,d.count===r)return v(r,l,e,d.pos);if(x=b.indexOf(A),x>-1)return w(a,b,y,A,x,r,l);for(E=new Array(r),h=new Array(r),I=z(r,l),m=Math.ceil(p*r)+5,n=m,k=-1;++k<r;)E[k]=0,h[k]=0;for(j=b.indexOf(A[0]),j>-1&&j--,q=b.lastIndexOf(A[r-1],l),q>j&&(l=q+1);++j<l;)for(C=0,D=0,g=0,G=b[j],B=!0,k=-1;++k<r;){if(F=E[k],F>C&&(C=F),i=0,A[k]===G)if(H=o(j,a,b),i=g>0?g:u(a,b,y,A,j,k,H),f=D+t(j,k,H,e,i),f>C)C=f,n=m;else{if(B&&--n<=0)return E[r-1]*I;B=!1}D=F,g=h[k],h[k]=i,E[k]=C}return C*I},c.isWordStart=o=function(a,b,c){var d,e;return 0===a?!0:(d=b[a],e=b[a-1],m(d)||m(e)||d!==c[a]&&e===c[a-1])},c.isWordEnd=n=function(a,b,c,d){var e,f;return a===d-1?!0:(e=b[a],f=b[a+1],m(e)||m(f)||e===c[a]&&f!==c[a+1])},m=function(a){return" "===a||"."===a||"-"===a||"_"===a||"/"===a||"\\"===a},y=function(a){var b;return r>a?(b=r-a,100+b*b):Math.max(100+r-a,0)},z=function(a,b){return B/(B+Math.abs(b-a))},v=function(a,b,c,d){return 2*a*(D*c+y(d))*z(a,b)},c.scorePattern=x=function(a,b,c,d,e){var f,g;return g=a,f=6,c===a&&(f+=2),d&&(f+=3),e&&(f+=1),a===b&&(d&&(g+=c===b?2:1),e&&(f+=1)),c+g*(g+f)},c.scoreCharacter=t=function(a,b,c,d,e){var f;return f=y(a),c?f+D*((d>e?d:e)+10):f+D*e},c.scoreConsecutives=u=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,o,p;for(i=a.length,k=c.length,j=i-e,l=k-f,h=l>j?j:l,o=e,m=0,p=0,c[f]===a[e]&&m++;++p<h&&d[++f]===b[++e];)c[f]===a[e]&&m++;return 1===p?1+2*m:x(p,k,m,g,n(e,a,b,i))},c.scoreExactMatch=w=function(a,b,c,d,e,f,g){var h,i,j,k,l;for(l=o(e,a,b),l||(j=b.indexOf(d,e+1),j>-1&&(l=o(j,a,b),l&&(e=j))),i=-1,k=0;++i<f;)c[e+i]===a[i]&&k++;return h=n(e+f-1,a,b,g),v(f,g,x(f,f,k,l,h),e)},b=function(){function a(a,b,c){this.score=a,this.pos=b,this.count=c}return a}(),j=new b(0,.1,0),c.scoreAcronyms=s=function(a,c,d,e){var f,g,h,i,k,l,m,n,p;if(i=a.length,k=d.length,!(i>1&&k>1))return j;for(f=0,l=0,n=0,g=-1,h=-1;++h<k;){for(m=e[h];++g<i;)if(m===c[g]&&o(g,a,c)){d[h]===a[g]&&n++,l+=g,f++;break}if(g===i)break}return 2>f?j:(p=x(f,k,n,!0,!1),new b(p,l/f,f))},f=function(a,b,c,e){var f,g,j,l,m;if(0===e)return 0;for(m=a.length-1;a[m]===d;)m--;if(j=a.lastIndexOf(d,m),-1===j)return e;for(l=c.depth;l-->0;)if(j=a.lastIndexOf(d,j-1),-1===j)return e;return j++,m++,g=i(a.slice(j,m),b.slice(j,m),c),f=.5*A/(A+h(a,m+1)),f*g+(1-f)*e*z(0,k*(m-j))},c.countDir=h=function(a,b){var c,e;if(1>b)return 0;for(c=0,e=-1;++e<b&&a[e]===d;);for(;++e<b;)if(a[e]===d)for(c++;++e<b&&a[e]===d;);return c},C=function(a){var b,c,d,e;for(c="",d=0,e=a.length;e>d;d++)b=a[d],c+=b.toUpperCase()[0];return c}}).call(this)},{path:6}],6:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:7}],7:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],8:[function(a,b,c){window.RAML=window.RAML||{},window.RAML.Suggestions=a("./index")},{"./index":10}],9:[function(a,b,c){"use strict";function d(a,b,c){void 0===c&&(c=null);var d=new ka(a),e=new la(b,c);return e.suggest(d,!0)}function e(a,b){var c=new ka(a),d=new la(b);return d.suggestAsync(c,!0)}function f(a,b,c){for(var d=Object.keys(ja),e=0;e<d.length;e++)for(var f=d[e],h=Object.keys(ja[f]),i=0;i<h.length;i++){var j=h[i];if(j===a){var k=ja[f][j],l=k.is||[],m=k.parentIs||[];if(c&&ia.find(l,function(a){return g(c,a)}))return f;if(b&&ia.find(m,function(a){return g(b,a)}))return f}}return"unknown"}function g(a,b){for(var c=b.split("."),d=ca.universes,e=0;e<c.length;e++)d=d[c[e]];return a.isAssignableFrom(d.name)}function h(a,b){var c=null;b.astProvider&&(c=b.astProvider.getASTRoot());var d=j(a,b,c);return d?d:[]}function i(a,b){a.async=!0,a.promises=[];var c=ca.parseRAML(n(a),{fsResolver:b.contentProvider.fsResolver,filePath:a.content.getPath()}),d=c.then(function(c){return j(a,b,o(a.content.getOffset(),c.highLevel()))}),e=d.then(function(b){return Promise.all([b].concat(a.promises))}),f=e.then(function(a){var b=[];return a.forEach(function(a){b=b.concat(a)}),b});return f}function j(a,b,c,d){void 0===c&&(c=void 0),b.currentRequest=a;try{if(b.level>100)return;b.level++;var e=a.content.getOffset(),f=a.content.getText(),g=l(a),h=c?c:m(a,b.contentProvider,!0,!0,d),i=h;if(g===ca.search.LocationKind.DIRECTIVE_COMPLETION)return[{text:"include"}];if(g===ca.search.LocationKind.ANNOTATION_COMPLETION){var j=ca.search.globalDeclarations(i).filter(function(a){return ca.universeHelpers.isAnnotationTypesProperty(a.property())});return j.map(function(a){return{text:ca.search.qName(a,i),annotation:!0}})}if(g===ca.search.LocationKind.VERSION_COMPLETION)return k(a);if(g===ca.search.LocationKind.INCOMMENT)return[];if(null===h)return[];for(var n=!1,o=e-1;o>=i.lowLevel().start();o--){var q=f[o];if("\r"==q||"\n"==q){n=!0;break}}for(var t=e,u=e-1;u>=0;u--){var v=f[u];{if(" "!==v&&"	"!==v)break;t=u}}var w=ia.find(i.attrs(),function(a){return a.lowLevel().start()<t&&a.lowLevel().end()>=t&&!a.property().getAdapter(ca.ds.RAMLPropertyService).isKey()});if(!w){var y=ia.find(i.definition().allProperties(),function(a){return a.canBeValue()});if(n){var z=ia.find(i.lowLevel().children(),function(a){return a.start()<e&&a.end()>=e});if(z){var y=ia.find(i.definition().allProperties(),function(a){return a.nameId()==z.key()});if(y){var B=p(z.keyStart(),z.unit().contents()),C=p(e,z.unit().contents());if(C.length>B.length+1){var E=y.range().hasValueTypeInHierarchy();E?w=ca.stubs.createVirtualASTPropImpl(z,i,y.range(),y):z.children().length>0&&(i=ca.stubs.createVirtualNodeImpl(z.children()[0],i,y.range(),y))}}}}else y&&g==ca.search.LocationKind.VALUE_COMPLETION&&ca.universeHelpers.isTypeProperty(y)&&1==i.children().length&&(w=ca.stubs.createASTPropImpl(i.lowLevel(),i,y.range(),y))}if(g==ca.search.LocationKind.PATH_COMPLETION)return s(a,b.contentProvider,w,i,!1);if(w&&(g===ca.search.LocationKind.KEY_COMPLETION||g===ca.search.LocationKind.SEQUENCE_KEY_COPLETION)){for(var F="",o=e-1;o>=0;o--){var q=f[o];if("\r"==q||"\n"==q)break;F=q+F}F=F.trim(),F!=w.name()&&(g=ca.search.LocationKind.VALUE_COMPLETION)}if(g==ca.search.LocationKind.VALUE_COMPLETION){var G=w&&w.parent&&w.parent()&&w.parent().property&&w.parent().property();if(G&&ga.isUsesProperty(G))return s(a,b.contentProvider,w,i,!1);var H=D(h,w,a,b);if(!w&&(!H||0==H.length)&&!n&&i.definition().getAdapter(ca.ds.RAMLService).isUserDefined())return A(i,a,aa,ba,n);if(w&&w.property()&&(w.property().getAdapter(ca.ds.RAMLPropertyService).isTypeExpr()||w.property().isAnnotation())){H||(H=[]),H=H.filter(function(a){var b=N(a);return b===i.name()?!1:!0});var I=a.valuePrefix(),J=I.lastIndexOf(".");I=J?I.substr(0,J+1):null,I&&(H=H.filter(function(a){return 0==N(a).indexOf(I)}),H.forEach(function(a){return O(a,N(a).substring(I.length))}))}if(H)if(":"==f[e-1]&&H.forEach(function(a){a.extra?a.extra=" "+a.extra:a.extra=" "}),-1!=a.prefix().indexOf("["))a.setPrefix(""),H.forEach(function(a){a.text=": [ "+a.displayText});else if(Q(w)){H=H.filter(function(a){return!P(w,a.displayText)});for(var K="",M=e,S=M;S<f.length&&!/[\t\n\r]/.test(f[S]);S++)if(K+=f[S],":"===K.replace(/\s/g,"")){H.forEach(function(a){a.text=a.displayText,a.snippet=null,a.extra=null});break}var T=!1;M=e-1;for(var S=M;S>=0&&!/[\t\n\r]/.test(f[S]);S--)if("["===f[S]){T=!0;break}T||H.forEach(function(b){return!a.valuePrefix()&&b.snippet?(b.text=b.displayText,void(b.snippet="["+b.snippet+"]")):(b.extra=" [",b.text=(b.snippet||b.displayText)+"]",void(b.snippet=null))})}else{for(var K="",M=e,S=M;S<f.length&&!/[\t\n\r]/.test(f[S]);S++)if(K+=f[S],":"===K.replace(/\s/g,"")){H.forEach(function(a){a.text=a.displayText,a.snippet=null,a.extra=null});break}H.forEach(function(b){b.isResourceType&&!a.valuePrefix()&&b.snippet&&(b.snippet=b.extra+b.snippet,b.extra=null,b.text=b.displayText)})}if(!n&&H&&H.length>0&&(H=L(H,i.lowLevel().start(),f)),H&&R(w)&&a.prefix()&&a.prefix().length>0){for(var V=!1,W=0,X=0,F="",o=e-1;o>=0;o--){var q=f[o];if("\r"===q||"\n"===q)break;if("<"===q&&"<"===f[o-1]){V=!0;break}"!"===q&&W++,"|"===q&&1===W&&X++,F=q+F}if(V&&1===W&&1===X){var Y=new RegExp(/\|\s*!\s*/.source+a.prefix());Y.test(F)&&(H=na(H,a.prefix()))}}return H}if(g==ea.LocationKind.KEY_COMPLETION||g==ea.LocationKind.SEQUENCE_KEY_COPLETION&&e>0&&"-"!=f.charAt(e-1)&&" "!=f.charAt(e-1)){if(h.isAttr()||h.isImplicit())throw new Error("Should be highlevel node at this place");if(ea.isExampleNode(i))return U(i,a,b);if(i.property()&&ga.isUriParametersProperty(i.property())&&i.definition()instanceof da.NodeClass){var Z=i.parent().attr("relativeUri");if(Z&&i.name().substring(0,i.name().length-1)==a.valuePrefix()){var $=ca.utils.parseUrl(Z.value());if($ instanceof Array&&$){if(x(e,f))var _=$.map(function(a){return{text:a+": \n"+r(e,f)+"  "}});else var _=$.map(function(a){return{text:a}});return _}}}if(i.property()&&ga.isBaseUriParametersProperty(i.property())&&i.definition()instanceof da.NodeClass){var Z=i.root().attr(fa.Universe10.Api.properties.baseUri.name);if(Z&&i.name().substring(0,i.name().length-1)==a.valuePrefix()){var $=ca.utils.parseUrl(Z.value());if($ instanceof Array&&$){if(x(e,f))var _=$.map(function(a){return{text:a+": \n"+r(e,f)+"  "}});else var _=$.map(function(a){return{text:a}});return _}}}if(i.property()&&ga.isResourcesProperty(i.property())){var Z=i.attr("relativeUri");if(Z&&i.name().substring(0,i.name().length-1)==a.valuePrefix())return Z&&-1!=Z.value().indexOf("{")?[{text:"mediaTypeExtension}"}]:[]}var aa=i.property()&&i.property().isMultiValue();i.lowLevel().keyEnd()<e&&(aa=!1);var ba=!0;if(aa){var ja=i.definition().getAdapter(ha.RAMLService).getCanInherit();if(ja){var ka=i.computedValue(ja[0]);ka&&(ba=!0,aa=!1)}}return A(i,a,aa,ba)}return[]}finally{b.level--}}function k(a){var b=["RAML 0.8","RAML 1.0"],c=[],d=a.content.getText(),e=a.content.getOffset(),f=d.substr(0,e);if(0==f.indexOf("#%RAML 1.0 ")){var g=["DocumentationItem","DataType","NamedExample","ResourceType","Trait","SecurityScheme","AnnotationTypeDeclaration","Library","Overlay","Extension"];return g.map(function(a){return{text:a}})}return b.forEach(function(b){if(0==("#%"+b).indexOf(f))if(0==d.trim().indexOf("#%"))if(-1!=a.prefix().indexOf("R"))c.push({displayText:b,text:b});else{var g=d.substring(2,e);0==b.indexOf(g)&&("1"==a.prefix()||"0"==a.prefix()?c.push({displayText:b,text:a.prefix()+b.substr(e-2)}):c.push({displayText:b,text:b.substr(e-2)}))}else c.push({displayText:b,text:b,extra:"%"})}),c}function l(a){return ca.search.determineCompletionKind(a.content.getText(),a.content.getOffset())}function m(a,b,c,d,e){void 0===c&&(c=!0),void 0===d&&(d=!0);var f=b.contentDirName(a.content),g=e||ca.project.createProject(f,b.fsResolver),h=a.content.getOffset(),i=a.content.getText(),j=l(a);j===ca.search.LocationKind.KEY_COMPLETION&&c&&(i=i.substring(0,h)+"k:"+i.substring(h));for(var k=g.setCachedUnitContent(a.content.getBaseName(),i),m=k.highLevel(),n=h,o=h-1;o>=0;o--){var p=i[o];{if(" "!==p&&"	"!==p)break;n=o-1}}var q=m.findElementAtOffset(n);if(!d&&!q)return m;if(q&&ea.isExampleNode(q)){var r=q.lowLevel().end();r===n&&"\n"===i[r]&&(q=q.parent())}return q}function n(a){var b=a.content.getOffset(),c=a.content.getText(),d=l(a);return d===ca.search.LocationKind.KEY_COMPLETION&&(c=c.substring(0,b)+"k:"+c.substring(b)),c}function o(a,b){for(var c=a,d=b.lowLevel().unit().contents(),e=a-1;e>=0;e--){var f=d[e];{if(" "!==f&&"	"!==f)break;c=e-1}}return b.findElementAtOffset(c)}function p(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"	"==e)c?c+=e:c=e;else{if("\r"==e||"\n"==e)return c;if(c)return""}}return""}function q(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"	"==e||"-"==e)c?c+=e:c=e;else{if("\r"==e||"\n"==e)return c;if(c)return""}}return""}function r(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"	"==e)c?c+=e:c=e;else if("\r"==e||"\n"==e)return c}}function s(a,b,c,d,e){var f=a.valuePrefix();return-1===f.indexOf("#")?t(a,b,c,d,e):w(a,b,c,d,e)}function t(a,b,c,d,e){var f=a.valuePrefix(),g=b.contentDirName(a.content),h=b.resolve(g,0===f.indexOf("/")?"."+f:f),i=h.lastIndexOf("."),j=h.lastIndexOf("/");i>0&&(i>j||0>j)||(i=-1);var k=h;h&&(g=b.dirName(h),a.async?g=b.existsAsync(h).then(function(a){return a?b.isDirectoryAsync(h).then(function(a){return a?h:b.dirName(h)}):b.dirName(h)}):b.exists(h)&&b.isDirectory(h)&&(g=h));var l=[],m=!e;if(c&&e&&("example"===c.name()&&(l=l.concat(v(f,g,"examples",b,a.promises)),m=!0),"value"===c.name()&&ca.universeHelpers.isGlobalSchemaType(c.parent().definition())&&(l=l.concat(v(f,g,"schemas",b,a.promises)),m=!0)),c||e&&(ca.universeHelpers.isTraitType(d.definition())&&(l=l.concat(v(f,g,"traits",b,a.promises)),m=!0),ca.universeHelpers.isResourceTypeType(d.definition())&&(l=l.concat(v(f,g,"resourceTypes",b,a.promises)),m=!0),ca.universeHelpers.isSecuritySchemaType(d.definition())&&(l=l.concat(v(f,g,"securitySchemes",b,a.promises)),m=!0),ca.universeHelpers.isGlobalSchemaType(d.definition())&&(l=l.concat(v(f,g,"schemas",b,a.promises)),m=!0)),!m||!e)if(a.async)u(g,k,i,b,a.promises);else if(b.exists(g)&&b.isDirectory(g)){var n=b.readDir(g);l=l.concat(n.filter(function(a){try{var c=b.resolve(g,a);if(0===c.indexOf(k))return!0}catch(d){return!1}}).map(function(a){return{text:i>0?b.resolve(g,a).substr(i+1):a}}))}return l}function u(a,b,c,d,e){if(e){var f,g=a.then(function(a){return f=a,d.existsAsync(a)}),h=g.then(function(e){return e?d.isDirectoryAsync(f).then(function(e){return e?d.readDirAsync(f).then(function(e){return e.filter(function(a){try{var c=d.resolve(f,a);if(0===c.indexOf(b))return!0}catch(e){return!1}}).map(function(b){return{text:c>0?d.resolve(a,b).substr(c+1):b}})}):[]}):[]});e.push(h)}}function v(a,b,c,d,e){if(e){var f=b.then(function(a){var b=d.resolve(a,c);return d.existsAsync(b)}),g=f.then(function(b){return b?d.readDirAsync(h).then(function(b){var d=b.map(function(b){return{text:b,replacementPrefix:a,extra:"./"+c+"/"}});return d}):[]});return e.push(g),[]}var h=d.resolve(b,c);if(d.exists(h)){var i=d.readDir(h),j=i.map(function(b){return{text:b,replacementPrefix:a,extra:"./"+c+"/"}});return j}return[]}function w(a,b,c,d,e){var f=a.valuePrefix(),g=ca.schema.getIncludePath(f),h=ca.schema.getIncludeReference(f);if(!g||!h)return[];var i=c.lowLevel().unit().resolve(g);if(!i)return[];var j=i.contents();if(!j)return[];try{var k=ca.schema.completeReference(g,h,j);return k.map(function(a){return{text:a}})}catch(l){console.log(l)}return[]}function x(a,b){for(var c=!0,d=a>0?a-1:0;d<b.length;d++){var e=b.charAt(d);if(" "==e||"\r"==e||"\n"==e)break;":"==e&&(c=!1)}return c}function y(a,b){var c=!0;return b.getContextRequirements().forEach(function(b){if(-1===b.name.indexOf("(")){var d=a.computedValue(b.name);d?c=c&&d==b.value:b.value&&(c=!1)}}),c}function z(a,b,c){return b.getAdapter(ca.ds.RAMLPropertyService).isKey()||b.getAdapter(ca.ds.RAMLPropertyService).isMerged()||b.getAdapter(ha.RAMLPropertyService).isSystem()?!1:y(a,b)?c[b.nameId()]?!1:b.isAnnotation()?!1:b.nameId()==ca.universes.Universe10.TypeDeclaration.properties.allowedTargets.name&&b.domain().key()&&b.domain().key()==ca.universes.Universe10.TypeDeclaration&&a.localType()&&!a.localType().isAnnotationType()?!1:!0:!1}function A(a,b,c,d,e){void 0===e&&(e=!0);var g=a,h=!1,i=!1,j=b.content.getText(),k=b.content.getOffset();if(e){var l=q(a.lowLevel().keyStart(),j);void 0==l&&(l="");var m=q(k,j),n=l.length,o=m.length;for(n==o&&a.parent()&&(a.property().getAdapter(ca.ds.RAMLPropertyService).isMerged()?g=g.parent():(h=!1,i=!0)),o>n&&(h=!0,o>=n+4&&(i=!0,h=!1));n>o&&g.parent();)g=g.parent(),n-=2}var r=x(k,j),s=r?": ":"",t=g.definition().allProperties(),u={};if(g.attrs().forEach(function(a){u[a.name()]=!0}),t=t.filter(function(a){return z(g,a,u)}),a.definition().isAssignableFrom(ca.universes.Universe10.TypeDeclaration.name)&&!a.definition().isAssignableFrom("ObjectTypeDeclaration")&&!a.attr("type")){var v=a.definition().universe().type("ObjectTypeDeclaration");v&&t.push(v.property("properties"))}var w=[];return c||i||(w=t.map(function(b){var c=b.nameId()+s;return b.range().isAssignableFrom(fa.Universe10.ExampleSpec.name)?c=c.trim():!b.range().hasValueTypeInHierarchy()&&r&&(c+="\n"+p(k,j)+"  "),{text:c,displayText:b.nameId(),description:b.description(),category:f(b.nameId(),a.definition(),b.range())}})),d&&g.definition().allProperties().filter(function(a){return a.getAdapter(ca.ds.RAMLPropertyService).isMerged()||a.isFromParentKey()}).forEach(function(a){if((!i||a.isFromParentKey())&&(!h||!a.isFromParentKey())){var c=a,d=a.getOftenKeys();if(!d){var e=a.suggester();e&&(d=e(g))}d||(d=a.enumOptions()),g.property()&&ca.universeHelpers.isBodyProperty(g.property())&&(d||(ca.universeHelpers.isResponseType(g.property().domain())&&(d=["application/json","application/xml"]),(ca.universeHelpers.isMethodBaseType(g.property().domain())||ca.universeHelpers.isMethodType(g.property().domain()))&&(d=["application/json","application/xml","multipart/form-data","application/x-www-form-urlencoded"]))),d&&d.forEach(function(a){var d=a,e=c.valueDocProvider(),h="";e&&(h=e(a)),r?w.push({text:a+":\n"+p(k,j)+"  ",description:h,displayText:a,prefix:a.indexOf("/")>=0?b.valuePrefix():null,category:f(d,g.definition(),c.range())}):w.push({text:a,description:h,displayText:a,prefix:a.indexOf("/")>=0?b.valuePrefix():null,category:f(d,g.definition(),c.range())})})}}),w}function B(a){return"'"===a?!0:'"'===a?!0:!1}function C(a){var b=a.content.getText(),c=a.content.getOffset(),d=a.prefix(),e=b.substring(0,c),f=e.substring(e.lastIndexOf(":")+1).trim();if(!f.length)return!1;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0;if(" "===e[e.length-1]){if(/^\w$/.test(f[f.length-1]))return!0;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0}if(/^\w+$/.test(d)){if(f=f.substring(0,f.lastIndexOf(d)).trim(),/^\w$/.test(f[f.length-1]))return!0;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0}return B(f[f.length-1])?!0:!1}function D(a,b,c,d){var e=a,f=c.content.getText(),g=c.content.getOffset();if(C(c))return[];if(b){var h=b.property(),i=b.value();if("object"==typeof i&&i){var k=i.toHighLevel();if(k)return j(d.currentRequest,d,E(k,c));if(ca.search.isExampleNodeContent(b)){var l=ca.search.findExampleContentType(b);if(l){var m=ca.search.parseDocumentationContent(b,l);if(m)return j(d.currentRequest,d,E(m,c))}}}if(h){var n=F(h,e);if(h.isAllowNull()&&n.push({text:"null",description:"null means - that no value is allowed"}),!n||0==n.length){var o=h.getOftenKeys();if(o)return o.map(function(a){return{text:a,displayText:a}})}if(ga.isExampleProperty(h)&&ga.isBodyLikeType(e.definition())){if(!S(b.value(),g,f))return;var p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./examples/",a.displayText="!include ./examples/"+a.text,a});return p=K(p,b.lowLevel().start(),f)}if(ga.isValueProperty(h)&&ga.isGlobalSchemaType(e.definition())){if(!S(b.value(),g,f))return;p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./schemas/",a.displayText="!include ./schemas/"+a.text,a}),p=K(p,b.lowLevel().start(),f)}if(n)return n}return[]}if(ga.isGlobalSchemaType(e.definition())&&(p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./schemas/",a.displayText="!include ./schemas/"+a.text,a}),p=K(p,e.lowLevel().start(),f)),ga.isTraitType(e.definition()))return p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./traits/",a.displayText="!include ./traits/"+a.text,a}),p=L(p,e.lowLevel().start(),f);if(ga.isResourceTypeType(e.definition())){var p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./resourceTypes/",a.displayText="!include ./resourceTypes/"+a.text,a});return p=L(p,e.lowLevel().start(),f)}if(ga.isSecuritySchemaType(e.definition())){var p=s(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./securitySchemes/",a.displayText="!include ./securitySchemes/"+a.text,a});return p=L(p,e.lowLevel().start(),f)}return ga.isExampleSpecType(e.definition())?U(e,c,d):void 0}function E(a,b){for(var c=b.content.getText(),d=b.content.getOffset(),e=d-1;e>=0;e--){var f=c[e];{if(" "!=f&&"	"!=f)break;d=e}}var g=a.findElementAtOffset(d);return g}function F(a,b){if(b){if(a.getAdapter(ca.ds.RAMLPropertyService).isTypeExpr()){var c,d=b.associatedType(),e=b.definition(),g=b.attr(ca.universes.Universe10.TypeDeclaration.properties.type.name),h=g&&g.value(),i=b.children()&&b.children().filter(function(a){return a.isAttr()&&ca.universeHelpers.isTypeProperty(a.property())}),j=[],k=b&&b.root&&b.root();k&&k.lowLevel()&&k.lowLevel().unit()&&j.push(k.lowLevel().unit().absolutePath()),k&&k.wrapperNode&&k.wrapperNode()&&k.wrapperNode().uses&&k.wrapperNode().uses().forEach(function(a){a&&a.value&&a.value()&&j.push(k.lowLevel().unit().resolve(a.value()).absolutePath())});var l=ca.search.globalDeclarations(b).filter(function(f){var g=f.lowLevel().unit().absolutePath();if(j.indexOf(g)<0)return!1;if(ca.universeHelpers.isGlobalSchemaType(f.definition()))return!0;var k=f.definition().allSuperTypes();if(ia.find(k,function(a){return ca.universeHelpers.isTypeDeclarationType(a)})){var l=h&&a&&a.isMultiValue()&&i&&i.length>1;if(l){if(!d)try{d=b.localType()}catch(m){console.log(m)}if(d&&!e.hasUnionInHierarchy()){var n=d.superTypes().filter(function(a){return!a.isAssignableFrom("unknown")});if(n){var o=ia.find(n,function(a){return H(a)}),p=ia.find(n,function(a){return G(a)}),q=ia.find(n,function(a){return I(a)})||e&&I(e),r=q||p;if(c=o||r,ia.find(n,function(a){return ca.search.qName(f,b)===a.nameId()}))return!1;if(c&&(G(f.definition())||I(f.definition())))return!1;if(r&&H(f.definition()))return!1}}if(e.hasUnionInHierarchy()){var s=J(e);if(ia.find(s,function(a){return ca.search.qName(f,b)===a.nameId()}))return!1}}return!0}return ga.isTypeDeclarationType(f.definition())&&"models"===f.property().nameId()}),m=l.map(function(a){return{text:ea.qName(a,b),description:""}}),n=a.domain().universe().type("TypeDeclaration");if(n){var o=n.allSubTypes();m=m.concat(o.filter(function(a){return c&&(G(a)||I(a))?!1:!0}).map(function(a){return{text:a.getAdapter(ha.RAMLService).descriminatorValue(),description:a.description()}}))}return m}if(ga.isSchemaStringType(a.range())&&"RAML10"===a.range().universe().version()){var l=ea.globalDeclarations(b).filter(function(a){if(ga.isGlobalSchemaType(a.definition()))return!0;var b=a.definition().allSuperTypes();return ia.find(b,function(a){return ga.isTypeDeclarationType(a)})?!0:ga.isTypeDeclarationType(a.definition())&&"models"===a.property().nameId()}),m=l.map(function(a){return{text:ea.qName(a,b),description:""}}),o=ea.subTypesWithLocals(a.domain().universe().type("TypeDeclaration"),b);return m=m.concat(o.map(function(a){return{text:a.getAdapter(ha.RAMLService).descriminatorValue(),description:a.description()}}))}if(a.isDescriminator()){var o=ea.subTypesWithLocals(a.domain(),b);return o.map(function(b){var c=b.getAdapter(ha.RAMLService).descriminatorValue();
return{text:c,description:b.description(),category:f(c,a.domain(),null)}})}if(a.isReference())return ea.nodesDeclaringType(a.referencesTo(),b).map(function(a){return T(a,b)});if(a.range().hasValueTypeInHierarchy()){var p=a.range().getAdapter(ha.RAMLService);if(p.globallyDeclaredBy().length>0){var l=ea.globalDeclarations(b).filter(function(a){var b=a.definition();return null!=ia.find(p.globallyDeclaredBy(),function(a){return a==b})});return l.map(function(a){return T(a,b)})}if(ga.isBooleanTypeType(a.range()))return["false","true"].map(function(a){return{text:a}});var q=a.node&&a.node();if(q){var r=ia.filter(q.children(),function(a){return a.name&&a.value&&a.property()&&ga.isEnumProperty(a.property())}).map(function(a){return{text:a.value()}});return r}}}return ea.enumValues(a,b).map(function(a){return{text:a,category:f(a,b&&b.definition(),null)}})}function G(a){var b=!a.isArray()&&!H(a)&&!a.hasUnionInHierarchy()&&a.key()!==fa.Universe10.TypeDeclaration;return b}function H(a){return a.isAssignableFrom(fa.Universe10.ObjectTypeDeclaration.name)||a.isAssignableFrom("object")}function I(a){return a.isAssignableFrom(fa.Universe10.ArrayTypeDeclaration.name)}function J(a){var b=[];return a&&a.isUnion()?a.left?(b.push(a.left),b.concat(J(a.right))):void 0:a?[a]:b}function K(a,b,c){return a=[{displayText:"Define Inline",text:"|\n"+M(b-1,c)+"  "}].concat(a)}function L(a,b,c){return a=[{displayText:"Define Inline",text:"\n"+M(b-1,c)+"  "}].concat(a)}function M(a,b){for(var c="";a>0;){var d=b[a];if("\r"==d||"\n"==d||" "!=d&&"-"!=d)break;c+=" ",a--}return c}function N(a){return a.text?a.text:a.snippet?a.snippet:a.displayText}function O(a,b){return a.text?void(a.text=b):a.snippet?void(a.snippet=b):void(a.displayText=b)}function P(a,b){var c=a.parent&&a.parent();if(!c)return!1;var d=a.name&&a.name();if(!d)return!1;var e=c.attributes&&c.attributes(d);if(!e)return!1;if(0===e.length)return!1;var f=[];return e.forEach(function(a){var b=a.value&&a.value()&&a.value().valueName&&a.value().valueName();b&&f.push(b)}),ia.find(f,function(a){return b===a})}function Q(a){return a&&a.definition()&&a.property()&&a.definition().isAssignableFrom(fa.Universe10.TraitRef.name)?!0:!1}function R(a){var b=a&&a.definition?a.definition():null;if(b){var c=b.nameId();if("Api"===c)return!1;if("ResourceType"===c||"Trait"===c)return!0;var d=a.parent();return d?R(d):!1}return!1}function S(a,b,c){if(a&&a.length>0){var d=a.trim();if(0==d.indexOf("{"))return!1;if(0==d.indexOf("<"))return!1;if(0==d.indexOf("["))return!1}for(var e=b;e>=0;e--){var f=c[e];if(":"==f)return!0;if("|"==f)return!1;if("'"==f)return!1;if('"'==f)return!1}return!0}function T(a,b){var c=!1,d=a.attr("description"),e="";d?e=d.value():(d=a.attr("usage"),d&&(e=d.value()));var f=a.localType(),g=f.allProperties().filter(function(a){return a.isRequired()&&!a.getAdapter(ha.RAMLPropertyService).isKey()}),h=ea.qName(a,b);if(!ga.isAnnotationTypeType(a.definition())&&g.length>0){h+=": {",h+=g.map(function(a){return a.nameId()+" : "}).join(", ")+"}";var i="";ga.isResourceTypeType(a.definition())&&(h=""+h+" }",i=" { ",c=!0)}return{displayText:ea.qName(a,b),snippet:h,description:e,extra:i,isResourceType:c}}function U(a,b,c){if(!ea.isExampleNode(a))return[];var d=ea.findExampleContentType(a);if(!d)return[];var e=ea.parseStructuredExample(a,d);if(!e)return[];var f=a&&a.lowLevel()&&a.lowLevel().unit()&&a.lowLevel().unit().project();return j(b,c,E(e,b),f)}function V(a,b){var c=W(a,b),d=[],e=[];return c.forEach(function(a){var b=$(a);d.indexOf(b)<0&&(e.push(a),d.push(b))}),e}function W(a,b){var c,d,e,f,g;if(null!=a){for(c&&(a=a.map(function(a){var b,c,d;return b={text:null!=(c=a.text)?c:a.word,snippet:a.snippet,replacementPrefix:null!=(d=a.replacementPrefix)?d:a.prefix,className:a.className,type:a.type},null==b.rightLabelHTML&&a.renderLabelAsHtml&&(b.rightLabelHTML=a.label),null!=b.rightLabel||a.renderLabelAsHtml||(b.rightLabel=a.label),b})),d=!1,f=0,g=a.length;g>f;f++)e=a[f],e.snippet||e.text||(d=!0),null==e.replacementPrefix&&(e.replacementPrefix=Z(b.prefix()));return d&&(a=function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)e=a[b],(e.snippet||e.text)&&d.push(e);return d}()),a=X(a,b)}}function X(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(e=b.prefix(),g=[],d=l=0,m=a.length;m>l;d=++l)i=a[d],i.sortScore=Math.max(-d/10+3,0)+1,i.score=null,k=i.snippet||i.text,j=null!=(n=i.replacementPrefix)?n:e,f=!j||" "===j,c=!f&&j[0].toLowerCase()===k[0].toLowerCase(),f&&g.push(i),c&&(h=oa.score(k,j))>0&&(i.score=h*i.sortScore,g.push(i));return g.sort(Y),g}function Y(a,b){var c,d;return(null!=(c=b.score)?c:b.sortScore)-(null!=(d=a.score)?d:a.sortScore)}function Z(a){return pa.test(a)?a:""}function $(a){return a&&(a.displayText||a.text)||null}function _(a){var b,c;return b=aa(a),(null!=(c=qa.exec(b))?c[2]:void 0)||""}function aa(a){for(var b=a.content.getOffset(),c=a.content.getText(),d=b-1;d>=0;d--){var e=c.charAt(d);if("\r"===e||"\n"===e||" "===e||"	"===e)return c.substring(d+1,b)}return""}function ba(a){return new ra(a)}var ca=window.RAML.Parser,da=ca.ds,ea=ca.search,fa=ca.universes,ga=ca.universeHelpers,ha=da,ia=a("underscore"),ja=a("../resources/categories.json"),ka=function(){function a(a){this.async=!1,this.content=a}return a.prototype.prefix=function(){return"undefined"!=typeof this.prefixValue?this.prefixValue:_(this)},a.prototype.setPrefix=function(a){this.prefixValue=a},a.prototype.valuePrefix=function(){for(var a=this.content.getOffset(),b=this.content.getText(),c=a-1;c>=0;c--){var d=b.charAt(c);if("\r"===d||"\n"===d||" "===d||"	"===d||'"'===d||"'"===d||":"===d||"("===d)return b.substring(c+1,a)}return""},a}();c.CompletionRequest=ka;var la=function(){function a(a,b){void 0===b&&(b=null),this.currentRequest=null,this.astProvider=null,this.level=0,this.contentProvider=a}return a.prototype.suggest=function(a,b){void 0===b&&(b=!1);var c=h(a,this);return b?V(c,a):c},a.prototype.suggestAsync=function(a,b){return void 0===b&&(b=!1),i(a,this).then(function(c){return b?V(c,a):c},function(a){return a})},a}();c.CompletionProvider=la,c.suggest=d,c.suggestAsync=e,c.valueCompletion=D;var ma=ca.utils.getTransformerNames(),na=function(a,b){var c=[];return ma.filter(function(a){return 0===a.indexOf(b)}).forEach(function(a){c.push({displayText:a,text:a})}),c.concat(a)};c.postProcess=V;var oa=a("fuzzaldrin-plus"),pa=/^\w+[\w-]*$/,qa=/(\b|['"~`!@#\$%^&*\(\)\{\}\[\]=\+,\/\?>])((\w+[\w-]*)|([.:;[{(< ]+))$/;c.getPrefix=_;var ra=function(){function a(a){this.resolver=a,this.fsResolver=a}return a.prototype.contentDirName=function(a){return this.resolver.dirname(a.getPath())},a.prototype.dirName=function(a){return this.resolver.dirname(a)},a.prototype.exists=function(a){return this.resolver.exists(a)},a.prototype.resolve=function(a,b){return this.resolver.resolve(a,b)},a.prototype.isDirectory=function(a){return this.resolver.isDirectory(a)},a.prototype.isDirectoryAsync=function(a){return this.resolver.isDirectoryAsync(a)},a.prototype.readDir=function(a){return this.resolver.list(a)},a.prototype.existsAsync=function(a){return this.resolver.existsAsync(a)},a.prototype.readDirAsync=function(a){return this.resolver.listAsync(a)},a}();c.getContentProvider=ba},{"../resources/categories.json":11,"fuzzaldrin-plus":2,underscore:12}],10:[function(a,b,c){"use strict";function d(a){l=a}function e(a){m=a}function f(a){n=a}function g(){return k.suggest(l,n)}function h(a,b){return k.suggest(a,b)}function i(a,b){return k.suggestAsync(a,b)}function j(a){return k.getContentProvider(a)}var k=a("./completionProvider"),l=null,m=null;c.setDefaultEditorStateProvider=d,c.setDefaultASTProvider=e;var n=null;c.setDefaultFSProvider=f,c.suggestDefault=g,c.suggest=h,c.suggestAsync=i,c.getContentProvider=j},{"./completionProvider":9}],11:[function(a,b,c){b.exports={docs:{description:{is:["Universe10.MarkdownString","Universe08.MarkdownString"]},displayName:{parentIs:["Universe10.ExampleSpec","Universe10.TypeDeclaration","Universe10.Trait","Universe10.MethodBase","Universe10.AbstractSecurityScheme","Universe10.ResourceType","Universe10.Resource","Universe08.Parameter","Universe08.Resource","Universe08.ResourceType","Universe08.Trait"]},example:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter","Universe08.BodyLike","Universe08.XMLBody","Universe08.JSONBody"]},usage:{parentIs:["Universe10.Library","Universe10.Overlay","Universe10.Extension","Universe10.Trait","Universe10.ResourceType","Universe08.ResourceType","Universe08.Trait"]},content:{parentIs:["Universe10.DocumentationItem","Universe08.DocumentationItem"]},documentation:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},title:{parentIs:["Universe10.DocumentationItem","Universe08.DocumentationItem"]}},parameters:{"default":{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},"enum":{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},maximum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},minimum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},maxLength:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},minLength:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},required:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},baseUriParameters:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api","Universe08.Resource","Universe08.ResourceType","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},uriParameters:{parentIs:["Universe10.ResourceType","Universe10.ResourceBase","Universe10.Resource","Universe08.Api","Universe08.Resource","Universe08.ResourceType"]},headers:{parentIs:["Universe10.Response","Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.Response","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},queryParameters:{parentIs:["Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},type:{parentIs:["Universe08.Parameter"]}},schemas:{schema:{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike","Universe08.XMLBody","Universe08.JSONBody"]},schemas:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},root:{baseUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},mediaType:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},protocols:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe10.Trait","Universe10.MethodBase","Universe08.Api","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},version:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},title:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},responses:{responses:{parentIs:["Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]}},response:{body:{parentIs:["Universe10.Response","Universe08.Response"]}},security:{securedBy:{is:["Universe10.SecuritySchemeRef","Universe08.SecuritySchemeRef"]},securitySchemes:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},accessTokenUri:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},authorizationGrants:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},authorizationUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},requestTokenUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},scopes:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},describedBy:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},settings:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"OAuth 1.0":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"OAuth 2.0":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"Basic Authentication":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"Digest Authentication":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},type:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]}},"types and traits":{type:{parentIs:["Universe10.ResourceType","Universe10.ResourceBase","Universe10.Resource","Universe08.Resource","Universe08.ResourceType"]},is:{is:["Universe10.TraitRef","Universe08.TraitRef"]},resourceTypes:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},traits:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},methods:{options:{is:["Universe10.MethodBase","Universe08.MethodBase"]},get:{is:["Universe10.MethodBase","Universe08.MethodBase"]},head:{is:["Universe10.MethodBase","Universe08.MethodBase"]},post:{is:["Universe10.MethodBase","Universe08.MethodBase"]},put:{is:["Universe10.MethodBase","Universe08.MethodBase"]},"delete":{is:["Universe10.MethodBase","Universe08.MethodBase"]},trace:{is:["Universe10.MethodBase","Universe08.MethodBase"]},connect:{is:["Universe10.MethodBase","Universe08.MethodBase"]},patch:{is:["Universe10.MethodBase","Universe08.MethodBase"]}},protocols:{HTTP:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]},HTTPS:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]}},body:{"application/json":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"application/x-www-form-urlencoded":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"application/xml":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"multipart/form-data":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},body:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]}}}},{}],12:[function(a,b,c){(function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=v(d,f,4);var g=!C(c)&&u.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function d(a){return function(b,c,d){c=w(c,d);for(var e=B(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function e(a,b,c){return function(d,e,f){var g=0,h=B(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(m.call(d,g,h),u.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}}function f(a,b){var c=H.length,d=a.constructor,e=u.isFunction(d)&&d.prototype||j,f="constructor";for(u.has(a,f)&&!u.contains(b,f)&&b.push(f);c--;)f=H[c],f in a&&a[f]!==e[f]&&!u.contains(b,f)&&b.push(f)}var g=this,h=g._,i=Array.prototype,j=Object.prototype,k=Function.prototype,l=i.push,m=i.slice,n=j.toString,o=j.hasOwnProperty,p=Array.isArray,q=Object.keys,r=k.bind,s=Object.create,t=function(){},u=function(a){return a instanceof u?a:this instanceof u?void(this._wrapped=a):new u(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=u),c._=u):g._=u,u.VERSION="1.8.3";var v=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){return null==a?u.identity:u.isFunction(a)?v(a,b,c):u.isObject(a)?u.matcher(a):u.property(a)};u.iteratee=function(a,b){return w(a,b,1/0)};var x=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},y=function(a){if(!u.isObject(a))return{};if(s)return s(a);t.prototype=a;var b=new t;return t.prototype=null,b},z=function(a){return function(b){return null==b?void 0:b[a]}},A=Math.pow(2,53)-1,B=z("length"),C=function(a){var b=B(a);return"number"==typeof b&&b>=0&&A>=b};u.each=u.forEach=function(a,b,c){b=v(b,c);var d,e;if(C(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=u.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},u.map=u.collect=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},u.reduce=u.foldl=u.inject=a(1),u.reduceRight=u.foldr=a(-1),u.find=u.detect=function(a,b,c){var d;return d=C(a)?u.findIndex(a,b,c):u.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},u.filter=u.select=function(a,b,c){var d=[];return b=w(b,c),u.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},u.reject=function(a,b,c){return u.filter(a,u.negate(w(b)),c)},u.every=u.all=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},u.some=u.any=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},u.contains=u.includes=u.include=function(a,b,c,d){return C(a)||(a=u.values(a)),("number"!=typeof c||d)&&(c=0),u.indexOf(a,b,c)>=0},u.invoke=function(a,b){var c=m.call(arguments,2),d=u.isFunction(b);return u.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},u.pluck=function(a,b){return u.map(a,u.property(b))},u.where=function(a,b){return u.filter(a,u.matcher(b))},u.findWhere=function(a,b){return u.find(a,u.matcher(b))},u.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},u.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},u.shuffle=function(a){for(var b,c=C(a)?a:u.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=u.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},u.sample=function(a,b,c){return null==b||c?(C(a)||(a=u.values(a)),a[u.random(a.length-1)]):u.shuffle(a).slice(0,Math.max(0,b))},u.sortBy=function(a,b,c){return b=w(b,c),u.pluck(u.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a){return function(b,c,d){var e={};return c=w(c,d),u.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};u.groupBy=D(function(a,b,c){u.has(a,c)?a[c].push(b):a[c]=[b]}),u.indexBy=D(function(a,b,c){a[c]=b}),u.countBy=D(function(a,b,c){u.has(a,c)?a[c]++:a[c]=1}),u.toArray=function(a){return a?u.isArray(a)?m.call(a):C(a)?u.map(a,u.identity):u.values(a):[]},u.size=function(a){return null==a?0:C(a)?a.length:u.keys(a).length},u.partition=function(a,b,c){b=w(b,c);var d=[],e=[];return u.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},u.first=u.head=u.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:u.initial(a,a.length-b)},u.initial=function(a,b,c){return m.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},u.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:u.rest(a,Math.max(0,a.length-b))},u.rest=u.tail=u.drop=function(a,b,c){return m.call(a,null==b||c?1:b)},u.compact=function(a){return u.filter(a,u.identity)};var E=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=B(a);h>g;g++){var i=a[g];if(C(i)&&(u.isArray(i)||u.isArguments(i))){b||(i=E(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};u.flatten=function(a,b){return E(a,b,!1)},u.without=function(a){return u.difference(a,m.call(arguments,1))},u.uniq=u.unique=function(a,b,c,d){u.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=w(c,d));for(var e=[],f=[],g=0,h=B(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?u.contains(f,j)||(f.push(j),e.push(i)):u.contains(e,i)||e.push(i)}return e},u.union=function(){return u.uniq(E(arguments,!0,!0))},u.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=B(a);e>d;d++){var f=a[d];if(!u.contains(b,f)){for(var g=1;c>g&&u.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},u.difference=function(a){var b=E(arguments,!0,!0,1);return u.filter(a,function(a){return!u.contains(b,a)})},u.zip=function(){return u.unzip(arguments)},u.unzip=function(a){for(var b=a&&u.max(a,B).length||0,c=Array(b),d=0;b>d;d++)c[d]=u.pluck(a,d);return c},u.object=function(a,b){for(var c={},d=0,e=B(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},u.findIndex=d(1),u.findLastIndex=d(-1),u.sortedIndex=function(a,b,c,d){c=w(c,d,1);for(var e=c(b),f=0,g=B(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},u.indexOf=e(1,u.findIndex,u.sortedIndex),u.lastIndexOf=e(-1,u.findLastIndex),u.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var F=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=y(a.prototype),g=a.apply(f,e);return u.isObject(g)?g:f};u.bind=function(a,b){if(r&&a.bind===r)return r.apply(a,m.call(arguments,1));if(!u.isFunction(a))throw new TypeError("Bind must be called on a function");var c=m.call(arguments,2),d=function(){return F(a,d,b,this,c.concat(m.call(arguments)))};return d},u.partial=function(a){var b=m.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===u?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return F(a,c,this,this,f)};return c},u.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=u.bind(a[c],a);return a},u.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return u.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},u.delay=function(a,b){var c=m.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},u.defer=u.partial(u.delay,u,1),u.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:u.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=u.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},u.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=u.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=u.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},u.wrap=function(a,b){return u.partial(b,a)},u.negate=function(a){return function(){return!a.apply(this,arguments)}},u.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},u.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},u.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},u.once=u.partial(u.before,2);var G=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];u.keys=function(a){if(!u.isObject(a))return[];if(q)return q(a);var b=[];for(var c in a)u.has(a,c)&&b.push(c);return G&&f(a,b),b},u.allKeys=function(a){if(!u.isObject(a))return[];var b=[];for(var c in a)b.push(c);return G&&f(a,b),b},u.values=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},u.mapObject=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},u.pairs=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},u.invert=function(a){for(var b={},c=u.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},u.functions=u.methods=function(a){var b=[];for(var c in a)u.isFunction(a[c])&&b.push(c);return b.sort()},u.extend=x(u.allKeys),u.extendOwn=u.assign=x(u.keys),u.findKey=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},u.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;u.isFunction(b)?(e=u.allKeys(g),d=v(b,c)):(e=E(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},u.omit=function(a,b,c){if(u.isFunction(b))b=u.negate(b);else{var d=u.map(E(arguments,!1,!1,1),String);b=function(a,b){return!u.contains(d,b)}}return u.pick(a,b,c)},u.defaults=x(u.allKeys,!0),u.create=function(a,b){var c=y(a);return b&&u.extendOwn(c,b),c},u.clone=function(a){return u.isObject(a)?u.isArray(a)?a.slice():u.extend({},a):a},u.tap=function(a,b){return b(a),a},u.isMatch=function(a,b){var c=u.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var I=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof u&&(a=a._wrapped),b instanceof u&&(b=b._wrapped);var e=n.call(a);if(e!==n.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(u.isFunction(g)&&g instanceof g&&u.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!I(a[i],b[i],c,d))return!1}else{var j,k=u.keys(a);if(i=k.length,u.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!u.has(b,j)||!I(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};u.isEqual=function(a,b){return I(a,b)},u.isEmpty=function(a){return null==a?!0:C(a)&&(u.isArray(a)||u.isString(a)||u.isArguments(a))?0===a.length:0===u.keys(a).length},u.isElement=function(a){return!(!a||1!==a.nodeType)},u.isArray=p||function(a){return"[object Array]"===n.call(a)},u.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},u.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){u["is"+a]=function(b){return n.call(b)==="[object "+a+"]"}}),u.isArguments(arguments)||(u.isArguments=function(a){return u.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(u.isFunction=function(a){return"function"==typeof a||!1}),u.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},u.isNaN=function(a){return u.isNumber(a)&&a!==+a},u.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===n.call(a)},u.isNull=function(a){return null===a},u.isUndefined=function(a){return void 0===a},u.has=function(a,b){return null!=a&&o.call(a,b)},u.noConflict=function(){return g._=h,this},u.identity=function(a){return a},u.constant=function(a){return function(){return a}},u.noop=function(){},u.property=z,u.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},u.matcher=u.matches=function(a){return a=u.extendOwn({},a),function(b){return u.isMatch(b,a)}},u.times=function(a,b,c){var d=Array(Math.max(0,a));b=v(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},u.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},u.now=Date.now||function(){return(new Date).getTime()};var J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=u.invert(J),L=function(a){var b=function(b){return a[b]},c="(?:"+u.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};u.escape=L(J),u.unescape=L(K),u.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),u.isFunction(d)?d.call(a):d};var M=0;u.uniqueId=function(a){var b=++M+"";return a?a+b:b},u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(a){return"\\"+O[a]};u.template=function(a,b,c){!b&&c&&(b=c),b=u.defaults({},b,u.templateSettings);var d=RegExp([(b.escape||N).source,(b.interpolate||N).source,(b.evaluate||N).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(P,Q),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,u)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},u.chain=function(a){var b=u(a);return b._chain=!0,b};var R=function(a,b){return a._chain?u(b).chain():b};u.mixin=function(a){u.each(u.functions(a),function(b){var c=u[b]=a[b];u.prototype[b]=function(){var a=[this._wrapped];return l.apply(a,arguments),R(this,c.apply(u,a))}})},u.mixin(u),u.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];u.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],R(this,c)}}),u.each(["concat","join","slice"],function(a){var b=i[a];u.prototype[a]=function(){return R(this,b.apply(this._wrapped,arguments))}}),u.prototype.value=function(){return this._wrapped},u.prototype.valueOf=u.prototype.toJSON=u.prototype.value,u.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return u})}).call(this)},{}]},{},[8]),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.oasRamlConverter=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),
c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?(void 0).base64js={}:c)},{}],2:[function(b,c,d){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b,f){"function"==typeof a&&a.amd?a([],f):"object"===("undefined"==typeof d?"undefined":e(d))?c.exports=f():b.returnExports=f()}(void 0,function(){function a(e,f){if("function"!=typeof f)throw new Error("Bad callback given: "+f);if(!e)throw new Error("No options given");var g=e.onResponse;if(e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=g,e.verbose&&(a.log=d()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var i=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],j=0;j<i.length;j++)if(e[i[j]])throw new Error("options."+i[j]+" is not supported");if(e.callback=f,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||a.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)));var k=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(e.qs){var l="string"==typeof e.qs?e.qs:k(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+l:e.uri=e.uri+"?"+l}var m=function(a){var b={};b.boundry="-------------------------------"+Math.floor(1e9*Math.random());var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push("--"+b.boundry+'\nContent-Disposition: form-data; name="'+d+'"\n\n'+a[d]+"\n");return c.push("--"+b.boundry+"--"),b.body=c.join(""),b.length=b.body.length,b.type="multipart/form-data; boundary="+b.boundry,b};if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var n=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=n,n){case"application/x-www-form-urlencoded":e.body=k(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var o=m(e.form);e.body=o.body,e.headers["content-type"]=o.type;break;default:throw new Error("unsupported encoding:"+n)}}}return e.onResponse=e.onResponse||c,e.onResponse===!0&&(e.onResponse=f,e.callback=c),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+h(e.auth.username+":"+e.auth.password)),b(e)}function b(b){function c(){l=!0;var c=new Error("ETIMEDOUT");return c.code="ETIMEDOUT",c.duration=b.timeout,a.log.error("Timeout",{id:j._id,milliseconds:b.timeout}),b.callback(c,j)}function d(c){if(l)return a.log.debug("Ignoring timed out state change",{state:j.readyState,id:j.id});if(a.log.debug("State change",{state:j.readyState,id:j.id,timed_out:l}),j.readyState===i.OPENED){a.log.debug("Request started",{id:j.id});for(var d in b.headers)j.setRequestHeader(d,b.headers[d])}else j.readyState===i.HEADERS_RECEIVED?e():j.readyState===i.LOADING?(e(),f()):j.readyState===i.DONE&&(e(),f(),h())}function e(){if(!p.response){if(p.response=!0,a.log.debug("Got response",{id:j.id,status:j.status}),clearTimeout(j.timeoutTimer),j.statusCode=j.status,m&&0==j.statusCode){var c=new Error("CORS request rejected: "+b.uri);return c.cors="rejected",p.loading=!0,p.end=!0,b.callback(c,j)}b.onResponse(null,j)}}function f(){p.loading||(p.loading=!0,a.log.debug("Response body loading",{id:j.id}))}function h(){if(!p.end){if(p.end=!0,a.log.debug("Request done",{id:j.id}),j.body=j.responseText,b.json)try{j.body=JSON.parse(j.responseText)}catch(c){return b.callback(c,j)}b.callback(null,j,j.body)}}var j=new i,l=!1,m=g(b.uri),n="withCredentials"in j;if(k+=1,j.seq_id=k,j.id=k+": "+b.method+" "+b.uri,j._id=j.id,m&&!n){var o=new Error("Browser does not support cross-origin request: "+b.uri);return o.cors="unsupported",b.callback(o,j)}j.timeoutTimer=setTimeout(c,b.timeout);var p={response:!1,loading:!1,end:!1};return j.onreadystatechange=d,j.open(b.method,b.uri,!0),m&&(j.withCredentials=!!b.withCredentials),j.send(b.body),j}function c(){}function d(){var a,b,d={},e=["trace","debug","info","warn","error"];for(b=0;b<e.length;b++)a=e[b],d[a]=c,"undefined"!=typeof console&&console&&console[a]&&(d[a]=f(console,a));return d}function f(a,b){function c(c,d){return"object"===("undefined"==typeof d?"undefined":e(d))&&(c+=" "+JSON.stringify(d)),a[b].call(a,c)}return c}function g(a){var b,c=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{b=location.href}catch(d){b=document.createElement("a"),b.href="",b=b.href}var e=c.exec(b.toLowerCase())||[],f=c.exec(a.toLowerCase()),g=!(!f||f[1]==e[1]&&f[2]==e[2]&&(f[3]||("http:"===f[1]?80:443))==(e[3]||("http:"===e[1]?80:443)));return g}function h(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);switch(m=n.join(""),a.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}var i=XMLHttpRequest;if(!i)throw new Error("missing XMLHttpRequest");a.log={trace:c,debug:c,info:c,warn:c,error:c};var j=18e4,k=0;a.withCredentials=!1,a.DEFAULT_TIMEOUT=j,a.defaults=function(b,c){var d=function(a){var c=function(c,d){c="string"==typeof c?{uri:c}:JSON.parse(JSON.stringify(c));for(var e in b)void 0===c[e]&&(c[e]=b[e]);return a(c,d)};return c},e=d(a);return e.get=d(a.get),e.post=d(a.post),e.put=d(a.put),e.head=d(a.head),e};var l=["get","put","post","head"];return l.forEach(function(b){var c=b.toUpperCase(),d=b.toLowerCase();a[d]=function(b){"string"==typeof b?b={method:c,uri:b}:(b=JSON.parse(JSON.stringify(b)),b.method=c);var d=[b].concat(Array.prototype.slice.apply(arguments,[1]));return a.apply(this,d)}}),a.couch=function(b,d){function e(a,b,c){if(a)return d(a,b,c);if((b.statusCode<200||b.statusCode>299)&&c.error){a=new Error("CouchDB error: "+(c.error.reason||c.error.error));for(var e in c)a[e]=c[e];return d(a,b,c)}return d(a,b,c)}"string"==typeof b&&(b={uri:b}),b.json=!0,b.body&&(b.json=b.body),delete b.body,d=d||c;var f=a(b,e);return f},a})},{}],3:[function(a,b,c){},{}],4:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],5:[function(a,b,c){(function(b){"use strict";var d=a("buffer"),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;c.alloc=function(a,b,c){if("function"==typeof e.alloc)return e.alloc(a,b,c);if("number"==typeof c)throw new TypeError("encoding must not be number");if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");var d=c,f=b;void 0===f&&(d=void 0,f=0);var h=new e(a);if("string"==typeof f)for(var i=new e(f,d),j=i.length,k=-1;++k<a;)h[k]=i[k%j];else h.fill(f);return h},c.allocUnsafe=function(a){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");return new e(a)},c.from=function(a,c,d){if("function"==typeof e.from&&(!b.Uint8Array||Uint8Array.from!==e.from))return e.from(a,c,d);if("number"==typeof a)throw new TypeError('"value" argument must not be a number');if("string"==typeof a)return new e(a,c);if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer){var f=c;if(1===arguments.length)return new e(a);"undefined"==typeof f&&(f=0);var g=d;if("undefined"==typeof g&&(g=a.byteLength-f),f>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(g>a.byteLength-f)throw new RangeError("'length' is out of bounds");return new e(a.slice(f,f+g))}if(e.isBuffer(a)){var h=new e(a.length);return a.copy(h,0,0,a.length),h}if(a){if(Array.isArray(a)||"undefined"!=typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new e(a);if("Buffer"===a.type&&Array.isArray(a.data))return new e(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},c.allocUnsafeSlow=function(a){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>=g)throw new RangeError("size is too large");return new f(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:6}],6:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,0>b?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;b>c;c++)a[c]=0;return a}function h(a,b,c){("string"!=typeof c||""===c)&&(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;c>e;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(c>=e+h){var i,j,k,l;switch(h){case 1:128>f&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(55296>l||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&1114112>l&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if($>=b)return String.fromCharCode.apply(String,a);for(var c="",d=0;b>d;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||g>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return 16>a?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);g>e&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),d>c?-1:c>d?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,void 0);for(var g=0;e>g;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&c>d&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&b>c&&d>b)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(1e3>g||!f.TYPED_ARRAY_SUPPORT)for(e=0;g>e;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:17,isarray:7}],7:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],8:[function(a,b,c){"use strict";b.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],9:[function(a,b,c){(function(a,c){"use strict";var d=c.process&&a.nextTick||c.setImmediate||function(a){setTimeout(a,0)};b.exports=function(a,b){return a?void b.then(function(b){d(function(){a(null,b)})},function(b){d(function(){a(b)})}):b}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:244}],10:[function(a,b,c){(function(a){"use strict";function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"===("undefined"==typeof a?"undefined":r(a))}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"===("undefined"==typeof a?"undefined":r(a))&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"===("undefined"==typeof a?"undefined":r(a))||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":20}],11:[function(a,b,c){"use strict";function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,
"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"===("undefined"==typeof console?"undefined":j(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function h(){var a;try{a=c.storage.debug}catch(b){}return a}function i(){try{return window.localStorage}catch(a){}}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":12}],12:[function(a,b,c){"use strict";function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;d>e;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:209}],13:[function(b,c,d){(function(e,f){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b,e){"object"===("undefined"==typeof d?"undefined":g(d))&&"undefined"!=typeof c?c.exports=e():"function"==typeof a&&a.amd?a(e):b.ES6Promise=e()}(void 0,function(){function a(a){return"function"==typeof a||"object"===("undefined"==typeof a?"undefined":g(a))&&null!==a}function c(a){return"function"==typeof a}function d(a){Y=a}function h(a){Z=a}function i(){return function(){return e.nextTick(n)}}function j(){return function(){X(n)}}function k(){var a=0,b=new aa(n),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function l(){var a=new MessageChannel;return a.port1.onmessage=n,function(){return a.port2.postMessage(0)}}function m(){var a=setTimeout;return function(){return a(n,1)}}function n(){for(var a=0;W>a;a+=2){var b=da[a],c=da[a+1];b(c),da[a]=void 0,da[a+1]=void 0}W=0}function o(){try{var a=b,c=a("vertx");return X=c.runOnLoop||c.runOnContext,j()}catch(d){return m()}}function p(a,b){var c=arguments,d=this,e=new this.constructor(r);void 0===e[fa]&&K(e);var f=d._state;return f?!function(){var a=c[f-1];Z(function(){return H(f,e,a,d._result)})}():D(d,e,a,b),e}function q(a){var b=this;if(a&&"object"===("undefined"==typeof a?"undefined":g(a))&&a.constructor===b)return a;var c=new b(r);return z(c,a),c}function r(){}function s(){return new TypeError("You cannot resolve a promise with itself")}function t(){return new TypeError("A promises callback cannot return that same promise.")}function u(a){try{return a.then}catch(b){return ja.error=b,ja}}function v(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function w(a,b,c){Z(function(a){var d=!1,e=v(c,b,function(c){d||(d=!0,b!==c?z(a,c):B(a,c))},function(b){d||(d=!0,C(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,C(a,e))},a)}function x(a,b){b._state===ha?B(a,b._result):b._state===ia?C(a,b._result):D(b,void 0,function(b){return z(a,b)},function(b){return C(a,b)})}function y(a,b,d){b.constructor===a.constructor&&d===p&&b.constructor.resolve===q?x(a,b):d===ja?C(a,ja.error):void 0===d?B(a,b):c(d)?w(a,b,d):B(a,b)}function z(b,c){b===c?C(b,s()):a(c)?y(b,c,u(c)):B(b,c)}function A(a){a._onerror&&a._onerror(a._result),E(a)}function B(a,b){a._state===ga&&(a._result=b,a._state=ha,0!==a._subscribers.length&&Z(E,a))}function C(a,b){a._state===ga&&(a._state=ia,a._result=b,Z(A,a))}function D(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ha]=c,e[f+ia]=d,0===f&&a._state&&Z(E,a)}function E(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?H(c,d,e,f):e(f);a._subscribers.length=0}}function F(){this.error=null}function G(a,b){try{return a(b)}catch(c){return ka.error=c,ka}}function H(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=G(d,e),g===ka?(j=!0,h=g.error,g=null):i=!0,b===g)return void C(b,t())}else g=e,i=!0;b._state!==ga||(f&&i?z(b,g):j?C(b,h):a===ha?B(b,g):a===ia&&C(b,g))}function I(a,b){try{b(function(b){z(a,b)},function(b){C(a,b)})}catch(c){C(a,c)}}function J(){return la++}function K(a){a[fa]=la++,a._state=void 0,a._result=void 0,a._subscribers=[]}function L(a,b){this._instanceConstructor=a,this.promise=new a(r),this.promise[fa]||K(this.promise),V(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&B(this.promise,this._result))):C(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function N(a){return new L(this,a).promise}function O(a){var b=this;return new b(V(a)?function(c,d){for(var e=a.length,f=0;e>f;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function P(a){var b=this,c=new b(r);return C(c,a),c}function Q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function S(a){this[fa]=J(),this._result=this._state=void 0,this._subscribers=[],r!==a&&("function"!=typeof a&&Q(),this instanceof S?I(this,a):R())}function T(){var a=void 0;if("undefined"!=typeof f)a=f;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;if(c){var d=null;try{d=Object.prototype.toString.call(c.resolve())}catch(b){}if("[object Promise]"===d&&!c.cast)return}a.Promise=S}var U=void 0;U=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var V=U,W=0,X=void 0,Y=void 0,Z=function(a,b){da[W]=a,da[W+1]=b,W+=2,2===W&&(Y?Y(n):ea())},$="undefined"!=typeof window?window:void 0,_=$||{},aa=_.MutationObserver||_.WebKitMutationObserver,ba="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ca="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,da=new Array(1e3),ea=void 0;ea=ba?i():aa?k():ca?l():void 0===$&&"function"==typeof b?o():m();var fa=Math.random().toString(36).substring(16),ga=void 0,ha=1,ia=2,ja=new F,ka=new F,la=0;return L.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ga&&a>c;c++)this._eachEntry(b[c],c)},L.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===q){var e=u(a);if(e===p&&a._state!==ga)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===S){var f=new c(r);y(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},L.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ga&&(this._remaining--,a===ia?C(d,c):this._result[b]=c),0===this._remaining&&B(d,this._result)},L.prototype._willSettleAt=function(a,b){var c=this;D(a,void 0,function(a){return c._settledAt(ha,b,a)},function(a){return c._settledAt(ia,b,a)})},S.all=N,S.race=O,S.resolve=q,S.reject=P,S._setScheduler=d,S._setAsap=h,S._asap=Z,S.prototype={constructor:S,then:p,"catch":function(a){return this.then(null,a)}},T(),S.polyfill=T,S.Promise=S,S})}).call(this,b("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:244}],14:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],15:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function(a,b,c){if("[object Function]"!==e.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;f>g;g++)b.call(c,a[g],g,a);else for(var h in a)d.call(a,h)&&b.call(c,a[h],h,a)}},{}],16:[function(a,b,c){var d=a("http"),e=b.exports;for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);e.request=function(a,b){return a||(a={}),a.scheme="https",a.protocol="https:",d.request.call(this,a,b)}},{http:263}],17:[function(a,b,c){"use strict";c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],18:[function(a,b,c){"use strict";var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],19:[function(a,b,c){"use strict";"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],20:[function(a,b,c){"use strict";function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],21:[function(a,b,c){"use strict";var d=a("./lib/js-yaml.js");b.exports=d},{"./lib/js-yaml.js":22}],22:[function(a,b,c){"use strict";function d(a){return function(){throw new Error("Function "+a+" is deprecated and cannot be used.")}}var e=a("./js-yaml/loader"),f=a("./js-yaml/dumper");b.exports.Type=a("./js-yaml/type"),b.exports.Schema=a("./js-yaml/schema"),b.exports.FAILSAFE_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.JSON_SCHEMA=a("./js-yaml/schema/json"),b.exports.CORE_SCHEMA=a("./js-yaml/schema/core"),b.exports.DEFAULT_SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_FULL_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.load=e.load,b.exports.loadAll=e.loadAll,b.exports.safeLoad=e.safeLoad,b.exports.safeLoadAll=e.safeLoadAll,b.exports.dump=f.dump,b.exports.safeDump=f.safeDump,b.exports.YAMLException=a("./js-yaml/exception"),b.exports.MINIMAL_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.scan=d("scan"),b.exports.parse=d("parse"),b.exports.compose=d("compose"),b.exports.addConstructor=d("addConstructor")},{"./js-yaml/dumper":24,"./js-yaml/exception":25,"./js-yaml/loader":26,"./js-yaml/schema":28,"./js-yaml/schema/core":29,"./js-yaml/schema/default_full":30,"./js-yaml/schema/default_safe":31,"./js-yaml/schema/failsafe":32,"./js-yaml/schema/json":33,"./js-yaml/type":34}],23:[function(a,b,c){"use strict";function d(a){return"undefined"==typeof a||null===a}function e(a){return"object"===("undefined"==typeof a?"undefined":j(a))&&null!==a}function f(a){return Array.isArray(a)?a:d(a)?[]:[a]}function g(a,b){var c,d,e,f;if(b)for(f=Object.keys(b),c=0,d=f.length;d>c;c+=1)e=f[c],a[e]=b[e];return a}function h(a,b){var c,d="";for(c=0;b>c;c+=1)d+=a;return d}function i(a){return 0===a&&Number.NEGATIVE_INFINITY===1/a}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports.isNothing=d,b.exports.isObject=e,b.exports.toArray=f,b.exports.repeat=h,b.exports.isNegativeZero=i,b.exports.extend=g},{}],24:[function(a,b,c){"use strict";function d(a,b){var c,d,e,f,g,h,i;if(null===b)return{};for(c={},d=Object.keys(b),e=0,f=d.length;f>e;e+=1)g=d[e],h=String(b[g]),"!!"===g.slice(0,2)&&(g="tag:yaml.org,2002:"+g.slice(2)),i=a.compiledTypeMap.fallback[g],i&&K.call(i.styleAliases,h)&&(h=i.styleAliases[h]),c[g]=h;return c}function e(a){var b,c,d;if(b=a.toString(16).toUpperCase(),255>=a)c="x",d=2;else if(65535>=a)c="u",d=4;else{if(!(4294967295>=a))throw new G("code point within a string may not be greater than 0xFFFFFFFF");c="U",d=8}return"\\"+c+F.repeat("0",d-b.length)+b}function f(a){this.schema=a.schema||H,this.indent=Math.max(1,a.indent||2),this.skipInvalid=a.skipInvalid||!1,this.flowLevel=F.isNothing(a.flowLevel)?-1:a.flowLevel,this.styleMap=d(this.schema,a.styles||null),this.sortKeys=a.sortKeys||!1,this.lineWidth=a.lineWidth||80,this.noRefs=a.noRefs||!1,this.noCompatMode=a.noCompatMode||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function g(a,b){for(var c,d=F.repeat(" ",b),e=0,f=-1,g="",h=a.length;h>e;)f=a.indexOf("\n",e),-1===f?(c=a.slice(e),e=h):(c=a.slice(e,f+1),e=f+1),c.length&&"\n"!==c&&(g+=d),g+=c;return g}function h(a,b){return"\n"+F.repeat(" ",a.indent*b)}function i(a,b){var c,d,e;for(c=0,d=a.implicitTypes.length;d>c;c+=1)if(e=a.implicitTypes[c],e.resolve(b))return!0;return!1}function j(a){return a===N||a===L}function k(a){return a>=32&&126>=a||a>=161&&55295>=a&&8232!==a&&8233!==a||a>=57344&&65533>=a&&65279!==a||a>=65536&&1114111>=a}function l(a){return k(a)&&65279!==a&&a!==V&&a!==_&&a!==aa&&a!==ca&&a!==ea&&a!==X&&a!==Q}function m(a){return k(a)&&65279!==a&&!j(a)&&a!==W&&a!==Z&&a!==X&&a!==V&&a!==_&&a!==aa&&a!==ca&&a!==ea&&a!==Q&&a!==S&&a!==U&&a!==O&&a!==da&&a!==Y&&a!==T&&a!==P&&a!==R&&a!==$&&a!==ba}function n(a,b,c,d,e){var f,g,h=!1,i=!1,n=-1!==d,o=-1,p=m(a.charCodeAt(0))&&!j(a.charCodeAt(a.length-1));if(b)for(f=0;f<a.length;f++){if(g=a.charCodeAt(f),!k(g))return la;p=p&&l(g)}else{for(f=0;f<a.length;f++){if(g=a.charCodeAt(f),g===M)h=!0,n&&(i=i||f-o-1>d&&" "!==a[o+1],o=f);else if(!k(g))return la;p=p&&l(g)}i=i||n&&f-o-1>d&&" "!==a[o+1]}return h||i?" "===a[0]&&c>9?la:i?ka:ja:p&&!e(a)?ha:ia}function o(a,b,c,d){a.dump=function(){function e(b){return i(a,b)}if(0===b.length)return"''";if(!a.noCompatMode&&-1!==ga.indexOf(b))return"'"+b+"'";var f=a.indent*Math.max(1,c),h=-1===a.lineWidth?-1:Math.max(Math.min(a.lineWidth,40),a.lineWidth-f),j=d||a.flowLevel>-1&&c>=a.flowLevel;switch(n(b,j,a.indent,h,e)){case ha:return b;case ia:return"'"+b.replace(/'/g,"''")+"'";case ja:return"|"+p(b,a.indent)+q(g(b,f));case ka:return">"+p(b,a.indent)+q(g(r(b,h),f));case la:return'"'+t(b,h)+'"';default:throw new G("impossible error: invalid scalar style")}}()}function p(a,b){var c=" "===a[0]?String(b):"",d="\n"===a[a.length-1],e=d&&("\n"===a[a.length-2]||"\n"===a),f=e?"+":d?"":"-";return c+f+"\n"}function q(a){return"\n"===a[a.length-1]?a.slice(0,-1):a}function r(a,b){for(var c,d,e=/(\n+)([^\n]*)/g,f=function(){var c=a.indexOf("\n");return c=-1!==c?c:a.length,e.lastIndex=c,s(a.slice(0,c),b)}(),g="\n"===a[0]||" "===a[0];d=e.exec(a);){var h=d[1],i=d[2];c=" "===i[0],f+=h+(g||c||""===i?"":"\n")+s(i,b),g=c}return f}function s(a,b){if(""===a||" "===a[0])return a;for(var c,d,e=/ [^ ]/g,f=0,g=0,h=0,i="";c=e.exec(a);)h=c.index,h-f>b&&(d=g>f?g:h,i+="\n"+a.slice(f,d),f=d+1),g=h;return i+="\n",i+=a.length-f>b&&g>f?a.slice(f,g)+"\n"+a.slice(g+1):a.slice(f),i.slice(1)}function t(a){for(var b,c,d="",f=0;f<a.length;f++)b=a.charCodeAt(f),c=fa[b],d+=!c&&k(b)?a[f]:c||e(b);return d}function u(a,b,c){var d,e,f="",g=a.tag;for(d=0,e=c.length;e>d;d+=1)z(a,b,c[d],!1,!1)&&(0!==d&&(f+=", "),f+=a.dump);a.tag=g,a.dump="["+f+"]"}function v(a,b,c,d){var e,f,g="",i=a.tag;for(e=0,f=c.length;f>e;e+=1)z(a,b+1,c[e],!0,!0)&&(d&&0===e||(g+=h(a,b)),g+="- "+a.dump);a.tag=i,a.dump=g||"[]"}function w(a,b,c){var d,e,f,g,h,i="",j=a.tag,k=Object.keys(c);for(d=0,e=k.length;e>d;d+=1)h="",0!==d&&(h+=", "),f=k[d],g=c[f],z(a,b,f,!1,!1)&&(a.dump.length>1024&&(h+="? "),h+=a.dump+": ",z(a,b,g,!1,!1)&&(h+=a.dump,i+=h));a.tag=j,a.dump="{"+i+"}"}function x(a,b,c,d){var e,f,g,i,j,k,l="",m=a.tag,n=Object.keys(c);if(a.sortKeys===!0)n.sort();else if("function"==typeof a.sortKeys)n.sort(a.sortKeys);else if(a.sortKeys)throw new G("sortKeys must be a boolean or a function");for(e=0,f=n.length;f>e;e+=1)k="",d&&0===e||(k+=h(a,b)),g=n[e],i=c[g],z(a,b+1,g,!0,!0,!0)&&(j=null!==a.tag&&"?"!==a.tag||a.dump&&a.dump.length>1024,j&&(k+=a.dump&&M===a.dump.charCodeAt(0)?"?":"? "),k+=a.dump,j&&(k+=h(a,b)),z(a,b+1,i,!0,j)&&(k+=a.dump&&M===a.dump.charCodeAt(0)?":":": ",k+=a.dump,l+=k));a.tag=m,a.dump=l||"{}"}function y(a,b,c){var d,e,f,g,h,i;for(e=c?a.explicitTypes:a.implicitTypes,f=0,g=e.length;g>f;f+=1)if(h=e[f],(h.instanceOf||h.predicate)&&(!h.instanceOf||"object"===("undefined"==typeof b?"undefined":E(b))&&b instanceof h.instanceOf)&&(!h.predicate||h.predicate(b))){if(a.tag=c?h.tag:"?",h.represent){if(i=a.styleMap[h.tag]||h.defaultStyle,"[object Function]"===J.call(h.represent))d=h.represent(b,i);else{if(!K.call(h.represent,i))throw new G("!<"+h.tag+'> tag resolver accepts not "'+i+'" style');d=h.represent[i](b,i)}a.dump=d}return!0}return!1}function z(a,b,c,d,e,f){a.tag=null,a.dump=c,y(a,c,!1)||y(a,c,!0);var g=J.call(a.dump);d&&(d=a.flowLevel<0||a.flowLevel>b);var h,i,j="[object Object]"===g||"[object Array]"===g;if(j&&(h=a.duplicates.indexOf(c),i=-1!==h),(null!==a.tag&&"?"!==a.tag||i||2!==a.indent&&b>0)&&(e=!1),i&&a.usedDuplicates[h])a.dump="*ref_"+h;else{if(j&&i&&!a.usedDuplicates[h]&&(a.usedDuplicates[h]=!0),"[object Object]"===g)d&&0!==Object.keys(a.dump).length?(x(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(w(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else if("[object Array]"===g)d&&0!==a.dump.length?(v(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(u(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else{if("[object String]"!==g){if(a.skipInvalid)return!1;throw new G("unacceptable kind of an object to dump "+g)}"?"!==a.tag&&o(a,a.dump,b,f)}null!==a.tag&&"?"!==a.tag&&(a.dump="!<"+a.tag+"> "+a.dump)}return!0}function A(a,b){var c,d,e=[],f=[];for(B(a,e,f),c=0,d=f.length;d>c;c+=1)b.duplicates.push(e[f[c]]);b.usedDuplicates=new Array(d)}function B(a,b,c){var d,e,f;if(null!==a&&"object"===("undefined"==typeof a?"undefined":E(a)))if(e=b.indexOf(a),-1!==e)-1===c.indexOf(e)&&c.push(e);else if(b.push(a),Array.isArray(a))for(e=0,f=a.length;f>e;e+=1)B(a[e],b,c);else for(d=Object.keys(a),e=0,f=d.length;f>e;e+=1)B(a[d[e]],b,c)}function C(a,b){b=b||{};var c=new f(b);return c.noRefs||A(a,c),z(c,0,a,!0,!0)?c.dump+"\n":""}function D(a,b){return C(a,F.extend({schema:I},b))}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},F=a("./common"),G=a("./exception"),H=a("./schema/default_full"),I=a("./schema/default_safe"),J=Object.prototype.toString,K=Object.prototype.hasOwnProperty,L=9,M=10,N=32,O=33,P=34,Q=35,R=37,S=38,T=39,U=42,V=44,W=45,X=58,Y=62,Z=63,$=64,_=91,aa=93,ba=96,ca=123,da=124,ea=125,fa={};fa[0]="\\0",fa[7]="\\a",fa[8]="\\b",fa[9]="\\t",fa[10]="\\n",fa[11]="\\v",fa[12]="\\f",fa[13]="\\r",fa[27]="\\e",fa[34]='\\"',fa[92]="\\\\",fa[133]="\\N",fa[160]="\\_",fa[8232]="\\L",fa[8233]="\\P";var ga=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ha=1,ia=2,ja=3,ka=4,la=5;b.exports.dump=C,b.exports.safeDump=D},{"./common":23,"./exception":25,"./schema/default_full":30,"./schema/default_safe":31}],25:[function(a,b,c){"use strict";function d(a,b){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name="YAMLException",this.reason=a,this.mark=b,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.toString=function(a){var b=this.name+": ";return b+=this.reason||"(unknown reason)",!a&&this.mark&&(b+=" "+this.mark.toString()),b},b.exports=d},{}],26:[function(a,b,c){"use strict";function d(a){return 10===a||13===a}function e(a){return 9===a||32===a}function f(a){return 9===a||32===a||10===a||13===a}function g(a){return 44===a||91===a||93===a||123===a||125===a}function h(a){var b;return a>=48&&57>=a?a-48:(b=32|a,b>=97&&102>=b?b-97+10:-1)}function i(a){return 120===a?2:117===a?4:85===a?8:0}function j(a){return a>=48&&57>=a?a-48:-1}function k(a){return 48===a?"\x00":97===a?"":98===a?"\b":116===a?"	":9===a?"	":110===a?"\n":118===a?"":102===a?"\f":114===a?"\r":101===a?"":32===a?" ":34===a?'"':47===a?"/":92===a?"\\":78===a?"":95===a?" ":76===a?"\u2028":80===a?"\u2029":""}function l(a){return 65535>=a?String.fromCharCode(a):String.fromCharCode((a-65536>>10)+55296,(a-65536&1023)+56320)}function m(a,b){this.input=a,this.filename=b.filename||null,this.schema=b.schema||S,this.onWarning=b.onWarning||null,this.legacy=b.legacy||!1,this.json=b.json||!1,this.listener=b.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=a.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function n(a,b){return new P(b,new Q(a.filename,a.input,a.position,a.line,a.position-a.lineStart))}function o(a,b){throw n(a,b)}function p(a,b){a.onWarning&&a.onWarning.call(null,n(a,b))}function q(a,b,c,d){var e,f,g,h;if(c>b){if(h=a.input.slice(b,c),d)for(e=0,f=h.length;f>e;e+=1)g=h.charCodeAt(e),9===g||g>=32&&1114111>=g||o(a,"expected valid JSON character");else _.test(h)&&o(a,"the stream contains non-printable characters");a.result+=h}}function r(a,b,c,d){var e,f,g,h;for(O.isObject(c)||o(a,"cannot merge mappings; the provided source object is unacceptable"),e=Object.keys(c),g=0,h=e.length;h>g;g+=1)f=e[g],T.call(b,f)||(b[f]=c[f],d[f]=!0)}function s(a,b,c,d,e,f,g,h){var i,j;if(e=String(e),null===b&&(b={}),"tag:yaml.org,2002:merge"===d)if(Array.isArray(f))for(i=0,j=f.length;j>i;i+=1)r(a,b,f[i],c);else r(a,b,f,c);else a.json||T.call(c,e)||!T.call(b,e)||(a.line=g||a.line,a.position=h||a.position,o(a,"duplicated mapping key")),b[e]=f,delete c[e];return b}function t(a){var b;b=a.input.charCodeAt(a.position),10===b?a.position++:13===b?(a.position++,10===a.input.charCodeAt(a.position)&&a.position++):o(a,"a line break is expected"),a.line+=1,a.lineStart=a.position}function u(a,b,c){for(var f=0,g=a.input.charCodeAt(a.position);0!==g;){for(;e(g);)g=a.input.charCodeAt(++a.position);if(b&&35===g)do g=a.input.charCodeAt(++a.position);while(10!==g&&13!==g&&0!==g);if(!d(g))break;for(t(a),g=a.input.charCodeAt(a.position),f++,a.lineIndent=0;32===g;)a.lineIndent++,g=a.input.charCodeAt(++a.position)}return-1!==c&&0!==f&&a.lineIndent<c&&p(a,"deficient indentation"),f}function v(a){var b,c=a.position;return b=a.input.charCodeAt(c),45!==b&&46!==b||b!==a.input.charCodeAt(c+1)||b!==a.input.charCodeAt(c+2)||(c+=3,b=a.input.charCodeAt(c),0!==b&&!f(b))?!1:!0}function w(a,b){1===b?a.result+=" ":b>1&&(a.result+=O.repeat("\n",b-1))}function x(a,b,c){var h,i,j,k,l,m,n,o,p,r=a.kind,s=a.result;if(p=a.input.charCodeAt(a.position),f(p)||g(p)||35===p||38===p||42===p||33===p||124===p||62===p||39===p||34===p||37===p||64===p||96===p)return!1;if((63===p||45===p)&&(i=a.input.charCodeAt(a.position+1),f(i)||c&&g(i)))return!1;for(a.kind="scalar",a.result="",j=k=a.position,l=!1;0!==p;){if(58===p){if(i=a.input.charCodeAt(a.position+1),f(i)||c&&g(i))break}else if(35===p){if(h=a.input.charCodeAt(a.position-1),f(h))break}else{if(a.position===a.lineStart&&v(a)||c&&g(p))break;if(d(p)){if(m=a.line,n=a.lineStart,o=a.lineIndent,u(a,!1,-1),a.lineIndent>=b){l=!0,p=a.input.charCodeAt(a.position);continue}a.position=k,a.line=m,a.lineStart=n,a.lineIndent=o;break}}l&&(q(a,j,k,!1),w(a,a.line-m),j=k=a.position,l=!1),e(p)||(k=a.position+1),p=a.input.charCodeAt(++a.position)}return q(a,j,k,!1),a.result?!0:(a.kind=r,a.result=s,!1)}function y(a,b){var c,e,f;if(c=a.input.charCodeAt(a.position),39!==c)return!1;for(a.kind="scalar",a.result="",a.position++,e=f=a.position;0!==(c=a.input.charCodeAt(a.position));)if(39===c){if(q(a,e,a.position,!0),c=a.input.charCodeAt(++a.position),39!==c)return!0;e=a.position,a.position++,f=a.position}else d(c)?(q(a,e,f,!0),w(a,u(a,!1,b)),e=f=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a single quoted scalar"):(a.position++,f=a.position);o(a,"unexpected end of the stream within a single quoted scalar")}function z(a,b){var c,e,f,g,j,k;if(k=a.input.charCodeAt(a.position),34!==k)return!1;for(a.kind="scalar",a.result="",a.position++,c=e=a.position;0!==(k=a.input.charCodeAt(a.position));){if(34===k)return q(a,c,a.position,!0),a.position++,!0;if(92===k){if(q(a,c,a.position,!0),k=a.input.charCodeAt(++a.position),d(k))u(a,!1,b);else if(256>k&&ea[k])a.result+=fa[k],a.position++;else if((j=i(k))>0){for(f=j,g=0;f>0;f--)k=a.input.charCodeAt(++a.position),(j=h(k))>=0?g=(g<<4)+j:o(a,"expected hexadecimal character");a.result+=l(g),a.position++}else o(a,"unknown escape sequence");c=e=a.position}else d(k)?(q(a,c,e,!0),w(a,u(a,!1,b)),c=e=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a double quoted scalar"):(a.position++,e=a.position)}o(a,"unexpected end of the stream within a double quoted scalar")}function A(a,b){var c,d,e,g,h,i,j,k,l,m,n,p=!0,q=a.tag,r=a.anchor,t={};if(n=a.input.charCodeAt(a.position),91===n)g=93,j=!1,d=[];else{if(123!==n)return!1;g=125,j=!0,d={}}for(null!==a.anchor&&(a.anchorMap[a.anchor]=d),n=a.input.charCodeAt(++a.position);0!==n;){if(u(a,!0,b),n=a.input.charCodeAt(a.position),n===g)return a.position++,a.tag=q,a.anchor=r,a.kind=j?"mapping":"sequence",a.result=d,!0;p||o(a,"missed comma between flow collection entries"),l=k=m=null,h=i=!1,63===n&&(e=a.input.charCodeAt(a.position+1),f(e)&&(h=i=!0,a.position++,u(a,!0,b))),c=a.line,H(a,b,U,!1,!0),l=a.tag,k=a.result,u(a,!0,b),n=a.input.charCodeAt(a.position),!i&&a.line!==c||58!==n||(h=!0,n=a.input.charCodeAt(++a.position),u(a,!0,b),H(a,b,U,!1,!0),m=a.result),j?s(a,d,t,l,k,m):h?d.push(s(a,null,t,l,k,m)):d.push(k),u(a,!0,b),n=a.input.charCodeAt(a.position),44===n?(p=!0,n=a.input.charCodeAt(++a.position)):p=!1}o(a,"unexpected end of the stream within a flow collection")}function B(a,b){var c,f,g,h,i=Y,k=!1,l=!1,m=b,n=0,p=!1;if(h=a.input.charCodeAt(a.position),124===h)f=!1;else{if(62!==h)return!1;f=!0}for(a.kind="scalar",a.result="";0!==h;)if(h=a.input.charCodeAt(++a.position),43===h||45===h)Y===i?i=43===h?$:Z:o(a,"repeat of a chomping mode identifier");else{if(!((g=j(h))>=0))break;0===g?o(a,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?o(a,"repeat of an indentation width identifier"):(m=b+g-1,l=!0)}if(e(h)){do h=a.input.charCodeAt(++a.position);while(e(h));if(35===h)do h=a.input.charCodeAt(++a.position);while(!d(h)&&0!==h);
}for(;0!==h;){for(t(a),a.lineIndent=0,h=a.input.charCodeAt(a.position);(!l||a.lineIndent<m)&&32===h;)a.lineIndent++,h=a.input.charCodeAt(++a.position);if(!l&&a.lineIndent>m&&(m=a.lineIndent),d(h))n++;else{if(a.lineIndent<m){i===$?a.result+=O.repeat("\n",k?1+n:n):i===Y&&k&&(a.result+="\n");break}for(f?e(h)?(p=!0,a.result+=O.repeat("\n",k?1+n:n)):p?(p=!1,a.result+=O.repeat("\n",n+1)):0===n?k&&(a.result+=" "):a.result+=O.repeat("\n",n):a.result+=O.repeat("\n",k?1+n:n),k=!0,l=!0,n=0,c=a.position;!d(h)&&0!==h;)h=a.input.charCodeAt(++a.position);q(a,c,a.position,!1)}}return!0}function C(a,b){var c,d,e,g=a.tag,h=a.anchor,i=[],j=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=i),e=a.input.charCodeAt(a.position);0!==e&&45===e&&(d=a.input.charCodeAt(a.position+1),f(d));)if(j=!0,a.position++,u(a,!0,-1)&&a.lineIndent<=b)i.push(null),e=a.input.charCodeAt(a.position);else if(c=a.line,H(a,b,W,!1,!0),i.push(a.result),u(a,!0,-1),e=a.input.charCodeAt(a.position),(a.line===c||a.lineIndent>b)&&0!==e)o(a,"bad indentation of a sequence entry");else if(a.lineIndent<b)break;return j?(a.tag=g,a.anchor=h,a.kind="sequence",a.result=i,!0):!1}function D(a,b,c){var d,g,h,i,j,k=a.tag,l=a.anchor,m={},n={},p=null,q=null,r=null,t=!1,v=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=m),j=a.input.charCodeAt(a.position);0!==j;){if(d=a.input.charCodeAt(a.position+1),h=a.line,i=a.position,63!==j&&58!==j||!f(d)){if(!H(a,c,V,!1,!0))break;if(a.line===h){for(j=a.input.charCodeAt(a.position);e(j);)j=a.input.charCodeAt(++a.position);if(58===j)j=a.input.charCodeAt(++a.position),f(j)||o(a,"a whitespace character is expected after the key-value separator within a block mapping"),t&&(s(a,m,n,p,q,null),p=q=r=null),v=!0,t=!1,g=!1,p=a.tag,q=a.result;else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===j?(t&&(s(a,m,n,p,q,null),p=q=r=null),v=!0,t=!0,g=!0):t?(t=!1,g=!0):o(a,"incomplete explicit mapping pair; a key node is missed"),a.position+=1,j=d;if((a.line===h||a.lineIndent>b)&&(H(a,b,X,!0,g)&&(t?q=a.result:r=a.result),t||(s(a,m,n,p,q,r,h,i),p=q=r=null),u(a,!0,-1),j=a.input.charCodeAt(a.position)),a.lineIndent>b&&0!==j)o(a,"bad indentation of a mapping entry");else if(a.lineIndent<b)break}return t&&s(a,m,n,p,q,null),v&&(a.tag=k,a.anchor=l,a.kind="mapping",a.result=m),v}function E(a){var b,c,d,e,g=!1,h=!1;if(e=a.input.charCodeAt(a.position),33!==e)return!1;if(null!==a.tag&&o(a,"duplication of a tag property"),e=a.input.charCodeAt(++a.position),60===e?(g=!0,e=a.input.charCodeAt(++a.position)):33===e?(h=!0,c="!!",e=a.input.charCodeAt(++a.position)):c="!",b=a.position,g){do e=a.input.charCodeAt(++a.position);while(0!==e&&62!==e);a.position<a.length?(d=a.input.slice(b,a.position),e=a.input.charCodeAt(++a.position)):o(a,"unexpected end of the stream within a verbatim tag")}else{for(;0!==e&&!f(e);)33===e&&(h?o(a,"tag suffix cannot contain exclamation marks"):(c=a.input.slice(b-1,a.position+1),ca.test(c)||o(a,"named tag handle cannot contain such characters"),h=!0,b=a.position+1)),e=a.input.charCodeAt(++a.position);d=a.input.slice(b,a.position),ba.test(d)&&o(a,"tag suffix cannot contain flow indicator characters")}return d&&!da.test(d)&&o(a,"tag name cannot contain such characters: "+d),g?a.tag=d:T.call(a.tagMap,c)?a.tag=a.tagMap[c]+d:"!"===c?a.tag="!"+d:"!!"===c?a.tag="tag:yaml.org,2002:"+d:o(a,'undeclared tag handle "'+c+'"'),!0}function F(a){var b,c;if(c=a.input.charCodeAt(a.position),38!==c)return!1;for(null!==a.anchor&&o(a,"duplication of an anchor property"),c=a.input.charCodeAt(++a.position),b=a.position;0!==c&&!f(c)&&!g(c);)c=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an anchor node must contain at least one character"),a.anchor=a.input.slice(b,a.position),!0}function G(a){var b,c,d;if(d=a.input.charCodeAt(a.position),42!==d)return!1;for(d=a.input.charCodeAt(++a.position),b=a.position;0!==d&&!f(d)&&!g(d);)d=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an alias node must contain at least one character"),c=a.input.slice(b,a.position),a.anchorMap.hasOwnProperty(c)||o(a,'unidentified alias "'+c+'"'),a.result=a.anchorMap[c],u(a,!0,-1),!0}function H(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=1,p=!1,q=!1;if(null!==a.listener&&a.listener("open",a),a.tag=null,a.anchor=null,a.kind=null,a.result=null,f=g=h=X===c||W===c,d&&u(a,!0,-1)&&(p=!0,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)),1===n)for(;E(a)||F(a);)u(a,!0,-1)?(p=!0,h=f,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)):h=!1;if(h&&(h=p||e),(1===n||X===c)&&(l=U===c||V===c?b:b+1,m=a.position-a.lineStart,1===n?h&&(C(a,m)||D(a,m,l))||A(a,l)?q=!0:(g&&B(a,l)||y(a,l)||z(a,l)?q=!0:G(a)?(q=!0,(null!==a.tag||null!==a.anchor)&&o(a,"alias node should not have any properties")):x(a,l,U===c)&&(q=!0,null===a.tag&&(a.tag="?")),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):0===n&&(q=h&&C(a,m))),null!==a.tag&&"!"!==a.tag)if("?"===a.tag){for(i=0,j=a.implicitTypes.length;j>i;i+=1)if(k=a.implicitTypes[i],k.resolve(a.result)){a.result=k.construct(a.result),a.tag=k.tag,null!==a.anchor&&(a.anchorMap[a.anchor]=a.result);break}}else T.call(a.typeMap[a.kind||"fallback"],a.tag)?(k=a.typeMap[a.kind||"fallback"][a.tag],null!==a.result&&k.kind!==a.kind&&o(a,"unacceptable node kind for !<"+a.tag+'> tag; it should be "'+k.kind+'", not "'+a.kind+'"'),k.resolve(a.result)?(a.result=k.construct(a.result),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):o(a,"cannot resolve a node with !<"+a.tag+"> explicit tag")):o(a,"unknown tag !<"+a.tag+">");return null!==a.listener&&a.listener("close",a),null!==a.tag||null!==a.anchor||q}function I(a){var b,c,g,h,i=a.position,j=!1;for(a.version=null,a.checkLineBreaks=a.legacy,a.tagMap={},a.anchorMap={};0!==(h=a.input.charCodeAt(a.position))&&(u(a,!0,-1),h=a.input.charCodeAt(a.position),!(a.lineIndent>0||37!==h));){for(j=!0,h=a.input.charCodeAt(++a.position),b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);for(c=a.input.slice(b,a.position),g=[],c.length<1&&o(a,"directive name must not be less than one character in length");0!==h;){for(;e(h);)h=a.input.charCodeAt(++a.position);if(35===h){do h=a.input.charCodeAt(++a.position);while(0!==h&&!d(h));break}if(d(h))break;for(b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);g.push(a.input.slice(b,a.position))}0!==h&&t(a),T.call(ha,c)?ha[c](a,c,g):p(a,'unknown document directive "'+c+'"')}return u(a,!0,-1),0===a.lineIndent&&45===a.input.charCodeAt(a.position)&&45===a.input.charCodeAt(a.position+1)&&45===a.input.charCodeAt(a.position+2)?(a.position+=3,u(a,!0,-1)):j&&o(a,"directives end mark is expected"),H(a,a.lineIndent-1,X,!1,!0),u(a,!0,-1),a.checkLineBreaks&&aa.test(a.input.slice(i,a.position))&&p(a,"non-ASCII line breaks are interpreted as content"),a.documents.push(a.result),a.position===a.lineStart&&v(a)?void(46===a.input.charCodeAt(a.position)&&(a.position+=3,u(a,!0,-1))):void(a.position<a.length-1&&o(a,"end of the stream or a document separator is expected"))}function J(a,b){a=String(a),b=b||{},0!==a.length&&(10!==a.charCodeAt(a.length-1)&&13!==a.charCodeAt(a.length-1)&&(a+="\n"),65279===a.charCodeAt(0)&&(a=a.slice(1)));var c=new m(a,b);for(c.input+="\x00";32===c.input.charCodeAt(c.position);)c.lineIndent+=1,c.position+=1;for(;c.position<c.length-1;)I(c);return c.documents}function K(a,b,c){var d,e,f=J(a,c);for(d=0,e=f.length;e>d;d+=1)b(f[d])}function L(a,b){var c=J(a,b);if(0===c.length)return void 0;if(1===c.length)return c[0];throw new P("expected a single document in the stream, but found more")}function M(a,b,c){K(a,b,O.extend({schema:R},c))}function N(a,b){return L(a,O.extend({schema:R},b))}for(var O=a("./common"),P=a("./exception"),Q=a("./mark"),R=a("./schema/default_safe"),S=a("./schema/default_full"),T=Object.prototype.hasOwnProperty,U=1,V=2,W=3,X=4,Y=1,Z=2,$=3,_=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,aa=/[\x85\u2028\u2029]/,ba=/[,\[\]\{\}]/,ca=/^(?:!|!!|![a-z\-]+!)$/i,da=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,ea=new Array(256),fa=new Array(256),ga=0;256>ga;ga++)ea[ga]=k(ga)?1:0,fa[ga]=k(ga);var ha={YAML:function(a,b,c){var d,e,f;null!==a.version&&o(a,"duplication of %YAML directive"),1!==c.length&&o(a,"YAML directive accepts exactly one argument"),d=/^([0-9]+)\.([0-9]+)$/.exec(c[0]),null===d&&o(a,"ill-formed argument of the YAML directive"),e=parseInt(d[1],10),f=parseInt(d[2],10),1!==e&&o(a,"unacceptable YAML version of the document"),a.version=c[0],a.checkLineBreaks=2>f,1!==f&&2!==f&&p(a,"unsupported YAML version of the document")},TAG:function(a,b,c){var d,e;2!==c.length&&o(a,"TAG directive accepts exactly two arguments"),d=c[0],e=c[1],ca.test(d)||o(a,"ill-formed tag handle (first argument) of the TAG directive"),T.call(a.tagMap,d)&&o(a,'there is a previously declared suffix for "'+d+'" tag handle'),da.test(e)||o(a,"ill-formed tag prefix (second argument) of the TAG directive"),a.tagMap[d]=e}};b.exports.loadAll=K,b.exports.load=L,b.exports.safeLoadAll=M,b.exports.safeLoad=N},{"./common":23,"./exception":25,"./mark":27,"./schema/default_full":30,"./schema/default_safe":31}],27:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.name=a,this.buffer=b,this.position=c,this.line=d,this.column=e}var e=a("./common");d.prototype.getSnippet=function(a,b){var c,d,f,g,h;if(!this.buffer)return null;for(a=a||4,b=b||75,c="",d=this.position;d>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(d-1));)if(d-=1,this.position-d>b/2-1){c=" ... ",d+=5;break}for(f="",g=this.position;g<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(g));)if(g+=1,g-this.position>b/2-1){f=" ... ",g-=5;break}return h=this.buffer.slice(d,g),e.repeat(" ",a)+c+h+f+"\n"+e.repeat(" ",a+this.position-d+c.length)+"^"},d.prototype.toString=function(a){var b,c="";return this.name&&(c+='in "'+this.name+'" '),c+="at line "+(this.line+1)+", column "+(this.column+1),a||(b=this.getSnippet(),b&&(c+=":\n"+b)),c},b.exports=d},{"./common":23}],28:[function(a,b,c){"use strict";function d(a,b,c){var e=[];return a.include.forEach(function(a){c=d(a,b,c)}),a[b].forEach(function(a){c.forEach(function(b,c){b.tag===a.tag&&b.kind===a.kind&&e.push(c)}),c.push(a)}),c.filter(function(a,b){return-1===e.indexOf(b)})}function e(){function a(a){d[a.kind][a.tag]=d.fallback[a.tag]=a}var b,c,d={scalar:{},sequence:{},mapping:{},fallback:{}};for(b=0,c=arguments.length;c>b;b+=1)arguments[b].forEach(a);return d}function f(a){this.include=a.include||[],this.implicit=a.implicit||[],this.explicit=a.explicit||[],this.implicit.forEach(function(a){if(a.loadKind&&"scalar"!==a.loadKind)throw new h("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=d(this,"implicit",[]),this.compiledExplicit=d(this,"explicit",[]),this.compiledTypeMap=e(this.compiledImplicit,this.compiledExplicit)}var g=a("./common"),h=a("./exception"),i=a("./type");f.DEFAULT=null,f.create=function(){var a,b;switch(arguments.length){case 1:a=f.DEFAULT,b=arguments[0];break;case 2:a=arguments[0],b=arguments[1];break;default:throw new h("Wrong number of arguments for Schema.create function")}if(a=g.toArray(a),b=g.toArray(b),!a.every(function(a){return a instanceof f}))throw new h("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!b.every(function(a){return a instanceof i}))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new f({include:a,explicit:b})},b.exports=f},{"./common":23,"./exception":25,"./type":34}],29:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./json")]})},{"../schema":28,"./json":33}],30:[function(a,b,c){"use strict";var d=a("../schema");b.exports=d.DEFAULT=new d({include:[a("./default_safe")],explicit:[a("../type/js/undefined"),a("../type/js/regexp"),a("../type/js/function")]})},{"../schema":28,"../type/js/function":39,"../type/js/regexp":40,"../type/js/undefined":41,"./default_safe":31}],31:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./core")],implicit:[a("../type/timestamp"),a("../type/merge")],explicit:[a("../type/binary"),a("../type/omap"),a("../type/pairs"),a("../type/set")]})},{"../schema":28,"../type/binary":35,"../type/merge":43,"../type/omap":45,"../type/pairs":46,"../type/set":48,"../type/timestamp":50,"./core":29}],32:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({explicit:[a("../type/str"),a("../type/seq"),a("../type/map")]})},{"../schema":28,"../type/map":42,"../type/seq":47,"../type/str":49}],33:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./failsafe")],implicit:[a("../type/null"),a("../type/bool"),a("../type/int"),a("../type/float")]})},{"../schema":28,"../type/bool":36,"../type/float":37,"../type/int":38,"../type/null":44,"./failsafe":32}],34:[function(a,b,c){"use strict";function d(a){var b={};return null!==a&&Object.keys(a).forEach(function(c){a[c].forEach(function(a){b[String(a)]=c})}),b}function e(a,b){if(b=b||{},Object.keys(b).forEach(function(b){if(-1===g.indexOf(b))throw new f('Unknown option "'+b+'" is met in definition of "'+a+'" YAML type.')}),this.tag=a,this.kind=b.kind||null,this.resolve=b.resolve||function(){return!0},this.construct=b.construct||function(a){return a},this.instanceOf=b.instanceOf||null,this.predicate=b.predicate||null,this.represent=b.represent||null,this.defaultStyle=b.defaultStyle||null,this.styleAliases=d(b.styleAliases||null),-1===h.indexOf(this.kind))throw new f('Unknown kind "'+this.kind+'" is specified for "'+a+'" YAML type.')}var f=a("./exception"),g=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],h=["scalar","sequence","mapping"];b.exports=e},{"./exception":25}],35:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;var b,c,d=0,e=a.length,f=l;for(c=0;e>c;c++)if(b=f.indexOf(a.charAt(c)),!(b>64)){if(0>b)return!1;d+=6}return d%8===0}function e(a){var b,c,d=a.replace(/[\r\n=]/g,""),e=d.length,f=l,g=0,i=[];for(b=0;e>b;b++)b%4===0&&b&&(i.push(g>>16&255),i.push(g>>8&255),i.push(255&g)),g=g<<6|f.indexOf(d.charAt(b));return c=e%4*6,0===c?(i.push(g>>16&255),i.push(g>>8&255),i.push(255&g)):18===c?(i.push(g>>10&255),i.push(g>>2&255)):12===c&&i.push(g>>4&255),h?h.from?h.from(i):new h(i):i}function f(a){var b,c,d="",e=0,f=a.length,g=l;for(b=0;f>b;b++)b%3===0&&b&&(d+=g[e>>18&63],d+=g[e>>12&63],d+=g[e>>6&63],d+=g[63&e]),e=(e<<8)+a[b];return c=f%3,0===c?(d+=g[e>>18&63],d+=g[e>>12&63],d+=g[e>>6&63],d+=g[63&e]):2===c?(d+=g[e>>10&63],d+=g[e>>4&63],d+=g[e<<2&63],d+=g[64]):1===c&&(d+=g[e>>2&63],d+=g[e<<4&63],d+=g[64],d+=g[64]),d}function g(a){return h&&h.isBuffer(a)}var h;try{var i=a;h=i("buffer").Buffer}catch(j){}var k=a("../type"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";b.exports=new k("tag:yaml.org,2002:binary",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../type":34}],36:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;var b=a.length;return 4===b&&("true"===a||"True"===a||"TRUE"===a)||5===b&&("false"===a||"False"===a||"FALSE"===a)}function e(a){return"true"===a||"True"===a||"TRUE"===a}function f(a){return"[object Boolean]"===Object.prototype.toString.call(a)}var g=a("../type");b.exports=new g("tag:yaml.org,2002:bool",{kind:"scalar",resolve:d,construct:e,predicate:f,represent:{lowercase:function(a){return a?"true":"false"},uppercase:function(a){return a?"TRUE":"FALSE"},camelcase:function(a){return a?"True":"False"}},defaultStyle:"lowercase"})},{"../type":34}],37:[function(a,b,c){"use strict";function d(a){return null===a?!1:j.test(a)?!0:!1}function e(a){var b,c,d,e;return b=a.replace(/_/g,"").toLowerCase(),c="-"===b[0]?-1:1,e=[],"+-".indexOf(b[0])>=0&&(b=b.slice(1)),".inf"===b?1===c?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===b?NaN:b.indexOf(":")>=0?(b.split(":").forEach(function(a){e.unshift(parseFloat(a,10))}),b=0,d=1,e.forEach(function(a){b+=a*d,d*=60}),c*b):c*parseFloat(b,10)}function f(a,b){var c;if(isNaN(a))switch(b){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===a)switch(b){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===a)switch(b){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(h.isNegativeZero(a))return"-0.0";return c=a.toString(10),k.test(c)?c.replace("e",".e"):c}function g(a){return"[object Number]"===Object.prototype.toString.call(a)&&(a%1!==0||h.isNegativeZero(a))}var h=a("../common"),i=a("../type"),j=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),k=/^[-+]?[0-9]+e/;b.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f,defaultStyle:"lowercase"})},{"../common":23,"../type":34}],38:[function(a,b,c){"use strict";function d(a){return a>=48&&57>=a||a>=65&&70>=a||a>=97&&102>=a}function e(a){return a>=48&&55>=a}function f(a){return a>=48&&57>=a}function g(a){if(null===a)return!1;var b,c=a.length,g=0,h=!1;if(!c)return!1;if(b=a[g],("-"===b||"+"===b)&&(b=a[++g]),"0"===b){if(g+1===c)return!0;if(b=a[++g],"b"===b){for(g++;c>g;g++)if(b=a[g],"_"!==b){if("0"!==b&&"1"!==b)return!1;h=!0}return h}if("x"===b){for(g++;c>g;g++)if(b=a[g],"_"!==b){if(!d(a.charCodeAt(g)))return!1;h=!0}return h}for(;c>g;g++)if(b=a[g],"_"!==b){if(!e(a.charCodeAt(g)))return!1;h=!0}return h}for(;c>g;g++)if(b=a[g],"_"!==b){if(":"===b)break;if(!f(a.charCodeAt(g)))return!1;h=!0}return h?":"!==b?!0:/^(:[0-5]?[0-9])+$/.test(a.slice(g)):!1}function h(a){var b,c,d=a,e=1,f=[];return-1!==d.indexOf("_")&&(d=d.replace(/_/g,"")),b=d[0],("-"===b||"+"===b)&&("-"===b&&(e=-1),d=d.slice(1),b=d[0]),"0"===d?0:"0"===b?"b"===d[1]?e*parseInt(d.slice(2),2):"x"===d[1]?e*parseInt(d,16):e*parseInt(d,8):-1!==d.indexOf(":")?(d.split(":").forEach(function(a){f.unshift(parseInt(a,10))}),d=0,c=1,f.forEach(function(a){d+=a*c,c*=60}),e*d):e*parseInt(d,10)}function i(a){return"[object Number]"===Object.prototype.toString.call(a)&&a%1===0&&!j.isNegativeZero(a)}var j=a("../common"),k=a("../type");b.exports=new k("tag:yaml.org,2002:int",{kind:"scalar",resolve:g,construct:h,predicate:i,represent:{binary:function(a){return"0b"+a.toString(2)},octal:function(a){return"0"+a.toString(8)},decimal:function(a){return a.toString(10)},hexadecimal:function(a){return"0x"+a.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":23,"../type":34}],39:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;try{var b="("+a+")",c=h.parse(b,{range:!0});return"Program"!==c.type||1!==c.body.length||"ExpressionStatement"!==c.body[0].type||"FunctionExpression"!==c.body[0].expression.type?!1:!0}catch(d){return!1}}function e(a){var b,c="("+a+")",d=h.parse(c,{range:!0}),e=[];if("Program"!==d.type||1!==d.body.length||"ExpressionStatement"!==d.body[0].type||"FunctionExpression"!==d.body[0].expression.type)throw new Error("Failed to resolve function");return d.body[0].expression.params.forEach(function(a){e.push(a.name)}),b=d.body[0].expression.body.range,new Function(e,c.slice(b[0]+1,b[1]-1))}function f(a){return a.toString()}function g(a){return"[object Function]"===Object.prototype.toString.call(a)}var h;try{var i=a;h=i("esprima")}catch(j){"undefined"!=typeof window&&(h=window.esprima)}var k=a("../../type");b.exports=new k("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":34}],40:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;if(0===a.length)return!1;var b=a,c=/\/([gim]*)$/.exec(a),d="";if("/"===b[0]){if(c&&(d=c[1]),d.length>3)return!1;if("/"!==b[b.length-d.length-1])return!1}return!0}function e(a){var b=a,c=/\/([gim]*)$/.exec(a),d="";return"/"===b[0]&&(c&&(d=c[1]),b=b.slice(1,b.length-d.length-1)),new RegExp(b,d)}function f(a){var b="/"+a.source+"/";return a.global&&(b+="g"),a.multiline&&(b+="m"),a.ignoreCase&&(b+="i"),b}function g(a){return"[object RegExp]"===Object.prototype.toString.call(a)}var h=a("../../type");b.exports=new h("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":34}],41:[function(a,b,c){"use strict";function d(){return!0}function e(){return void 0}function f(){return""}function g(a){return"undefined"==typeof a}var h=a("../../type");b.exports=new h("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":34}],42:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(a){return null!==a?a:{}}})},{"../type":34}],43:[function(a,b,c){"use strict";function d(a){return"<<"===a||null===a}var e=a("../type");b.exports=new e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:d})},{"../type":34}],44:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b=a.length;return 1===b&&"~"===a||4===b&&("null"===a||"Null"===a||"NULL"===a)}function e(){return null}function f(a){return null===a}var g=a("../type");b.exports=new g("tag:yaml.org,2002:null",{kind:"scalar",resolve:d,construct:e,predicate:f,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":34}],45:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c,d,e,f,i=[],j=a;for(b=0,c=j.length;c>b;b+=1){if(d=j[b],f=!1,"[object Object]"!==h.call(d))return!1;for(e in d)if(g.call(d,e)){if(f)return!1;f=!0}if(!f)return!1;if(-1!==i.indexOf(e))return!1;i.push(e)}return!0}function e(a){return null!==a?a:[]}var f=a("../type"),g=Object.prototype.hasOwnProperty,h=Object.prototype.toString;b.exports=new f("tag:yaml.org,2002:omap",{kind:"sequence",resolve:d,construct:e})},{"../type":34}],46:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c,d,e,f,h=a;for(f=new Array(h.length),b=0,c=h.length;c>b;b+=1){if(d=h[b],"[object Object]"!==g.call(d))return!1;if(e=Object.keys(d),1!==e.length)return!1;f[b]=[e[0],d[e[0]]]}return!0}function e(a){if(null===a)return[];var b,c,d,e,f,g=a;for(f=new Array(g.length),b=0,c=g.length;c>b;b+=1)d=g[b],e=Object.keys(d),f[b]=[e[0],d[e[0]]];return f}var f=a("../type"),g=Object.prototype.toString;b.exports=new f("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:d,construct:e})},{"../type":34}],47:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(a){return null!==a?a:[]}})},{"../type":34}],48:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c=a;for(b in c)if(g.call(c,b)&&null!==c[b])return!1;return!0}function e(a){return null!==a?a:{}}var f=a("../type"),g=Object.prototype.hasOwnProperty;b.exports=new f("tag:yaml.org,2002:set",{kind:"mapping",resolve:d,construct:e})},{"../type":34}],49:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:str",{kind:"scalar",construct:function(a){return null!==a?a:""}})},{"../type":34}],50:[function(a,b,c){"use strict";function d(a){return null===a?!1:null!==h.exec(a)?!0:null!==i.exec(a)?!0:!1}function e(a){var b,c,d,e,f,g,j,k,l,m,n=0,o=null;if(b=h.exec(a),null===b&&(b=i.exec(a)),null===b)throw new Error("Date resolve error");if(c=+b[1],d=+b[2]-1,e=+b[3],!b[4])return new Date(Date.UTC(c,d,e));if(f=+b[4],g=+b[5],j=+b[6],b[7]){for(n=b[7].slice(0,3);n.length<3;)n+="0";n=+n}return b[9]&&(k=+b[10],l=+(b[11]||0),o=6e4*(60*k+l),"-"===b[9]&&(o=-o)),m=new Date(Date.UTC(c,d,e,f,g,j,n)),o&&m.setTime(m.getTime()-o),m}function f(a){return a.toISOString()}var g=a("../type"),h=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");b.exports=new g("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:d,construct:e,instanceOf:Date,represent:f})},{"../type":34}],51:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){function a(a,b){Array.isArray(a)||(a=[a]);for(var c=!!b,e=[],f=0;f<a.length;f++){var g=a[f];"object"===("undefined"==typeof g?"undefined":d(g))?(e.push(g),c=!0):e.push({type:g})}return c&&e}function c(b){if(b.type)if("string"!=typeof b.type){var e=a(b.type);e&&(b.anyOf=e,delete b.type)}else"any"==b.type&&delete b.type;if(b["extends"]){var f=b["extends"];Array.isArray(f)||(f=[f]),b.allOf=f,delete b["extends"]}if(b.disallow&&("string"==typeof b.disallow?b.not={type:b.disallow}:b.not={anyOf:a(b.disallow,!0)},delete b.disallow),b.properties){var g=Array.isArray(b.required)?b.required:[];for(var h in b.properties){var i=b.properties[h];i&&"boolean"==typeof i.required&&(i.required&&g.push(h),delete i.required)}g.length&&(b.required=g)}if(b.dependencies)for(var h in b.dependencies)"string"==typeof b.dependencies[h]&&(b.dependencies[h]=[b.dependencies[h]]);"boolean"==typeof b.required&&delete b.required,"undefined"!=typeof b.divisibleBy&&(b.multipleOf=b.divisibleBy,delete b.divisibleBy);for(var h in b)if("properties"===h||"patternProperties"===h||"dependencies"===h)for(var j in b[h])b[h][j]=c(b[h][j]);else if("enum"!==h)if(Array.isArray(b[h]))for(var k=0;k<b[h].length;k++)b[h][k]=c(b[h][k]);else"object"===d(b[h])&&(b[h]=c(b[h]));return b}var e={v4:c};return"undefined"!=typeof b&&(b.exports=e),e})()},{}],52:[function(a,b,c){"use strict";function d(a,b){k("Bundling $ref pointers in %s",a.$refs._root$Ref.path);var c=[];e(a,"schema",a.$refs._root$Ref.path+"#","#",c,a.$refs,b),g(c)}function e(a,b,c,d,g,k,l){var m=null===b?a:a[b];if(m&&"object"===("undefined"==typeof m?"undefined":h(m)))if(i.is$Ref(m))f(a,b,c,d,g,k,l);else{var n=Object.keys(m),o=n.indexOf("definitions");o>0&&n.splice(0,0,n.splice(o,1)[0]),n.forEach(function(a){var b=j.join(c,a),h=j.join(d,a),n=m[a];i.is$Ref(n)?f(m,a,c,h,g,k,l):e(m,a,b,h,g,k,l)})}}function f(a,b,c,d,f,g,h){if(!f.some(function(c){return c.parent===a&&c.key===b})){var k=null===b?a:a[b],m=l.resolve(c,k.$ref),n=g._resolve(m,h),o=j.parse(d).length,p=l.stripHash(n.path),q=l.getHash(n.path),r=p!==g._root$Ref.path,s=i.isExtended$Ref(k);f.push({$ref:k,parent:a,key:b,pathFromRoot:d,depth:o,file:p,hash:q,value:n.value,circular:n.circular,extended:s,external:r}),e(n.value,null,n.path,d,f,g,h)}}function g(a){a.sort(function(a,b){return a.file!==b.file?a.file<b.file?-1:1:a.hash!==b.hash?a.hash<b.hash?-1:1:a.circular!==b.circular?a.circular?-1:1:a.extended!==b.extended?a.extended?1:-1:a.depth!==b.depth?a.depth-b.depth:b.pathFromRoot.lastIndexOf("/definitions")-a.pathFromRoot.lastIndexOf("/definitions")});var b,c,d;a.forEach(function(a){k('Re-mapping $ref pointer "%s" at %s',a.$ref.$ref,a.pathFromRoot),a.external?a.file===b&&a.hash===c?a.$ref.$ref=d:a.file===b&&0===a.hash.indexOf(c+"/")?a.$ref.$ref=j.join(d,j.parse(a.hash)):(b=a.file,c=a.hash,d=a.pathFromRoot,a.$ref=a.parent[a.key]=i.dereference(a.$ref,a.value),a.circular&&(a.$ref.$ref=a.pathFromRoot)):a.$ref.$ref=a.hash,k("    new value: %s",a.$ref&&a.$ref.$ref?a.$ref.$ref:"[object Object]")})}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("./ref"),j=a("./pointer"),k=a("./util/debug"),l=a("./util/url");b.exports=d},{"./pointer":61,"./ref":62,"./util/debug":67,"./util/url":70}],53:[function(a,b,c){"use strict";function d(a,b){l("Dereferencing $ref pointers in %s",a.$refs._root$Ref.path);var c=e(a.schema,a.$refs._root$Ref.path,"#",[],a.$refs,b);a.$refs.circular=c.circular,a.schema=c.value}function e(a,b,c,d,k,l){var m,n={value:a,circular:!1};return a&&"object"===("undefined"==typeof a?"undefined":h(a))&&(d.push(a),i.isAllowed$Ref(a,l)?(m=f(a,b,c,d,k,l),n.circular=m.circular,n.value=m.value):Object.keys(a).forEach(function(h){var o=j.join(b,h),p=j.join(c,h),q=a[h],r=!1;i.isAllowed$Ref(q,l)?(m=f(q,o,p,d,k,l),r=m.circular,a[h]=m.value):-1===d.indexOf(q)?(m=e(q,o,p,d,k,l),r=m.circular,a[h]=m.value):r=g(o,k,l),n.circular=n.circular||r}),d.pop()),n}function f(a,b,c,d,f,h){l('Dereferencing $ref pointer "%s" at %s',a.$ref,b);var j=m.resolve(b,a.$ref),k=f._resolve(j,h),n=k.circular,o=n||-1!==d.indexOf(k.value);o&&g(b,f,h);var p=i.dereference(a,k.value);if(!o){var q=e(p,k.path,c,d,f,h);o=q.circular,p=q.value}return o&&!n&&"ignore"===h.dereference.circular&&(p=a),n&&(p.$ref=c),{circular:o,value:p}}function g(a,b,c){if(b.circular=!0,!c.dereference.circular)throw k.reference("Circular $ref pointer found at %s",a);return!0}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("./ref"),j=a("./pointer"),k=a("ono"),l=a("./util/debug"),m=a("./util/url");b.exports=d},{"./pointer":61,"./ref":62,"./util/debug":67,"./util/url":70,ono:242}],54:[function(a,b,c){(function(c){"use strict";function d(){this.schema=null,this.$refs=new i}function e(a){var b,c,d,e;return a=Array.prototype.slice.call(a),"function"==typeof a[a.length-1]&&(e=a.pop()),"string"==typeof a[0]?(b=a[0],"object"===f(a[2])?(c=a[1],d=a[2]):(c=void 0,d=a[1])):(b="",c=a[0],d=a[1]),d instanceof h||(d=new h(d)),{path:b,schema:c,options:d,callback:e}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=a("./util/promise"),h=a("./options"),i=a("./refs"),j=a("./parse"),k=a("./resolve-external"),l=a("./bundle"),m=a("./dereference"),n=a("./util/url"),o=a("call-me-maybe"),p=a("ono");b.exports=d,b.exports.YAML=a("./util/yaml"),d.parse=function(a,b,c){var d=this,e=new d;return e.parse.apply(e,arguments)},d.prototype.parse=function(a,b,d){var h,k=e(arguments);if(!k.path&&!k.schema){var l=p("Expected a file path, URL, or object. Got %s",k.path||k.schema);return o(k.callback,g.reject(l))}this.schema=null,this.$refs=new i,n.isFileSystemPath(k.path)&&(k.path=n.fromFileSystemPath(k.path)),k.path=n.resolve(n.cwd(),k.path),k.schema&&"object"===f(k.schema)?(this.$refs._add(k.path,k.schema),h=g.resolve(k.schema)):h=j(k.path,this.$refs,k.options);var m=this;return h.then(function(a){if(!a||"object"!==("undefined"==typeof a?"undefined":f(a))||c.isBuffer(a))throw p.syntax('"%s" is not a valid JSON Schema',m.$refs._root$Ref.path||a);return m.schema=a,o(k.callback,g.resolve(m.schema))})["catch"](function(a){return o(k.callback,g.reject(a))})},d.resolve=function(a,b,c){var d=this,e=new d;return e.resolve.apply(e,arguments)},d.prototype.resolve=function(a,b,c){var d=this,f=e(arguments);return this.parse(f.path,f.schema,f.options).then(function(){return k(d,f.options)}).then(function(){return o(f.callback,g.resolve(d.$refs))})["catch"](function(a){return o(f.callback,g.reject(a))})},d.bundle=function(a,b,c){var d=this,e=new d;return e.bundle.apply(e,arguments)},d.prototype.bundle=function(a,b,c){var d=this,f=e(arguments);return this.resolve(f.path,f.schema,f.options).then(function(){return l(d,f.options),o(f.callback,g.resolve(d.schema))})["catch"](function(a){return o(f.callback,g.reject(a))})},d.dereference=function(a,b,c){
var d=this,e=new d;return e.dereference.apply(e,arguments)},d.prototype.dereference=function(a,b,c){var d=this,f=e(arguments);return this.resolve(f.path,f.schema,f.options).then(function(){return m(d,f.options),o(f.callback,g.resolve(d.schema))})["catch"](function(a){return o(f.callback,g.reject(a))})}}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":20,"./bundle":52,"./dereference":53,"./options":55,"./parse":56,"./refs":63,"./resolve-external":64,"./util/promise":69,"./util/url":70,"./util/yaml":71,"call-me-maybe":9,ono:242}],55:[function(a,b,c){"use strict";function d(a){e(this,d.defaults),e(this,a)}function e(a,b){if(f(b))for(var c=Object.keys(b),d=0;d<c.length;d++){var g=c[d],h=b[g],i=a[g];f(h)?a[g]=e(i||{},h):void 0!==h&&(a[g]=h)}return a}function f(a){return a&&"object"===("undefined"==typeof a?"undefined":g(a))&&!Array.isArray(a)&&!(a instanceof RegExp)&&!(a instanceof Date)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./parsers/json"),i=a("./parsers/yaml"),j=a("./parsers/text"),k=a("./parsers/binary"),l=a("./resolvers/file"),m=a("./resolvers/http"),n=a("./validators/z-schema");b.exports=d,d.defaults={parse:{json:h,yaml:i,text:j,binary:k},resolve:{file:l,http:m,external:!0},dereference:{circular:!0},validate:{zschema:n}}},{"./parsers/binary":57,"./parsers/json":58,"./parsers/text":59,"./parsers/yaml":60,"./resolvers/file":65,"./resolvers/http":66,"./validators/z-schema":72}],56:[function(a,b,c){(function(c){"use strict";function d(a,b,c){try{a=k.stripHash(a);var d=b._add(a),g={url:a,extension:k.getExtension(a)};return e(g,c).then(function(a){return d.pathType=a.plugin.name,g.data=a.result,f(g,c)}).then(function(a){return d.value=a.result,a.result})}catch(h){return m.reject(h)}}function e(a,b){return new m(function(c,d){function e(b){d(!b||b instanceof SyntaxError?i.syntax('Unable to resolve $ref pointer "%s"',a.url):b)}j("Reading %s",a.url);var f=l.all(b.resolve);f=l.filter(f,"canRead",a),l.sort(f),l.run(f,"read",a).then(c,e)})}function f(a,b){return new m(function(c,d){function e(b){!b.plugin.allowEmpty&&g(b.result)?d(i.syntax('Error parsing "%s" as %s. \nParsed value is empty',a.url,b.plugin.name)):c(b)}function f(b){b?(b=b instanceof Error?b:new Error(b),d(i.syntax(b,"Error parsing %s",a.url))):d(i.syntax("Unable to parse %s",a.url))}j("Parsing %s",a.url);var h=l.all(b.parse),k=l.filter(h,"canParse",a),m=k.length>0?k:h;l.sort(m),l.run(m,"parse",a).then(e,f)})}function g(a){return void 0===a||"object"===("undefined"==typeof a?"undefined":h(a))&&0===Object.keys(a).length||"string"==typeof a&&0===a.trim().length||c.isBuffer(a)&&0===a.length}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("ono"),j=a("./util/debug"),k=a("./util/url"),l=a("./util/plugins"),m=a("./util/promise");b.exports=d}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":20,"./util/debug":67,"./util/plugins":68,"./util/promise":69,"./util/url":70,ono:242}],57:[function(a,b,c){(function(a){"use strict";var c=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;b.exports={order:400,allowEmpty:!0,canParse:function(b){return a.isBuffer(b.data)&&c.test(b.url)},parse:function(b){return a.isBuffer(b.data)?b.data:new a(b.data)}}}).call(this,a("buffer").Buffer)},{buffer:6}],58:[function(a,b,c){(function(c){"use strict";var d=a("../util/promise");b.exports={order:100,allowEmpty:!0,canParse:".json",parse:function(a){return new d(function(b,d){var e=a.data;c.isBuffer(e)&&(e=e.toString()),b("string"==typeof e?0===e.trim().length?void 0:JSON.parse(e):e)})}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":20,"../util/promise":69}],59:[function(a,b,c){(function(a){"use strict";var c=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;b.exports={order:300,allowEmpty:!0,encoding:"utf8",canParse:function(b){return("string"==typeof b.data||a.isBuffer(b.data))&&c.test(b.url)},parse:function(b){if("string"==typeof b.data)return b.data;if(a.isBuffer(b.data))return b.data.toString(this.encoding);throw new Error("data is not text")}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":20}],60:[function(a,b,c){(function(c){"use strict";var d=a("../util/promise"),e=a("../util/yaml");b.exports={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],parse:function(a){return new d(function(b,d){var f=a.data;c.isBuffer(f)&&(f=f.toString()),b("string"==typeof f?e.parse(f):f)})}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":20,"../util/promise":69,"../util/yaml":71}],61:[function(a,b,c){"use strict";function d(a,b){this.$ref=a,this.path=b,this.value=void 0,this.circular=!1}function e(a,b){if(h.isAllowed$Ref(a.value,b)){var c=i.resolve(a.path,a.value.$ref);if(c!==a.path){var d=a.$ref.$refs._resolve(c,b);return h.isExtended$Ref(a.value)?a.value=h.dereference(a.value,d.value):(a.$ref=d.$ref,a.path=d.path,a.value=d.value),!0}a.circular=!0}}function f(a,b,c){if(!a.value||"object"!==g(a.value))throw j.syntax('Error assigning $ref pointer "%s". \nCannot set "%s" of a non-object.',a.path,b);return"-"===b&&Array.isArray(a.value)?a.value.push(c):a.value[b]=c,c}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d;var h=a("./ref"),i=a("./util/url"),j=a("ono"),k=/\//g,l=/~/g,m=/~1/g,n=/~0/g;d.prototype.resolve=function(a,b){var c=d.parse(this.path);this.value=a;for(var f=0;f<c.length;f++){e(this,b)&&(this.path=d.join(this.path,c.slice(f)));var g=c[f];if(void 0===this.value[g])throw j.syntax('Error resolving $ref pointer "%s". \nToken "%s" does not exist.',this.path,g);this.value=this.value[g]}return e(this,b),this},d.prototype.set=function(a,b,c){var g,h=d.parse(this.path);if(0===h.length)return this.value=b,b;this.value=a;for(var i=0;i<h.length-1;i++)e(this,c),g=h[i],this.value&&void 0!==this.value[g]?this.value=this.value[g]:this.value=f(this,g,{});return e(this,c),g=h[h.length-1],f(this,g,b),a},d.parse=function(a){var b=i.getHash(a).substr(1);if(!b)return[];b=b.split("/");for(var c=0;c<b.length;c++)b[c]=decodeURI(b[c].replace(m,"/").replace(n,"~"));if(""!==b[0])throw j.syntax('Invalid $ref pointer "%s". Pointers must begin with "#/"',b);return b.slice(1)},d.join=function(a,b){-1===a.indexOf("#")&&(a+="#"),b=Array.isArray(b)?b:[b];for(var c=0;c<b.length;c++){var d=b[c];a+="/"+encodeURI(d.replace(l,"~0").replace(k,"~1"))}return a}},{"./ref":62,"./util/url":70,ono:242}],62:[function(a,b,c){"use strict";function d(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d;var f=a("./pointer");d.prototype.exists=function(a,b){try{return this.resolve(a,b),!0}catch(c){return!1}},d.prototype.get=function(a,b){return this.resolve(a,b).value},d.prototype.resolve=function(a,b){var c=new f(this,a);return c.resolve(this.value,b)},d.prototype.set=function(a,b){var c=new f(this,a);this.value=c.set(this.value,b)},d.is$Ref=function(a){return a&&"object"===("undefined"==typeof a?"undefined":e(a))&&"string"==typeof a.$ref&&a.$ref.length>0},d.isExternal$Ref=function(a){return d.is$Ref(a)&&"#"!==a.$ref[0]},d.isAllowed$Ref=function(a,b){return!d.is$Ref(a)||"#"!==a.$ref[0]&&b&&!b.resolve.external?void 0:!0},d.isExtended$Ref=function(a){return d.is$Ref(a)&&Object.keys(a).length>1},d.dereference=function(a,b){if(b&&"object"===("undefined"==typeof b?"undefined":e(b))&&d.isExtended$Ref(a)){var c={};return Object.keys(a).forEach(function(b){"$ref"!==b&&(c[b]=a[b])}),Object.keys(b).forEach(function(a){a in c||(c[a]=b[a])}),c}return b}},{"./pointer":61}],63:[function(a,b,c){"use strict";function d(){this.circular=!1,this._$refs={},this._root$Ref=null}function e(a,b){var c=Object.keys(a);return b=Array.isArray(b[0])?b[0]:Array.prototype.slice.call(b),b.length>0&&b[0]&&(c=c.filter(function(c){return-1!==b.indexOf(a[c].pathType)})),c.map(function(b){return{encoded:b,decoded:"file"===a[b].pathType?h.toFileSystemPath(b,!0):b}})}var f=a("ono"),g=a("./ref"),h=a("./util/url");b.exports=d,d.prototype.paths=function(a){var b=e(this._$refs,arguments);return b.map(function(a){return a.decoded})},d.prototype.values=function(a){var b=this._$refs,c=e(b,arguments);return c.reduce(function(a,c){return a[c.decoded]=b[c.encoded].value,a},{})},d.prototype.toJSON=d.prototype.values,d.prototype.exists=function(a,b){try{return this._resolve(a,b),!0}catch(c){return!1}},d.prototype.get=function(a,b){return this._resolve(a,b).value},d.prototype.set=function(a,b){a=h.resolve(this._root$Ref.path,a);var c=h.stripHash(a),d=this._$refs[c];if(!d)throw f('Error resolving $ref pointer "%s". \n"%s" not found.',a,c);d.set(a,b)},d.prototype._add=function(a,b){var c=h.stripHash(a),d=new g;return d.path=c,d.value=b,d.$refs=this,this._$refs[c]=d,this._root$Ref=this._root$Ref||d,d},d.prototype._resolve=function(a,b){a=h.resolve(this._root$Ref.path,a);var c=h.stripHash(a),d=this._$refs[c];if(!d)throw f('Error resolving $ref pointer "%s". \n"%s" not found.',a,c);return d.resolve(a,b)},d.prototype._get$Ref=function(a){a=h.resolve(this._root$Ref.path,a);var b=h.stripHash(a);return this._$refs[b]}},{"./ref":62,"./util/url":70,ono:242}],64:[function(a,b,c){"use strict";function d(a,b){if(!b.resolve.external)return h.resolve();try{l("Resolving $ref pointers in %s",a.$refs._root$Ref.path);var c=e(a.schema,a.$refs._root$Ref.path+"#",a.$refs,b);return h.all(c)}catch(d){return h.reject(d)}}function e(a,b,c,d){var h=[];return a&&"object"===("undefined"==typeof a?"undefined":g(a))&&(i.isExternal$Ref(a)?h.push(f(a,b,c,d)):Object.keys(a).forEach(function(g){var k=j.join(b,g),l=a[g];i.isExternal$Ref(l)?h.push(f(l,k,c,d)):h=h.concat(e(l,k,c,d))})),h}function f(a,b,c,d){l('Resolving $ref pointer "%s" at %s',a.$ref,b);var f=m.resolve(b,a.$ref),g=m.stripHash(f);return a=c._$refs[g],a?h.resolve(a.value):k(f,c,d).then(function(a){l("Resolving $ref pointers in %s",g);var b=e(a,g+"#",c,d);return h.all(b)})}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./util/promise"),i=a("./ref"),j=a("./pointer"),k=a("./parse"),l=a("./util/debug"),m=a("./util/url");b.exports=d},{"./parse":56,"./pointer":61,"./ref":62,"./util/debug":67,"./util/promise":69,"./util/url":70}],65:[function(a,b,c){"use strict";var d=a("fs"),e=a("ono"),f=a("../util/promise"),g=a("../util/url"),h=a("../util/debug");b.exports={order:100,canRead:function(a){return g.isFileSystemPath(a.url)},read:function(a){return new f(function(b,c){var f;try{f=g.toFileSystemPath(a.url)}catch(i){c(e.uri(i,"Malformed URI: %s",a.url))}h("Opening file: %s",f);try{d.readFile(f,function(a,d){a?c(e(a,'Error opening file "%s"',f)):b(d)})}catch(i){c(e(i,'Error opening file "%s"',f))}})}}},{"../util/debug":67,"../util/promise":69,"../util/url":70,fs:4,ono:242}],66:[function(a,b,c){(function(c,d){"use strict";function e(a,b,c){return new l(function(g,h){a=j.parse(a),c=c||[],c.push(a.href),f(a,b).then(function(f){if(f.statusCode>=400)throw i({status:f.statusCode},"HTTP ERROR %d",f.statusCode);if(f.statusCode>=300)if(c.length>b.redirects)h(i({status:f.statusCode},"Error downloading %s. \nToo many redirects: \n  %s",c[0],c.join(" \n  ")));else{if(!f.headers.location)throw i({status:f.statusCode},"HTTP %d redirect with no location header",f.statusCode);k("HTTP %d redirect %s -> %s",f.statusCode,a.href,f.headers.location);var l=j.resolve(a,f.headers.location);e(l,b,c).then(g,h)}else g(f.body||new d(0))})["catch"](function(b){h(i(b,"Error downloading",a.href))})})}function f(a,b){return new l(function(c,e){k("GET",a.href);var f="https:"===a.protocol?h:g,i=f.get({hostname:a.hostname,port:a.port,path:a.path,auth:a.auth,headers:b.headers||{},withCredentials:b.withCredentials});"function"==typeof i.setTimeout&&i.setTimeout(b.timeout),i.on("timeout",function(){i.abort()}),i.on("error",e),i.once("response",function(a){a.body=new d(0),a.on("data",function(b){a.body=d.concat([a.body,new d(b)])}),a.on("error",e),a.on("end",function(){c(a)})})})}var g=a("http"),h=a("https"),i=a("ono"),j=a("../util/url"),k=a("../util/debug"),l=a("../util/promise");b.exports={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead:function(a){return j.isHttp(a.url)},read:function(a){var b=j.parse(a.url);return c.browser&&!b.protocol&&(b.protocol=j.parse(location.href).protocol),e(b,this)}}}).call(this,a("_process"),a("buffer").Buffer)},{"../util/debug":67,"../util/promise":69,"../util/url":70,_process:244,buffer:6,http:263,https:16,ono:242}],67:[function(a,b,c){"use strict";var d=a("debug");b.exports=d("json-schema-ref-parser")},{debug:11}],68:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a[b];if("function"==typeof e)return e.apply(a,[c,d]);if(!d){if(e instanceof RegExp)return e.test(c.url);if("string"==typeof e)return e===c.extension;if(Array.isArray(e))return-1!==e.indexOf(c.extension)}return e}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./promise"),g=a("./debug");c.all=function(a){return Object.keys(a).filter(function(b){return"object"===e(a[b])}).map(function(b){return a[b].name=b,a[b]})},c.filter=function(a,b,c){return a.filter(function(a){return!!d(a,b,c)})},c.sort=function(a){return a.forEach(function(a){a.order=a.order||Number.MAX_SAFE_INTEGER}),a.sort(function(a,b){return a.order-b.order})},c.run=function(a,b,c){var e,h,i=0;return new f(function(f,j){function k(){if(e=a[i++],!e)return j(h);try{g("  %s",e.name);var f=d(e,b,c,l);f&&"function"==typeof f.then?f.then(m,n):void 0!==f&&m(f)}catch(k){n(k)}}function l(a,b){a?n(a):m(b)}function m(a){g("    success"),f({plugin:e,result:a})}function n(a){g("    %s",a.message||a),h=a,k()}k()})}},{"./debug":67,"./promise":69}],69:[function(a,b,c){"use strict";b.exports="function"==typeof Promise?Promise:a("es6-promise").Promise},{"es6-promise":13}],70:[function(a,b,c){(function(d){"use strict";var e=/^win/.test(d.platform),f=/\//g,g=/^([a-z0-9.+-]+):\/\//i,h=b.exports,i=[/\?/g,"%3F",/\#/g,"%23",e?/\\/g:/\//,"/"],j=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];c.parse=a("url").parse,c.resolve=a("url").resolve,c.cwd=function(){return d.browser?location.href:d.cwd()+"/"},c.getProtocol=function(a){var b=g.exec(a);return b?b[1].toLowerCase():void 0},c.getExtension=function(a){var b=a.lastIndexOf(".");return b>=0?a.substr(b).toLowerCase():""},c.getHash=function(a){var b=a.indexOf("#");return b>=0?a.substr(b):"#"},c.stripHash=function(a){var b=a.indexOf("#");return b>=0&&(a=a.substr(0,b)),a},c.isHttp=function(a){var b=h.getProtocol(a);return"http"===b||"https"===b?!0:void 0===b?d.browser:!1},c.isFileSystemPath=function(a){if(d.browser)return!1;var b=h.getProtocol(a);return void 0===b||"file"===b},c.fromFileSystemPath=function(a){for(var b=0;b<i.length;b+=2)a=a.replace(i[b],i[b+1]);return encodeURI(a)},c.toFileSystemPath=function(a,b){a=decodeURI(a);for(var c=0;c<j.length;c+=2)a=a.replace(j[c],j[c+1]);var d="file://"===a.substr(0,7).toLowerCase();return d&&(a="/"===a[7]?a.substr(8):a.substr(7),e&&"/"===a[1]&&(a=a[0]+":"+a.substr(1)),b?a="file:///"+a:(d=!1,a=e?a:"/"+a)),e&&!d&&(a=a.replace(f,"\\")),a}}).call(this,a("_process"))},{_process:244,url:277}],71:[function(a,b,c){"use strict";var d=a("js-yaml"),e=a("ono");b.exports={parse:function(a,b){try{return d.safeLoad(a)}catch(c){throw c instanceof Error?c:e(c,c.message)}},stringify:function(a,b,c){try{var f=("string"==typeof c?c.length:c)||2;return d.safeDump(a,{indent:f})}catch(g){throw g instanceof Error?g:e(g,g.message)}}}},{"js-yaml":21,ono:242}],72:[function(a,b,c){"use strict";b.exports={order:100,canValidate:function(a){return!!a.resolved},validate:function(a){}}},{}],73:[function(a,b,c){(function(a){"use strict";function c(a,b){return null==a?void 0:a[b]}function d(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function e(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function f(){this.__data__=ra?ra(null):{}}function g(a){return this.has(a)&&delete this.__data__[a]}function h(a){var b=this.__data__;if(ra){var c=b[a];return c===S?void 0:c}return la.call(b,a)?b[a]:void 0}function i(a){var b=this.__data__;return ra?void 0!==b[a]:la.call(b,a)}function j(a,b){var c=this.__data__;return c[a]=ra&&void 0===b?S:b,this}function k(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function l(){this.__data__=[]}function m(a){var b=this.__data__,c=w(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():pa.call(b,c,1),!0}function n(a){var b=this.__data__,c=w(b,a);return 0>c?void 0:b[c][1]}function o(a){return w(this.__data__,a)>-1}function p(a,b){var c=this.__data__,d=w(c,a);return 0>d?c.push([a,b]):c[d][1]=b,this}function q(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function r(){this.__data__={hash:new e,map:new(qa||k),string:new e}}function s(a){return B(this,a)["delete"](a)}function t(a){return B(this,a).get(a)}function u(a){return B(this,a).has(a)}function v(a,b){return B(this,a).set(a,b),this}function w(a,b){for(var c=a.length;c--;)if(J(a[c][0],b))return c;return-1}function x(a,b){b=D(b,a)?[b]:A(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[G(b[c++])];return c&&c==d?a:void 0}function y(a){if(!L(a)||F(a))return!1;var b=K(a)||d(a)?na:ba;return b.test(H(a))}function z(a){if("string"==typeof a)return a;if(N(a))return ta?ta.call(a):"";var b=a+"";return"0"==b&&1/a==-T?"-0":b}function A(a){return va(a)?a:ua(a)}function B(a,b){var c=a.__data__;return E(b)?c["string"==typeof b?"string":"hash"]:c.map}function C(a,b){var d=c(a,b);return y(d)?d:void 0}function D(a,b){if(va(a))return!1;var c="undefined"==typeof a?"undefined":Q(a);return"number"==c||"symbol"==c||"boolean"==c||null==a||N(a)?!0:Y.test(a)||!X.test(a)||null!=b&&a in Object(b)}function E(a){var b="undefined"==typeof a?"undefined":Q(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function F(a){return!!ja&&ja in a}function G(a){if("string"==typeof a||N(a))return a;var b=a+"";return"0"==b&&1/a==-T?"-0":b}function H(a){if(null!=a){try{return ka.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function I(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError(R);var c=function d(){var c=arguments,e=b?b.apply(this,c):c[0],f=d.cache;if(f.has(e))return f.get(e);var g=a.apply(this,c);return d.cache=f.set(e,g),g};return c.cache=new(I.Cache||q),c}function J(a,b){return a===b||a!==a&&b!==b}function K(a){var b=L(a)?ma.call(a):"";return b==U||b==V}function L(a){var b="undefined"==typeof a?"undefined":Q(a);return!!a&&("object"==b||"function"==b)}function M(a){return!!a&&"object"==("undefined"==typeof a?"undefined":Q(a))}function N(a){return"symbol"==("undefined"==typeof a?"undefined":Q(a))||M(a)&&ma.call(a)==W}function O(a){return null==a?"":z(a)}function P(a,b,c){var d=null==a?void 0:x(a,b);return void 0===d?c:d}var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},R="Expected a function",S="__lodash_hash_undefined__",T=1/0,U="[object Function]",V="[object GeneratorFunction]",W="[object Symbol]",X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,Z=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/[\\^$.*+?()[\]{}|]/g,aa=/\\(\\)?/g,ba=/^\[object .+?Constructor\]$/,ca="object"==("undefined"==typeof a?"undefined":Q(a))&&a&&a.Object===Object&&a,da="object"==("undefined"==typeof self?"undefined":Q(self))&&self&&self.Object===Object&&self,ea=ca||da||Function("return this")(),fa=Array.prototype,ga=Function.prototype,ha=Object.prototype,ia=ea["__core-js_shared__"],ja=function(){var a=/[^.]+$/.exec(ia&&ia.keys&&ia.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ka=ga.toString,la=ha.hasOwnProperty,ma=ha.toString,na=RegExp("^"+ka.call(la).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oa=ea.Symbol,pa=fa.splice,qa=C(ea,"Map"),ra=C(Object,"create"),sa=oa?oa.prototype:void 0,ta=sa?sa.toString:void 0;e.prototype.clear=f,e.prototype["delete"]=g,e.prototype.get=h,e.prototype.has=i,e.prototype.set=j,k.prototype.clear=l,k.prototype["delete"]=m,k.prototype.get=n,k.prototype.has=o,k.prototype.set=p,q.prototype.clear=r,q.prototype["delete"]=s,q.prototype.get=t,q.prototype.has=u,q.prototype.set=v;var ua=I(function(a){a=O(a);var b=[];return Z.test(a)&&b.push(""),a.replace($,function(a,c,d,e){b.push(d?e.replace(aa,"$1"):c||a)}),b});I.Cache=q;var va=Array.isArray;b.exports=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],74:[function(a,b,c){"use strict";var d=a("./_getNative"),e=a("./_root"),f=d(e,"DataView");b.exports=f},{"./_getNative":134,"./_root":170}],75:[function(a,b,c){"use strict";function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_hashClear"),f=a("./_hashDelete"),g=a("./_hashGet"),h=a("./_hashHas"),i=a("./_hashSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_hashClear":139,"./_hashDelete":140,"./_hashGet":141,"./_hashHas":142,"./_hashSet":143}],76:[function(a,b,c){"use strict";function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_listCacheClear"),f=a("./_listCacheDelete"),g=a("./_listCacheGet"),h=a("./_listCacheHas"),i=a("./_listCacheSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_listCacheClear":151,"./_listCacheDelete":152,"./_listCacheGet":153,"./_listCacheHas":154,"./_listCacheSet":155}],77:[function(a,b,c){"use strict";var d=a("./_getNative"),e=a("./_root"),f=d(e,"Map");b.exports=f},{"./_getNative":134,"./_root":170}],78:[function(a,b,c){"use strict";function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_mapCacheClear"),f=a("./_mapCacheDelete"),g=a("./_mapCacheGet"),h=a("./_mapCacheHas"),i=a("./_mapCacheSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_mapCacheClear":156,"./_mapCacheDelete":157,"./_mapCacheGet":158,"./_mapCacheHas":159,"./_mapCacheSet":160}],79:[function(a,b,c){"use strict";var d=a("./_getNative"),e=a("./_root"),f=d(e,"Promise");b.exports=f},{"./_getNative":134,"./_root":170}],80:[function(a,b,c){"use strict";var d=a("./_getNative"),e=a("./_root"),f=d(e,"Set");b.exports=f},{"./_getNative":134,"./_root":170}],81:[function(a,b,c){"use strict";function d(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new e;++b<c;)this.add(a[b])}var e=a("./_MapCache"),f=a("./_setCacheAdd"),g=a("./_setCacheHas");d.prototype.add=d.prototype.push=f,d.prototype.has=g,b.exports=d},{"./_MapCache":78,"./_setCacheAdd":171,"./_setCacheHas":172}],82:[function(a,b,c){"use strict";function d(a){var b=this.__data__=new e(a);this.size=b.size}var e=a("./_ListCache"),f=a("./_stackClear"),g=a("./_stackDelete"),h=a("./_stackGet"),i=a("./_stackHas"),j=a("./_stackSet");d.prototype.clear=f,d.prototype["delete"]=g,d.prototype.get=h,d.prototype.has=i,d.prototype.set=j,b.exports=d},{"./_ListCache":76,"./_stackClear":176,"./_stackDelete":177,"./_stackGet":178,"./_stackHas":179,"./_stackSet":180}],83:[function(a,b,c){"use strict";var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":170}],84:[function(a,b,c){"use strict";var d=a("./_root"),e=d.Uint8Array;b.exports=e},{"./_root":170}],85:[function(a,b,c){"use strict";var d=a("./_getNative"),e=a("./_root"),f=d(e,"WeakMap");b.exports=f},{"./_getNative":134,"./_root":170}],86:[function(a,b,c){"use strict";function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}b.exports=d},{}],87:[function(a,b,c){"use strict";function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}b.exports=d},{}],88:[function(a,b,c){"use strict";function d(a,b){var c=g(a),d=!c&&f(a),k=!c&&!d&&h(a),m=!c&&!d&&!k&&j(a),n=c||d||k||m,o=n?e(a.length,String):[],p=o.length;for(var q in a)!b&&!l.call(a,q)||n&&("length"==q||k&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||i(q,p))||o.push(q);return o}var e=a("./_baseTimes"),f=a("./isArguments"),g=a("./isArray"),h=a("./isBuffer"),i=a("./_isIndex"),j=a("./isTypedArray"),k=Object.prototype,l=k.hasOwnProperty;b.exports=d},{"./_baseTimes":117,"./_isIndex":144,"./isArguments":192,"./isArray":193,"./isBuffer":195,"./isTypedArray":202}],89:[function(a,b,c){"use strict";function d(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],90:[function(a,b,c){"use strict";function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],91:[function(a,b,c){"use strict";function d(a,b,c){var d=a[b];h.call(a,b)&&f(d,c)&&(void 0!==c||b in a)||e(a,b,c)}var e=a("./_baseAssignValue"),f=a("./eq"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_baseAssignValue":94,"./eq":187}],92:[function(a,b,c){"use strict";function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=a("./eq");b.exports=d},{"./eq":187}],93:[function(a,b,c){"use strict";function d(a,b){return a&&e(b,f(b),a)}var e=a("./_copyObject"),f=a("./keys");b.exports=d},{"./_copyObject":122,"./keys":203}],94:[function(a,b,c){"use strict";function d(a,b,c){"__proto__"==b&&e?e(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}var e=a("./_defineProperty");b.exports=d},{"./_defineProperty":127}],95:[function(a,b,c){"use strict";var d=a("./isObject"),e=Object.create,f=function(){function a(){}return function(b){if(!d(b))return{};if(e)return e(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();b.exports=f},{"./isObject":199}],96:[function(a,b,c){"use strict";var d=a("./_baseForOwn"),e=a("./_createBaseEach"),f=e(d);b.exports=f},{"./_baseForOwn":99,"./_createBaseEach":125}],97:[function(a,b,c){"use strict";function d(a,b){var c=!0;return e(a,function(a,d,e){return c=!!b(a,d,e)}),c}var e=a("./_baseEach");b.exports=d},{"./_baseEach":96}],98:[function(a,b,c){"use strict";var d=a("./_createBaseFor"),e=d();b.exports=e},{"./_createBaseFor":126}],99:[function(a,b,c){"use strict";function d(a,b){return a&&e(a,b,f)}var e=a("./_baseFor"),f=a("./keys");b.exports=d},{"./_baseFor":98,"./keys":203}],100:[function(a,b,c){"use strict";function d(a,b){b=f(b,a)?[b]:e(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[g(b[c++])];return c&&c==d?a:void 0}var e=a("./_castPath"),f=a("./_isKey"),g=a("./_toKey");b.exports=d},{"./_castPath":121,"./_isKey":146,"./_toKey":182}],101:[function(a,b,c){"use strict";function d(a){return null==a?void 0===a?i:h:(a=Object(a),j&&j in a?f(a):g(a))}var e=a("./_Symbol"),f=a("./_getRawTag"),g=a("./_objectToString"),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":83,"./_getRawTag":135,"./_objectToString":167}],102:[function(a,b,c){"use strict";function d(a,b){return null!=a&&b in Object(a)}b.exports=d},{}],103:[function(a,b,c){"use strict";function d(a){return f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Arguments]";b.exports=d},{"./_baseGetTag":101,"./isObjectLike":200}],104:[function(a,b,c){"use strict";function d(a,b,c,h,i){return a===b?!0:null==a||null==b||!f(a)&&!g(b)?a!==a&&b!==b:e(a,b,d,c,h,i)}var e=a("./_baseIsEqualDeep"),f=a("./isObject"),g=a("./isObjectLike");b.exports=d},{"./_baseIsEqualDeep":105,"./isObject":199,"./isObjectLike":200}],105:[function(a,b,c){"use strict";function d(a,b,c,d,q,s){var t=j(a),u=j(b),v=o,w=o;t||(v=i(a),v=v==n?p:v),u||(w=i(b),w=w==n?p:w);var x=v==p,y=w==p,z=v==w;if(z&&k(a)){if(!k(b))return!1;t=!0,x=!1}if(z&&!x)return s||(s=new e),t||l(a)?f(a,b,c,d,q,s):g(a,b,v,c,d,q,s);if(!(q&m)){var A=x&&r.call(a,"__wrapped__"),B=y&&r.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return s||(s=new e),c(C,D,d,q,s)}}return z?(s||(s=new e),h(a,b,c,d,q,s)):!1}var e=a("./_Stack"),f=a("./_equalArrays"),g=a("./_equalByTag"),h=a("./_equalObjects"),i=a("./_getTag"),j=a("./isArray"),k=a("./isBuffer"),l=a("./isTypedArray"),m=2,n="[object Arguments]",o="[object Array]",p="[object Object]",q=Object.prototype,r=q.hasOwnProperty;b.exports=d},{"./_Stack":82,"./_equalArrays":128,"./_equalByTag":129,"./_equalObjects":130,"./_getTag":136,"./isArray":193,"./isBuffer":195,"./isTypedArray":202}],106:[function(a,b,c){"use strict";function d(a,b,c,d){var i=c.length,j=i,k=!d;if(null==a)return!j;for(a=Object(a);i--;){var l=c[i];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++i<j;){l=c[i];var m=l[0],n=a[m],o=l[1];if(k&&l[2]){if(void 0===n&&!(m in a))return!1}else{var p=new e;if(d)var q=d(n,o,m,a,b,p);if(!(void 0===q?f(o,n,d,g|h,p):q))return!1}}return!0}var e=a("./_Stack"),f=a("./_baseIsEqual"),g=1,h=2;b.exports=d},{"./_Stack":82,"./_baseIsEqual":104}],107:[function(a,b,c){"use strict";function d(a){if(!g(a)||f(a))return!1;var b=e(a)?o:j;return b.test(h(a))}var e=a("./isFunction"),f=a("./_isMasked"),g=a("./isObject"),h=a("./_toSource"),i=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,k=Function.prototype,l=Object.prototype,m=k.toString,n=l.hasOwnProperty,o=RegExp("^"+m.call(n).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"./_isMasked":148,"./_toSource":183,"./isFunction":197,"./isObject":199}],108:[function(a,b,c){"use strict";function d(a){return g(a)&&f(a.length)&&!!F[e(a)]}var e=a("./_baseGetTag"),f=a("./isLength"),g=a("./isObjectLike"),h="[object Arguments]",i="[object Array]",j="[object Boolean]",k="[object Date]",l="[object Error]",m="[object Function]",n="[object Map]",o="[object Number]",p="[object Object]",q="[object RegExp]",r="[object Set]",s="[object String]",t="[object WeakMap]",u="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",z="[object Int16Array]",A="[object Int32Array]",B="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",E="[object Uint32Array]",F={};F[w]=F[x]=F[y]=F[z]=F[A]=F[B]=F[C]=F[D]=F[E]=!0,F[h]=F[i]=F[u]=F[j]=F[v]=F[k]=F[l]=F[m]=F[n]=F[o]=F[p]=F[q]=F[r]=F[s]=F[t]=!1,b.exports=d},{"./_baseGetTag":101,"./isLength":198,"./isObjectLike":200}],109:[function(a,b,c){"use strict";function d(a){return"function"==typeof a?a:null==a?h:"object"==("undefined"==typeof a?"undefined":e(a))?i(a)?g(a[0],a[1]):f(a):j(a)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./_baseMatches"),g=a("./_baseMatchesProperty"),h=a("./identity"),i=a("./isArray"),j=a("./property");b.exports=d},{"./_baseMatches":111,"./_baseMatchesProperty":112,"./identity":191,"./isArray":193,"./property":206}],110:[function(a,b,c){"use strict";function d(a){
if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=a("./_isPrototype"),f=a("./_nativeKeys"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_isPrototype":149,"./_nativeKeys":165}],111:[function(a,b,c){"use strict";function d(a){var b=f(a);return 1==b.length&&b[0][2]?g(b[0][0],b[0][1]):function(c){return c===a||e(c,a,b)}}var e=a("./_baseIsMatch"),f=a("./_getMatchData"),g=a("./_matchesStrictComparable");b.exports=d},{"./_baseIsMatch":106,"./_getMatchData":133,"./_matchesStrictComparable":162}],112:[function(a,b,c){"use strict";function d(a,b){return h(a)&&i(b)?j(k(a),b):function(c){var d=f(c,a);return void 0===d&&d===b?g(c,a):e(b,d,void 0,l|m)}}var e=a("./_baseIsEqual"),f=a("./get"),g=a("./hasIn"),h=a("./_isKey"),i=a("./_isStrictComparable"),j=a("./_matchesStrictComparable"),k=a("./_toKey"),l=1,m=2;b.exports=d},{"./_baseIsEqual":104,"./_isKey":146,"./_isStrictComparable":150,"./_matchesStrictComparable":162,"./_toKey":182,"./get":189,"./hasIn":190}],113:[function(a,b,c){"use strict";function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],114:[function(a,b,c){"use strict";function d(a){return function(b){return e(b,a)}}var e=a("./_baseGet");b.exports=d},{"./_baseGet":100}],115:[function(a,b,c){"use strict";function d(a,b){return g(f(a,b,e),a+"")}var e=a("./identity"),f=a("./_overRest"),g=a("./_setToString");b.exports=d},{"./_overRest":169,"./_setToString":174,"./identity":191}],116:[function(a,b,c){"use strict";var d=a("./constant"),e=a("./_defineProperty"),f=a("./identity"),g=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f;b.exports=g},{"./_defineProperty":127,"./constant":185,"./identity":191}],117:[function(a,b,c){"use strict";function d(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}b.exports=d},{}],118:[function(a,b,c){"use strict";function d(a){if("string"==typeof a)return a;if(g(a))return f(a,d)+"";if(h(a))return k?k.call(a):"";var b=a+"";return"0"==b&&1/a==-i?"-0":b}var e=a("./_Symbol"),f=a("./_arrayMap"),g=a("./isArray"),h=a("./isSymbol"),i=1/0,j=e?e.prototype:void 0,k=j?j.toString:void 0;b.exports=d},{"./_Symbol":83,"./_arrayMap":89,"./isArray":193,"./isSymbol":201}],119:[function(a,b,c){"use strict";function d(a){return function(b){return a(b)}}b.exports=d},{}],120:[function(a,b,c){"use strict";function d(a,b){return a.has(b)}b.exports=d},{}],121:[function(a,b,c){"use strict";function d(a){return e(a)?a:f(a)}var e=a("./isArray"),f=a("./_stringToPath");b.exports=d},{"./_stringToPath":181,"./isArray":193}],122:[function(a,b,c){"use strict";function d(a,b,c,d){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=d?d(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?f(c,j,k):e(c,j,k)}return c}var e=a("./_assignValue"),f=a("./_baseAssignValue");b.exports=d},{"./_assignValue":91,"./_baseAssignValue":94}],123:[function(a,b,c){"use strict";var d=a("./_root"),e=d["__core-js_shared__"];b.exports=e},{"./_root":170}],124:[function(a,b,c){"use strict";function d(a){return e(function(b,c){var d=-1,e=c.length,g=e>1?c[e-1]:void 0,h=e>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(e--,g):void 0,h&&f(c[0],c[1],h)&&(g=3>e?void 0:g,e=1),b=Object(b);++d<e;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=a("./_baseRest"),f=a("./_isIterateeCall");b.exports=d},{"./_baseRest":115,"./_isIterateeCall":145}],125:[function(a,b,c){"use strict";function d(a,b){return function(c,d){if(null==c)return c;if(!e(c))return a(c,d);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&d(h[g],g,h)!==!1;);return c}}var e=a("./isArrayLike");b.exports=d},{"./isArrayLike":194}],126:[function(a,b,c){"use strict";function d(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}b.exports=d},{}],127:[function(a,b,c){"use strict";var d=a("./_getNative"),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(b){}}();b.exports=e},{"./_getNative":134}],128:[function(a,b,c){"use strict";function d(a,b,c,d,j,k){var l=j&i,m=a.length,n=b.length;if(m!=n&&!(l&&n>m))return!1;var o=k.get(a);if(o&&k.get(b))return o==b;var p=-1,q=!0,r=j&h?new e:void 0;for(k.set(a,b),k.set(b,a);++p<m;){var s=a[p],t=b[p];if(d)var u=l?d(t,s,p,b,a,k):d(s,t,p,a,b,k);if(void 0!==u){if(u)continue;q=!1;break}if(r){if(!f(b,function(a,b){return g(r,b)||s!==a&&!c(s,a,d,j,k)?void 0:r.push(b)})){q=!1;break}}else if(s!==t&&!c(s,t,d,j,k)){q=!1;break}}return k["delete"](a),k["delete"](b),q}var e=a("./_SetCache"),f=a("./_arraySome"),g=a("./_cacheHas"),h=1,i=2;b.exports=d},{"./_SetCache":81,"./_arraySome":90,"./_cacheHas":120}],129:[function(a,b,c){"use strict";function d(a,b,c,d,e,x,z){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case v:return a.byteLength==b.byteLength&&d(new f(a),new f(b))?!0:!1;case m:case n:case q:return g(+a,+b);case o:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case p:var A=i;case s:var B=x&l;if(A||(A=j),a.size!=b.size&&!B)return!1;var C=z.get(a);if(C)return C==b;x|=k,z.set(a,b);var D=h(A(a),A(b),d,e,x,z);return z["delete"](a),D;case u:if(y)return y.call(a)==y.call(b)}return!1}var e=a("./_Symbol"),f=a("./_Uint8Array"),g=a("./eq"),h=a("./_equalArrays"),i=a("./_mapToArray"),j=a("./_setToArray"),k=1,l=2,m="[object Boolean]",n="[object Date]",o="[object Error]",p="[object Map]",q="[object Number]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",x=e?e.prototype:void 0,y=x?x.valueOf:void 0;b.exports=d},{"./_Symbol":83,"./_Uint8Array":84,"./_equalArrays":128,"./_mapToArray":161,"./_setToArray":173,"./eq":187}],130:[function(a,b,c){"use strict";function d(a,b,c,d,g,i){var j=g&f,k=e(a),l=k.length,m=e(b),n=m.length;if(l!=n&&!j)return!1;for(var o=l;o--;){var p=k[o];if(!(j?p in b:h.call(b,p)))return!1}var q=i.get(a);if(q&&i.get(b))return q==b;var r=!0;i.set(a,b),i.set(b,a);for(var s=j;++o<l;){p=k[o];var t=a[p],u=b[p];if(d)var v=j?d(u,t,p,b,a,i):d(t,u,p,a,b,i);if(!(void 0===v?t===u||c(t,u,d,g,i):v)){r=!1;break}s||(s="constructor"==p)}if(r&&!s){var w=a.constructor,x=b.constructor;w!=x&&"constructor"in a&&"constructor"in b&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(r=!1)}return i["delete"](a),i["delete"](b),r}var e=a("./keys"),f=2,g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./keys":203}],131:[function(a,b,c){(function(a){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d="object"==("undefined"==typeof a?"undefined":c(a))&&a&&a.Object===Object&&a;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],132:[function(a,b,c){"use strict";function d(a,b){var c=a.__data__;return e(b)?c["string"==typeof b?"string":"hash"]:c.map}var e=a("./_isKeyable");b.exports=d},{"./_isKeyable":147}],133:[function(a,b,c){"use strict";function d(a){for(var b=f(a),c=b.length;c--;){var d=b[c],g=a[d];b[c]=[d,g,e(g)]}return b}var e=a("./_isStrictComparable"),f=a("./keys");b.exports=d},{"./_isStrictComparable":150,"./keys":203}],134:[function(a,b,c){"use strict";function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=a("./_baseIsNative"),f=a("./_getValue");b.exports=d},{"./_baseIsNative":107,"./_getValue":137}],135:[function(a,b,c){"use strict";function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(e){}var f=h.call(a);return d&&(b?a[i]=c:delete a[i]),f}var e=a("./_Symbol"),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":83}],136:[function(a,b,c){"use strict";var d=a("./_DataView"),e=a("./_Map"),f=a("./_Promise"),g=a("./_Set"),h=a("./_WeakMap"),i=a("./_baseGetTag"),j=a("./_toSource"),k="[object Map]",l="[object Object]",m="[object Promise]",n="[object Set]",o="[object WeakMap]",p="[object DataView]",q=j(d),r=j(e),s=j(f),t=j(g),u=j(h),v=i;(d&&v(new d(new ArrayBuffer(1)))!=p||e&&v(new e)!=k||f&&v(f.resolve())!=m||g&&v(new g)!=n||h&&v(new h)!=o)&&(v=function(a){var b=i(a),c=b==l?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case q:return p;case r:return k;case s:return m;case t:return n;case u:return o}return b}),b.exports=v},{"./_DataView":74,"./_Map":77,"./_Promise":79,"./_Set":80,"./_WeakMap":85,"./_baseGetTag":101,"./_toSource":183}],137:[function(a,b,c){"use strict";function d(a,b){return null==a?void 0:a[b]}b.exports=d},{}],138:[function(a,b,c){"use strict";function d(a,b,c){b=i(b,a)?[b]:e(b);for(var d=-1,l=b.length,m=!1;++d<l;){var n=k(b[d]);if(!(m=null!=a&&c(a,n)))break;a=a[n]}return m||++d!=l?m:(l=null==a?0:a.length,!!l&&j(l)&&h(n,l)&&(g(a)||f(a)))}var e=a("./_castPath"),f=a("./isArguments"),g=a("./isArray"),h=a("./_isIndex"),i=a("./_isKey"),j=a("./isLength"),k=a("./_toKey");b.exports=d},{"./_castPath":121,"./_isIndex":144,"./_isKey":146,"./_toKey":182,"./isArguments":192,"./isArray":193,"./isLength":198}],139:[function(a,b,c){"use strict";function d(){this.__data__=e?e(null):{},this.size=0}var e=a("./_nativeCreate");b.exports=d},{"./_nativeCreate":164}],140:[function(a,b,c){"use strict";function d(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}b.exports=d},{}],141:[function(a,b,c){"use strict";function d(a){var b=this.__data__;if(e){var c=b[a];return c===f?void 0:c}return h.call(b,a)?b[a]:void 0}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_nativeCreate":164}],142:[function(a,b,c){"use strict";function d(a){var b=this.__data__;return e?void 0!==b[a]:g.call(b,a)}var e=a("./_nativeCreate"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_nativeCreate":164}],143:[function(a,b,c){"use strict";function d(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&void 0===b?f:b,this}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__";b.exports=d},{"./_nativeCreate":164}],144:[function(a,b,c){"use strict";function d(a,b){return b=null==b?e:b,!!b&&("number"==typeof a||f.test(a))&&a>-1&&a%1==0&&b>a}var e=9007199254740991,f=/^(?:0|[1-9]\d*)$/;b.exports=d},{}],145:[function(a,b,c){"use strict";function d(a,b,c){if(!i(c))return!1;var d="undefined"==typeof b?"undefined":e(b);return("number"==d?g(c)&&h(b,c.length):"string"==d&&b in c)?f(c[b],a):!1}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./eq"),g=a("./isArrayLike"),h=a("./_isIndex"),i=a("./isObject");b.exports=d},{"./_isIndex":144,"./eq":187,"./isArrayLike":194,"./isObject":199}],146:[function(a,b,c){"use strict";function d(a,b){if(f(a))return!1;var c="undefined"==typeof a?"undefined":e(a);return"number"==c||"symbol"==c||"boolean"==c||null==a||g(a)?!0:i.test(a)||!h.test(a)||null!=b&&a in Object(b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./isArray"),g=a("./isSymbol"),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;b.exports=d},{"./isArray":193,"./isSymbol":201}],147:[function(a,b,c){"use strict";function d(a){var b="undefined"==typeof a?"undefined":e(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d},{}],148:[function(a,b,c){"use strict";function d(a){return!!f&&f in a}var e=a("./_coreJsData"),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();b.exports=d},{"./_coreJsData":123}],149:[function(a,b,c){"use strict";function d(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||e;return a===c}var e=Object.prototype;b.exports=d},{}],150:[function(a,b,c){"use strict";function d(a){return a===a&&!e(a)}var e=a("./isObject");b.exports=d},{"./isObject":199}],151:[function(a,b,c){"use strict";function d(){this.__data__=[],this.size=0}b.exports=d},{}],152:[function(a,b,c){"use strict";function d(a){var b=this.__data__,c=e(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():g.call(b,c,1),--this.size,!0}var e=a("./_assocIndexOf"),f=Array.prototype,g=f.splice;b.exports=d},{"./_assocIndexOf":92}],153:[function(a,b,c){"use strict";function d(a){var b=this.__data__,c=e(b,a);return 0>c?void 0:b[c][1]}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":92}],154:[function(a,b,c){"use strict";function d(a){return e(this.__data__,a)>-1}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":92}],155:[function(a,b,c){"use strict";function d(a,b){var c=this.__data__,d=e(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":92}],156:[function(a,b,c){"use strict";function d(){this.size=0,this.__data__={hash:new e,map:new(g||f),string:new e}}var e=a("./_Hash"),f=a("./_ListCache"),g=a("./_Map");b.exports=d},{"./_Hash":75,"./_ListCache":76,"./_Map":77}],157:[function(a,b,c){"use strict";function d(a){var b=e(this,a)["delete"](a);return this.size-=b?1:0,b}var e=a("./_getMapData");b.exports=d},{"./_getMapData":132}],158:[function(a,b,c){"use strict";function d(a){return e(this,a).get(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":132}],159:[function(a,b,c){"use strict";function d(a){return e(this,a).has(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":132}],160:[function(a,b,c){"use strict";function d(a,b){var c=e(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}var e=a("./_getMapData");b.exports=d},{"./_getMapData":132}],161:[function(a,b,c){"use strict";function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}b.exports=d},{}],162:[function(a,b,c){"use strict";function d(a,b){return function(c){return null==c?!1:c[a]===b&&(void 0!==b||a in Object(c))}}b.exports=d},{}],163:[function(a,b,c){"use strict";function d(a){var b=e(a,function(a){return c.size===f&&c.clear(),a}),c=b.cache;return b}var e=a("./memoize"),f=500;b.exports=d},{"./memoize":205}],164:[function(a,b,c){"use strict";var d=a("./_getNative"),e=d(Object,"create");b.exports=e},{"./_getNative":134}],165:[function(a,b,c){"use strict";var d=a("./_overArg"),e=d(Object.keys,Object);b.exports=e},{"./_overArg":168}],166:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("./_freeGlobal"),f="object"==("undefined"==typeof c?"undefined":d(c))&&c&&!c.nodeType&&c,g=f&&"object"==("undefined"==typeof b?"undefined":d(b))&&b&&!b.nodeType&&b,h=g&&g.exports===f,i=h&&e.process,j=function(){try{return i&&i.binding("util")}catch(a){}}();b.exports=j},{"./_freeGlobal":131}],167:[function(a,b,c){"use strict";function d(a){return f.call(a)}var e=Object.prototype,f=e.toString;b.exports=d},{}],168:[function(a,b,c){"use strict";function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],169:[function(a,b,c){"use strict";function d(a,b,c){return b=f(void 0===b?a.length-1:b,0),function(){for(var d=arguments,g=-1,h=f(d.length-b,0),i=Array(h);++g<h;)i[g]=d[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=d[g];return j[b]=c(i),e(a,this,j)}}var e=a("./_apply"),f=Math.max;b.exports=d},{"./_apply":86}],170:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("./_freeGlobal"),f="object"==("undefined"==typeof self?"undefined":d(self))&&self&&self.Object===Object&&self,g=e||f||Function("return this")();b.exports=g},{"./_freeGlobal":131}],171:[function(a,b,c){"use strict";function d(a){return this.__data__.set(a,e),this}var e="__lodash_hash_undefined__";b.exports=d},{}],172:[function(a,b,c){"use strict";function d(a){return this.__data__.has(a)}b.exports=d},{}],173:[function(a,b,c){"use strict";function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}b.exports=d},{}],174:[function(a,b,c){"use strict";var d=a("./_baseSetToString"),e=a("./_shortOut"),f=e(d);b.exports=f},{"./_baseSetToString":116,"./_shortOut":175}],175:[function(a,b,c){"use strict";function d(a){var b=0,c=0;return function(){var d=g(),h=f-(d-c);if(c=d,h>0){if(++b>=e)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}var e=800,f=16,g=Date.now;b.exports=d},{}],176:[function(a,b,c){"use strict";function d(){this.__data__=new e,this.size=0}var e=a("./_ListCache");b.exports=d},{"./_ListCache":76}],177:[function(a,b,c){"use strict";function d(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}b.exports=d},{}],178:[function(a,b,c){"use strict";function d(a){return this.__data__.get(a)}b.exports=d},{}],179:[function(a,b,c){"use strict";function d(a){return this.__data__.has(a)}b.exports=d},{}],180:[function(a,b,c){"use strict";function d(a,b){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!f||d.length<h-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(d)}return c.set(a,b),this.size=c.size,this}var e=a("./_ListCache"),f=a("./_Map"),g=a("./_MapCache"),h=200;b.exports=d},{"./_ListCache":76,"./_Map":77,"./_MapCache":78}],181:[function(a,b,c){"use strict";var d=a("./_memoizeCapped"),e=a("./toString"),f=/^\./,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,i=d(function(a){a=e(a);var b=[];return f.test(a)&&b.push(""),a.replace(g,function(a,c,d,e){b.push(d?e.replace(h,"$1"):c||a)}),b});b.exports=i},{"./_memoizeCapped":163,"./toString":208}],182:[function(a,b,c){"use strict";function d(a){if("string"==typeof a||e(a))return a;var b=a+"";return"0"==b&&1/a==-f?"-0":b}var e=a("./isSymbol"),f=1/0;b.exports=d},{"./isSymbol":201}],183:[function(a,b,c){"use strict";function d(a){if(null!=a){try{return f.call(a)}catch(b){}try{return a+""}catch(b){}}return""}var e=Function.prototype,f=e.toString;b.exports=d},{}],184:[function(a,b,c){"use strict";var d=a("./_assignValue"),e=a("./_copyObject"),f=a("./_createAssigner"),g=a("./isArrayLike"),h=a("./_isPrototype"),i=a("./keys"),j=Object.prototype,k=j.hasOwnProperty,l=f(function(a,b){if(h(b)||g(b))return void e(b,i(b),a);for(var c in b)k.call(b,c)&&d(a,c,b[c])});b.exports=l},{"./_assignValue":91,"./_copyObject":122,"./_createAssigner":124,"./_isPrototype":149,"./isArrayLike":194,"./keys":203}],185:[function(a,b,c){"use strict";function d(a){return function(){return a}}b.exports=d},{}],186:[function(a,b,c){"use strict";function d(a,b){var c=f(a);return null==b?c:e(c,b)}var e=a("./_baseAssign"),f=a("./_baseCreate");b.exports=d},{"./_baseAssign":93,"./_baseCreate":95}],187:[function(a,b,c){"use strict";function d(a,b){return a===b||a!==a&&b!==b}b.exports=d},{}],188:[function(a,b,c){"use strict";function d(a,b,c){var d=h(a)?e:f;return c&&i(a,b,c)&&(b=void 0),d(a,g(b,3))}var e=a("./_arrayEvery"),f=a("./_baseEvery"),g=a("./_baseIteratee"),h=a("./isArray"),i=a("./_isIterateeCall");b.exports=d},{"./_arrayEvery":87,"./_baseEvery":97,"./_baseIteratee":109,"./_isIterateeCall":145,"./isArray":193}],189:[function(a,b,c){"use strict";function d(a,b,c){var d=null==a?void 0:e(a,b);return void 0===d?c:d}var e=a("./_baseGet");b.exports=d},{"./_baseGet":100}],190:[function(a,b,c){"use strict";function d(a,b){return null!=a&&f(a,b,e)}var e=a("./_baseHasIn"),f=a("./_hasPath");b.exports=d},{"./_baseHasIn":102,"./_hasPath":138}],191:[function(a,b,c){"use strict";function d(a){return a}b.exports=d},{}],192:[function(a,b,c){"use strict";var d=a("./_baseIsArguments"),e=a("./isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};b.exports=i},{"./_baseIsArguments":103,"./isObjectLike":200}],193:[function(a,b,c){"use strict";var d=Array.isArray;b.exports=d},{}],194:[function(a,b,c){"use strict";function d(a){return null!=a&&f(a.length)&&!e(a)}var e=a("./isFunction"),f=a("./isLength");b.exports=d},{"./isFunction":197,"./isLength":198}],195:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("./_root"),f=a("./stubFalse"),g="object"==("undefined"==typeof c?"undefined":d(c))&&c&&!c.nodeType&&c,h=g&&"object"==("undefined"==typeof b?"undefined":d(b))&&b&&!b.nodeType&&b,i=h&&h.exports===g,j=i?e.Buffer:void 0,k=j?j.isBuffer:void 0,l=k||f;b.exports=l},{"./_root":170,"./stubFalse":207}],196:[function(a,b,c){"use strict";function d(a){if(null==a)return!0;if(i(a)&&(h(a)||"string"==typeof a||"function"==typeof a.splice||j(a)||l(a)||g(a)))return!a.length;var b=f(a);if(b==m||b==n)return!a.size;if(k(a))return!e(a).length;for(var c in a)if(p.call(a,c))return!1;return!0}var e=a("./_baseKeys"),f=a("./_getTag"),g=a("./isArguments"),h=a("./isArray"),i=a("./isArrayLike"),j=a("./isBuffer"),k=a("./_isPrototype"),l=a("./isTypedArray"),m="[object Map]",n="[object Set]",o=Object.prototype,p=o.hasOwnProperty;b.exports=d},{"./_baseKeys":110,"./_getTag":136,"./_isPrototype":149,"./isArguments":192,"./isArray":193,"./isArrayLike":194,"./isBuffer":195,"./isTypedArray":202}],197:[function(a,b,c){"use strict";function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=a("./_baseGetTag"),f=a("./isObject"),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";b.exports=d},{"./_baseGetTag":101,"./isObject":199}],198:[function(a,b,c){"use strict";function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],199:[function(a,b,c){"use strict";function d(a){var b="undefined"==typeof a?"undefined":e(a);return null!=a&&("object"==b||"function"==b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d},{}],200:[function(a,b,c){"use strict";function d(a){return null!=a&&"object"==("undefined"==typeof a?"undefined":e(a))}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d},{}],201:[function(a,b,c){"use strict";function d(a){return"symbol"==("undefined"==typeof a?"undefined":e(a))||g(a)&&f(a)==h}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./_baseGetTag"),g=a("./isObjectLike"),h="[object Symbol]";b.exports=d},{"./_baseGetTag":101,"./isObjectLike":200}],202:[function(a,b,c){"use strict";var d=a("./_baseIsTypedArray"),e=a("./_baseUnary"),f=a("./_nodeUtil"),g=f&&f.isTypedArray,h=g?e(g):d;b.exports=h},{"./_baseIsTypedArray":108,"./_baseUnary":119,"./_nodeUtil":166}],203:[function(a,b,c){"use strict";function d(a){return g(a)?e(a):f(a)}var e=a("./_arrayLikeKeys"),f=a("./_baseKeys"),g=a("./isArrayLike");b.exports=d},{"./_arrayLikeKeys":88,"./_baseKeys":110,"./isArrayLike":194}],204:[function(b,c,d){(function(b){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){function f(a,b){return a.set(b[0],b[1]),a}function g(a,b){return a.add(b),a}function h(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function i(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function j(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function k(a,b){for(var c=null==a?0:a.length;c--&&b(a[c],c,a)!==!1;);return a}function l(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function m(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function n(a,b){var c=null==a?0:a.length;return!!c&&y(a,b,0)>-1}function o(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function p(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function q(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function r(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function s(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function t(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function u(a){return a.split("")}function v(a){return a.match(Ob)||[]}function w(a,b,c){var d;return c(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function x(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function y(a,b,c){return b===b?Z(a,b,c):x(a,A,c)}function z(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function A(a){return a!==a}function B(a,b){var c=null==a?0:a.length;return c?G(a,b)/c:Ia}function C(a){return function(b){return null==b?ea:b[a]}}function D(a){return function(b){return null==a?ea:a[b]}}function E(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function F(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function G(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==ea&&(c=c===ea?f:c+f)}return c}function H(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function I(a,b){return p(b,function(b){return[b,a[b]]})}function J(a){return function(b){return a(b)}}function K(a,b){return p(b,function(b){return a[b]})}function L(a,b){return a.has(b)}function M(a,b){for(var c=-1,d=a.length;++c<d&&y(b,a[c],0)>-1;);return c}function N(a,b){for(var c=a.length;c--&&y(b,a[c],0)>-1;);return c}function O(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}function P(a){return"\\"+Yc[a]}function Q(a,b){return null==a?ea:a[b]}function R(a){return Pc.test(a)}function S(a){return Qc.test(a)}function T(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function U(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function V(a,b){return function(c){return a(b(c))}}function W(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];(g===b||g===la)&&(a[c]=la,f[e++]=c)}return f}function X(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function Y(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function Z(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function $(a,b,c){for(var d=c+1;d--;)if(a[d]===b)return d;return d}function _(a){return R(a)?ba(a):nd(a)}function aa(a){return R(a)?ca(a):u(a)}function ba(a){for(var b=Nc.lastIndex=0;Nc.test(a);)++b;return b}function ca(a){return a.match(Nc)||[]}function da(a){return a.match(Oc)||[]}var ea,fa="4.16.6",ga=200,ha="Unsupported core-js use. Try https://github.com/es-shims.",ia="Expected a function",ja="__lodash_hash_undefined__",ka=500,la="__lodash_placeholder__",ma=1,na=2,oa=4,pa=8,qa=16,ra=32,sa=64,ta=128,ua=256,va=512,wa=1,xa=2,ya=30,za="...",Aa=800,Ba=16,Ca=1,Da=2,Ea=3,Fa=1/0,Ga=9007199254740991,Ha=1.7976931348623157e308,Ia=NaN,Ja=4294967295,Ka=Ja-1,La=Ja>>>1,Ma=[["ary",ta],["bind",ma],["bindKey",na],["curry",pa],["curryRight",qa],["flip",va],["partial",ra],["partialRight",sa],["rearg",ua]],Na="[object Arguments]",Oa="[object Array]",Pa="[object AsyncFunction]",Qa="[object Boolean]",Ra="[object Date]",Sa="[object DOMException]",Ta="[object Error]",Ua="[object Function]",Va="[object GeneratorFunction]",Wa="[object Map]",Xa="[object Number]",Ya="[object Null]",Za="[object Object]",$a="[object Promise]",_a="[object Proxy]",ab="[object RegExp]",bb="[object Set]",cb="[object String]",db="[object Symbol]",eb="[object Undefined]",fb="[object WeakMap]",gb="[object WeakSet]",hb="[object ArrayBuffer]",ib="[object DataView]",jb="[object Float32Array]",kb="[object Float64Array]",lb="[object Int8Array]",mb="[object Int16Array]",nb="[object Int32Array]",ob="[object Uint8Array]",pb="[object Uint8ClampedArray]",qb="[object Uint16Array]",rb="[object Uint32Array]",sb=/\b__p \+= '';/g,tb=/\b(__p \+=) '' \+/g,ub=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vb=/&(?:amp|lt|gt|quot|#39);/g,wb=/[&<>"']/g,xb=RegExp(vb.source),yb=RegExp(wb.source),zb=/<%-([\s\S]+?)%>/g,Ab=/<%([\s\S]+?)%>/g,Bb=/<%=([\s\S]+?)%>/g,Cb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Db=/^\w*$/,Eb=/^\./,Fb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gb=/[\\^$.*+?()[\]{}|]/g,Hb=RegExp(Gb.source),Ib=/^\s+|\s+$/g,Jb=/^\s+/,Kb=/\s+$/,Lb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mb=/\{\n\/\* \[wrapped with (.+)\] \*/,Nb=/,? & /,Ob=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pb=/\\(\\)?/g,Qb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rb=/\w*$/,Sb=/^[-+]0x[0-9a-f]+$/i,Tb=/^0b[01]+$/i,Ub=/^\[object .+?Constructor\]$/,Vb=/^0o[0-7]+$/i,Wb=/^(?:0|[1-9]\d*)$/,Xb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yb=/($^)/,Zb=/['\n\r\u2028\u2029\\]/g,$b="\\ud800-\\udfff",_b="\\u0300-\\u036f\\ufe20-\\ufe23",ac="\\u20d0-\\u20f0",bc="\\u2700-\\u27bf",cc="a-z\\xdf-\\xf6\\xf8-\\xff",dc="\\xac\\xb1\\xd7\\xf7",ec="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fc="\\u2000-\\u206f",gc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hc="A-Z\\xc0-\\xd6\\xd8-\\xde",ic="\\ufe0e\\ufe0f",jc=dc+ec+fc+gc,kc="['’]",lc="["+$b+"]",mc="["+jc+"]",nc="["+_b+ac+"]",oc="\\d+",pc="["+bc+"]",qc="["+cc+"]",rc="[^"+$b+jc+oc+bc+cc+hc+"]",sc="\\ud83c[\\udffb-\\udfff]",tc="(?:"+nc+"|"+sc+")",uc="[^"+$b+"]",vc="(?:\\ud83c[\\udde6-\\uddff]){2}",wc="[\\ud800-\\udbff][\\udc00-\\udfff]",xc="["+hc+"]",yc="\\u200d",zc="(?:"+qc+"|"+rc+")",Ac="(?:"+xc+"|"+rc+")",Bc="(?:"+kc+"(?:d|ll|m|re|s|t|ve))?",Cc="(?:"+kc+"(?:D|LL|M|RE|S|T|VE))?",Dc=tc+"?",Ec="["+ic+"]?",Fc="(?:"+yc+"(?:"+[uc,vc,wc].join("|")+")"+Ec+Dc+")*",Gc="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Hc="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ic=Ec+Dc+Fc,Jc="(?:"+[pc,vc,wc].join("|")+")"+Ic,Kc="(?:"+[uc+nc+"?",nc,vc,wc,lc].join("|")+")",Lc=RegExp(kc,"g"),Mc=RegExp(nc,"g"),Nc=RegExp(sc+"(?="+sc+")|"+Kc+Ic,"g"),Oc=RegExp([xc+"?"+qc+"+"+Bc+"(?="+[mc,xc,"$"].join("|")+")",Ac+"+"+Cc+"(?="+[mc,xc+zc,"$"].join("|")+")",xc+"?"+zc+"+"+Bc,xc+"+"+Cc,Hc,Gc,oc,Jc].join("|"),"g"),Pc=RegExp("["+yc+$b+_b+ac+ic+"]"),Qc=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sc=-1,Tc={};Tc[jb]=Tc[kb]=Tc[lb]=Tc[mb]=Tc[nb]=Tc[ob]=Tc[pb]=Tc[qb]=Tc[rb]=!0,Tc[Na]=Tc[Oa]=Tc[hb]=Tc[Qa]=Tc[ib]=Tc[Ra]=Tc[Ta]=Tc[Ua]=Tc[Wa]=Tc[Xa]=Tc[Za]=Tc[ab]=Tc[bb]=Tc[cb]=Tc[fb]=!1;var Uc={};Uc[Na]=Uc[Oa]=Uc[hb]=Uc[ib]=Uc[Qa]=Uc[Ra]=Uc[jb]=Uc[kb]=Uc[lb]=Uc[mb]=Uc[nb]=Uc[Wa]=Uc[Xa]=Uc[Za]=Uc[ab]=Uc[bb]=Uc[cb]=Uc[db]=Uc[ob]=Uc[pb]=Uc[qb]=Uc[rb]=!0,
Uc[Ta]=Uc[Ua]=Uc[fb]=!1;var Vc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Wc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zc=parseFloat,$c=parseInt,_c="object"==("undefined"==typeof b?"undefined":e(b))&&b&&b.Object===Object&&b,ad="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,bd=_c||ad||Function("return this")(),cd="object"==("undefined"==typeof d?"undefined":e(d))&&d&&!d.nodeType&&d,dd=cd&&"object"==("undefined"==typeof c?"undefined":e(c))&&c&&!c.nodeType&&c,ed=dd&&dd.exports===cd,fd=ed&&_c.process,gd=function(){try{return fd&&fd.binding("util")}catch(a){}}(),hd=gd&&gd.isArrayBuffer,id=gd&&gd.isDate,jd=gd&&gd.isMap,kd=gd&&gd.isRegExp,ld=gd&&gd.isSet,md=gd&&gd.isTypedArray,nd=C("length"),od=D(Vc),pd=D(Wc),qd=D(Xc),rd=function td(a){function b(a){if(di(a)&&!om(a)&&!(a instanceof u)){if(a instanceof d)return a;if(ok.call(a,"__wrapped__"))return ag(a)}return new d(a)}function c(){}function d(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=ea}function u(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ja,this.__views__=[]}function D(){var a=new u(this.__wrapped__);return a.__actions__=Le(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Le(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Le(this.__views__),a}function Z(){if(this.__filtered__){var a=new u(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ba(){var a=this.__wrapped__.value(),b=this.__dir__,c=om(a),d=0>b,e=c?a.length:0,f=xf(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Sk(i,this.__takeCount__);if(!c||ga>e||e==i&&n==i)return se(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Da)q=u;else if(!u){if(t==Ca)continue a;break a}}o[m++]=q}return o}function ca(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Ob(){this.__data__=al?al(null):{},this.size=0}function $b(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function _b(a){var b=this.__data__;if(al){var c=b[a];return c===ja?ea:c}return ok.call(b,a)?b[a]:ea}function ac(a){var b=this.__data__;return al?b[a]!==ea:ok.call(b,a)}function bc(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=al&&b===ea?ja:b,this}function cc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function dc(){this.__data__=[],this.size=0}function ec(a){var b=this.__data__,c=Ec(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():Ck.call(b,c,1),--this.size,!0}function fc(a){var b=this.__data__,c=Ec(b,a);return 0>c?ea:b[c][1]}function gc(a){return Ec(this.__data__,a)>-1}function hc(a,b){var c=this.__data__,d=Ec(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}function ic(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function jc(){this.size=0,this.__data__={hash:new ca,map:new(Yk||cc),string:new ca}}function kc(a){var b=tf(this,a)["delete"](a);return this.size-=b?1:0,b}function lc(a){return tf(this,a).get(a)}function mc(a){return tf(this,a).has(a)}function nc(a,b){var c=tf(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function oc(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new ic;++b<c;)this.add(a[b])}function pc(a){return this.__data__.set(a,ja),this}function qc(a){return this.__data__.has(a)}function rc(a){var b=this.__data__=new cc(a);this.size=b.size}function sc(){this.__data__=new cc,this.size=0}function tc(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}function uc(a){return this.__data__.get(a)}function vc(a){return this.__data__.has(a)}function wc(a,b){var c=this.__data__;if(c instanceof cc){var d=c.__data__;if(!Yk||d.length<ga-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new ic(d)}return c.set(a,b),this.size=c.size,this}function xc(a,b){var c=om(a),d=!c&&nm(a),e=!c&&!d&&qm(a),f=!c&&!d&&!e&&vm(a),g=c||d||e||f,h=g?H(a.length,hk):[],i=h.length;for(var j in a)!b&&!ok.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Ff(j,i))||h.push(j);return h}function yc(a){var b=a.length;return b?a[_d(0,b-1)]:ea}function zc(a,b){return Yf(Le(a),Jc(b,0,a.length))}function Ac(a){return Yf(Le(a))}function Bc(a,b,c,d){return a===ea||Rh(a,lk[c])&&!ok.call(d,c)?b:a}function Cc(a,b,c){(c!==ea&&!Rh(a[b],c)||c===ea&&!(b in a))&&Hc(a,b,c)}function Dc(a,b,c){var d=a[b];ok.call(a,b)&&Rh(d,c)&&(c!==ea||b in a)||Hc(a,b,c)}function Ec(a,b){for(var c=a.length;c--;)if(Rh(a[c][0],b))return c;return-1}function Fc(a,b,c,d){return ml(a,function(a,e,f){b(d,a,c(a),f)}),d}function Gc(a,b){return a&&Me(b,Mi(b),a)}function Hc(a,b,c){"__proto__"==b&&Gk?Gk(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Ic(a,b){for(var c=-1,d=b.length,e=ak(d),f=null==a;++c<d;)e[c]=f?ea:Ji(a,b[c]);return e}function Jc(a,b,c){return a===a&&(c!==ea&&(a=c>=a?a:c),b!==ea&&(a=a>=b?a:b)),a}function Kc(a,b,c,d,e,f,g){var h;if(d&&(h=f?d(a,e,f,g):d(a)),h!==ea)return h;if(!ci(a))return a;var i=om(a);if(i){if(h=Af(a),!b)return Le(a,h)}else{var k=yl(a),l=k==Ua||k==Va;if(qm(a))return ze(a,b);if(k==Za||k==Na||l&&!f){if(h=Bf(l?{}:a),!b)return Ne(a,Gc(h,a))}else{if(!Uc[k])return f?a:{};h=Cf(a,k,Kc,b)}}g||(g=new rc);var m=g.get(a);if(m)return m;g.set(a,h);var n=i?ea:(c?of:Mi)(a);return j(n||a,function(e,f){n&&(f=e,e=a[f]),Dc(h,f,Kc(e,b,c,d,f,a,g))}),h}function Nc(a){var b=Mi(a);return function(c){return Oc(c,a,b)}}function Oc(a,b,c){var d=c.length;if(null==a)return!d;for(a=fk(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===ea&&!(e in a)||!f(g))return!1}return!0}function Pc(a,b,c){if("function"!=typeof a)throw new ik(ia);return Bl(function(){a.apply(ea,c)},b)}function Qc(a,b,c,d){var e=-1,f=n,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=p(b,J(c))),d?(f=o,g=!1):b.length>=ga&&(f=L,g=!1,b=new oc(b));a:for(;++e<h;){var k=a[e],l=null==c?k:c(k);if(k=d||0!==k?k:0,g&&l===l){for(var m=j;m--;)if(b[m]===l)continue a;i.push(k)}else f(b,l,d)||i.push(k)}return i}function Vc(a,b){var c=!0;return ml(a,function(a,d,e){return c=!!b(a,d,e)}),c}function Wc(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===ea?g===g&&!oi(g):c(g,h)))var h=g,i=f}return i}function Xc(a,b,c,d){var e=a.length;for(c=ui(c),0>c&&(c=-c>e?0:e+c),d=d===ea||d>e?e:ui(d),0>d&&(d+=e),d=c>d?0:vi(d);d>c;)a[c++]=b;return a}function Yc(a,b){var c=[];return ml(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function _c(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=Ef),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?_c(h,b-1,c,d,e):q(e,h):d||(e[e.length]=h)}return e}function ad(a,b){return a&&ol(a,b,Mi)}function cd(a,b){return a&&pl(a,b,Mi)}function dd(a,b){return m(b,function(b){return _h(a[b])})}function fd(a,b){b=Hf(b,a)?[b]:xe(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[Zf(b[c++])];return c&&c==d?a:ea}function gd(a,b,c){var d=b(a);return om(a)?d:q(d,c(a))}function nd(a){return null==a?a===ea?eb:Ya:(a=fk(a),Fk&&Fk in a?wf(a):Sf(a))}function rd(a,b){return a>b}function ud(a,b){return null!=a&&ok.call(a,b)}function vd(a,b){return null!=a&&b in fk(a)}function wd(a,b,c){return a>=Sk(b,c)&&a<Rk(b,c)}function xd(a,b,c){for(var d=c?o:n,e=a[0].length,f=a.length,g=f,h=ak(f),i=1/0,j=[];g--;){var k=a[g];g&&b&&(k=p(k,J(b))),i=Sk(k.length,i),h[g]=!c&&(b||e>=120&&k.length>=120)?new oc(g&&k):ea}k=a[0];var l=-1,m=h[0];a:for(;++l<e&&j.length<i;){var q=k[l],r=b?b(q):q;if(q=c||0!==q?q:0,!(m?L(m,r):d(j,r,c))){for(g=f;--g;){var s=h[g];if(!(s?L(s,r):d(a[g],r,c)))continue a}m&&m.push(r),j.push(q)}}return j}function yd(a,b,c,d){return ad(a,function(a,e,f){b(d,c(a),e,f)}),d}function zd(a,b,c){Hf(b,a)||(b=xe(b),a=Uf(a,b),b=tg(b));var d=null==a?a:a[Zf(b)];return null==d?ea:h(d,a,c)}function Ad(a){return di(a)&&nd(a)==Na}function Bd(a){return di(a)&&nd(a)==hb}function Cd(a){return di(a)&&nd(a)==Ra}function Dd(a,b,c,d,e){return a===b?!0:null==a||null==b||!ci(a)&&!di(b)?a!==a&&b!==b:Ed(a,b,Dd,c,d,e)}function Ed(a,b,c,d,e,f){var g=om(a),h=om(b),i=Oa,j=Oa;g||(i=yl(a),i=i==Na?Za:i),h||(j=yl(b),j=j==Na?Za:j);var k=i==Za,l=j==Za,m=i==j;if(m&&qm(a)){if(!qm(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new rc),g||vm(a)?kf(a,b,c,d,e,f):lf(a,b,i,c,d,e,f);if(!(e&xa)){var n=k&&ok.call(a,"__wrapped__"),o=l&&ok.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new rc),c(p,q,d,e,f)}}return m?(f||(f=new rc),mf(a,b,c,d,e,f)):!1}function Fd(a){return di(a)&&yl(a)==Wa}function Gd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=fk(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===ea&&!(i in a))return!1}else{var l=new rc;if(d)var m=d(j,k,i,a,b,l);if(!(m===ea?Dd(k,j,d,wa|xa,l):m))return!1}}return!0}function Hd(a){if(!ci(a)||Kf(a))return!1;var b=_h(a)?uk:Ub;return b.test($f(a))}function Id(a){return di(a)&&nd(a)==ab}function Jd(a){return di(a)&&yl(a)==bb}function Kd(a){return di(a)&&bi(a.length)&&!!Tc[nd(a)]}function Ld(a){return"function"==typeof a?a:null==a?Cj:"object"==("undefined"==typeof a?"undefined":e(a))?om(a)?Rd(a[0],a[1]):Qd(a):Kj(a)}function Md(a){if(!Lf(a))return Qk(a);var b=[];for(var c in fk(a))ok.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Nd(a){if(!ci(a))return Rf(a);var b=Lf(a),c=[];for(var d in a)("constructor"!=d||!b&&ok.call(a,d))&&c.push(d);return c}function Od(a,b){return b>a}function Pd(a,b){var c=-1,d=Sh(a)?ak(a.length):[];return ml(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Qd(a){var b=uf(a);return 1==b.length&&b[0][2]?Nf(b[0][0],b[0][1]):function(c){return c===a||Gd(c,a,b)}}function Rd(a,b){return Hf(a)&&Mf(b)?Nf(Zf(a),b):function(c){var d=Ji(c,a);return d===ea&&d===b?Li(c,a):Dd(b,d,ea,wa|xa)}}function Sd(a,b,c,d,e){a!==b&&ol(b,function(f,g){if(ci(f))e||(e=new rc),Td(a,b,g,c,Sd,d,e);else{var h=d?d(a[g],f,g+"",a,b,e):ea;h===ea&&(h=f),Cc(a,g,h)}},Ni)}function Td(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void Cc(a,c,j);var k=f?f(h,i,c+"",a,b,g):ea,l=k===ea;if(l){var m=om(i),n=!m&&qm(i),o=!m&&!n&&vm(i);k=i,m||n||o?om(h)?k=h:Th(h)?k=Le(h):n?(l=!1,k=ze(i,!0)):o?(l=!1,k=Ge(i,!0)):k=[]:li(i)||nm(i)?(k=h,nm(h)?k=xi(h):(!ci(h)||d&&_h(h))&&(k=Bf(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g["delete"](i)),Cc(a,c,k)}function Ud(a,b){var c=a.length;if(c)return b+=0>b?c:0,Ff(b,c)?a[b]:ea}function Vd(a,b,c){var d=-1;b=p(b.length?b:[Cj],J(sf()));var e=Pd(a,function(a,c,e){var f=p(b,function(b){return b(a)});return{criteria:f,index:++d,value:a}});return F(e,function(a,b){return Ie(a,b,c)})}function Wd(a,b){return a=fk(a),Xd(a,b,function(b,c){return c in a})}function Xd(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=a[g];c(h,g)&&Hc(f,g,h)}return f}function Yd(a){return function(b){return fd(b,a)}}function Zd(a,b,c,d){var e=d?z:y,f=-1,g=b.length,h=a;for(a===b&&(b=Le(b)),c&&(h=p(a,J(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&Ck.call(h,i,1),Ck.call(a,i,1);return a}function $d(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;if(Ff(e))Ck.call(a,e,1);else if(Hf(e,a))delete a[Zf(e)];else{var g=xe(e),h=Uf(a,g);null!=h&&delete h[Zf(tg(g))]}}}return a}function _d(a,b){return a+Lk(Vk()*(b-a+1))}function ae(a,b,c,d){for(var e=-1,f=Rk(Kk((b-a)/(c||1)),0),g=ak(f);f--;)g[d?f:++e]=a,a+=c;return g}function be(a,b){var c="";if(!a||1>b||b>Ga)return c;do b%2&&(c+=a),b=Lk(b/2),b&&(a+=a);while(b);return c}function ce(a,b){return Cl(Tf(a,b,Cj),a+"")}function de(a){return yc(Zi(a))}function ee(a,b){var c=Zi(a);return Yf(c,Jc(b,0,c.length))}function fe(a,b,c,d){if(!ci(a))return a;b=Hf(b,a)?[b]:xe(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=Zf(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):ea,j===ea&&(j=ci(k)?k:Ff(b[e+1])?[]:{})}Dc(h,i,j),h=h[i]}return a}function ge(a){return Yf(Zi(a))}function he(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=ak(e);++d<e;)f[d]=a[d+b];return f}function ie(a,b){var c;return ml(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function je(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b===b&&La>=e){for(;e>d;){var f=d+e>>>1,g=a[f];null!==g&&!oi(g)&&(c?b>=g:b>g)?d=f+1:e=f}return e}return ke(a,b,Cj,c)}function ke(a,b,c,d){b=c(b);for(var e=0,f=null==a?0:a.length,g=b!==b,h=null===b,i=oi(b),j=b===ea;f>e;){var k=Lk((e+f)/2),l=c(a[k]),m=l!==ea,n=null===l,o=l===l,p=oi(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):n||p?!1:d?b>=l:b>l;q?e=k+1:f=k}return Sk(f,Ka)}function le(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!Rh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function me(a){return"number"==typeof a?a:oi(a)?Ia:+a}function ne(a){if("string"==typeof a)return a;if(om(a))return p(a,ne)+"";if(oi(a))return kl?kl.call(a):"";var b=a+"";return"0"==b&&1/a==-Fa?"-0":b}function oe(a,b,c){var d=-1,e=n,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=o;else if(f>=ga){var j=b?null:ul(a);if(j)return X(j);g=!1,e=L,i=new oc}else i=b?[]:h;a:for(;++d<f;){var k=a[d],l=b?b(k):k;if(k=c||0!==k?k:0,g&&l===l){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),h.push(k)}else e(i,l,c)||(i!==h&&i.push(l),h.push(k))}return h}function pe(a,b){b=Hf(b,a)?[b]:xe(b),a=Uf(a,b);var c=Zf(tg(b));return!(null!=a&&ok.call(a,c))||delete a[c]}function qe(a,b,c,d){return fe(a,b,c(fd(a,b)),d)}function re(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?he(a,d?0:f,d?f+1:e):he(a,d?f+1:0,d?e:f)}function se(a,b){var c=a;return c instanceof u&&(c=c.value()),r(b,function(a,b){return b.func.apply(b.thisArg,q([a],b.args))},c)}function te(a,b,c){var d=a.length;if(2>d)return d?oe(a[0]):[];for(var e=-1,f=ak(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=Qc(f[e]||g,a[h],b,c));return oe(_c(f,1),b,c)}function ue(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=f>d?b[d]:ea;c(g,a[d],h)}return g}function ve(a){return Th(a)?a:[]}function we(a){return"function"==typeof a?a:Cj}function xe(a){return om(a)?a:Dl(a)}function ye(a,b,c){var d=a.length;return c=c===ea?d:c,!b&&c>=d?a:he(a,b,c)}function ze(a,b){if(b)return a.slice();var c=a.length,d=yk?yk(c):new a.constructor(c);return a.copy(d),d}function Ae(a){var b=new a.constructor(a.byteLength);return new xk(b).set(new xk(a)),b}function Be(a,b){var c=b?Ae(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Ce(a,b,c){var d=b?c(U(a),!0):U(a);return r(d,f,new a.constructor)}function De(a){var b=new a.constructor(a.source,Rb.exec(a));return b.lastIndex=a.lastIndex,b}function Ee(a,b,c){var d=b?c(X(a),!0):X(a);return r(d,g,new a.constructor)}function Fe(a){return jl?fk(jl.call(a)):{}}function Ge(a,b){var c=b?Ae(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function He(a,b){if(a!==b){var c=a!==ea,d=null===a,e=a===a,f=oi(a),g=b!==ea,h=null===b,i=b===b,j=oi(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&b>a||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function Ie(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=He(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function Je(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Rk(f-g,0),k=ak(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||f>e)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function Ke(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Rk(f-h,0),l=ak(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||f>e)&&(l[n+c[g]]=a[e++]);return l}function Le(a,b){var c=-1,d=a.length;for(b||(b=ak(d));++c<d;)b[c]=a[c];return b}function Me(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):ea;i===ea&&(i=a[h]),e?Hc(c,h,i):Dc(c,h,i)}return c}function Ne(a,b){return Me(a,wl(a),b)}function Oe(a,b){return function(c,d){var e=om(c)?i:Fc,f=b?b():{};return e(c,a,sf(d,2),f)}}function Pe(a){return ce(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:ea,g=e>2?c[2]:ea;for(f=a.length>3&&"function"==typeof f?(e--,f):ea,g&&Gf(c[0],c[1],g)&&(f=3>e?ea:f,e=1),b=fk(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Qe(a,b){return function(c,d){if(null==c)return c;if(!Sh(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=fk(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function Re(a){return function(b,c,d){for(var e=-1,f=fk(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function Se(a,b,c){function d(){var b=this&&this!==bd&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&ma,f=Ve(a);return d}function Te(a){return function(b){b=zi(b);var c=R(b)?aa(b):ea,d=c?c[0]:b.charAt(0),e=c?ye(c,1).join(""):b.slice(1);return d[a]()+e}}function Ue(a){return function(b){return r(xj(dj(b).replace(Lc,"")),a,"")}}function Ve(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=ll(a.prototype),d=a.apply(c,b);return ci(d)?d:c}}function We(a,b,c){function d(){for(var f=arguments.length,g=ak(f),i=f,j=rf(d);i--;)g[i]=arguments[i];var k=3>f&&g[0]!==j&&g[f-1]!==j?[]:W(g,j);if(f-=k.length,c>f)return ff(a,b,Ze,d.placeholder,ea,g,k,ea,ea,c-f);var l=this&&this!==bd&&this instanceof d?e:a;return h(l,this,g)}var e=Ve(a);return d}function Xe(a){return function(b,c,d){var e=fk(b);if(!Sh(b)){var f=sf(c,3);b=Mi(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:ea}}function Ye(a){return nf(function(b){var c=b.length,e=c,f=d.prototype.thru;for(a&&b.reverse();e--;){var g=b[e];if("function"!=typeof g)throw new ik(ia);if(f&&!h&&"wrapper"==qf(g))var h=new d([],!0)}for(e=h?e:c;++e<c;){g=b[e];var i=qf(g),j="wrapper"==i?vl(g):ea;h=j&&Jf(j[0])&&j[1]==(ta|pa|ra|ua)&&!j[4].length&&1==j[9]?h[qf(j[0])].apply(h,j[3]):1==g.length&&Jf(g)?h[i]():h.thru(g)}return function(){var a=arguments,d=a[0];if(h&&1==a.length&&om(d)&&d.length>=ga)return h.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function Ze(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=ak(r),t=r;t--;)s[t]=arguments[t];if(o)var u=rf(k),v=O(s,u);if(d&&(s=Je(s,d,e,o)),f&&(s=Ke(s,f,g,o)),r-=v,o&&j>r){var w=W(s,u);return ff(a,b,Ze,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=Vf(s,h):p&&r>1&&s.reverse(),l&&r>i&&(s.length=i),this&&this!==bd&&this instanceof k&&(y=q||Ve(y)),y.apply(x,s)}var l=b&ta,m=b&ma,n=b&na,o=b&(pa|qa),p=b&va,q=n?ea:Ve(a);return k}function $e(a,b){return function(c,d){return yd(c,a,b(d),{})}}function _e(a,b){return function(c,d){var e;if(c===ea&&d===ea)return b;if(c!==ea&&(e=c),d!==ea){if(e===ea)return d;"string"==typeof c||"string"==typeof d?(c=ne(c),d=ne(d)):(c=me(c),d=me(d)),e=a(c,d)}return e}}function af(a){return nf(function(b){return b=p(b,J(sf())),ce(function(c){var d=this;return a(b,function(a){return h(a,d,c)})})})}function bf(a,b){b=b===ea?" ":ne(b);var c=b.length;if(2>c)return c?be(b,a):b;var d=be(b,Kk(a/_(b)));return R(b)?ye(aa(d),0,a).join(""):d.slice(0,a)}function cf(a,b,c,d){function e(){for(var b=-1,i=arguments.length,j=-1,k=d.length,l=ak(k+i),m=this&&this!==bd&&this instanceof e?g:a;++j<k;)l[j]=d[j];for(;i--;)l[j++]=arguments[++b];return h(m,f?c:this,l)}var f=b&ma,g=Ve(a);return e}function df(a){return function(b,c,d){return d&&"number"!=typeof d&&Gf(b,c,d)&&(c=d=ea),b=ti(b),c===ea?(c=b,b=0):c=ti(c),d=d===ea?c>b?1:-1:ti(d),ae(b,c,d,a)}}function ef(a){return function(b,c){return("string"!=typeof b||"string"!=typeof c)&&(b=wi(b),c=wi(c)),a(b,c)}}function ff(a,b,c,d,e,f,g,h,i,j){var k=b&pa,l=k?g:ea,m=k?ea:g,n=k?f:ea,o=k?ea:f;b|=k?ra:sa,b&=~(k?sa:ra),b&oa||(b&=~(ma|na));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(ea,p);return Jf(a)&&Al(q,p),q.placeholder=d,Wf(q,a,b)}function gf(a){var b=ek[a];return function(a,c){if(a=wi(a),c=Sk(ui(c),292)){var d=(zi(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(zi(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function hf(a){return function(b){var c=yl(b);return c==Wa?U(b):c==bb?Y(b):I(b,a(b))}}function jf(a,b,c,d,e,f,g,h){var i=b&na;if(!i&&"function"!=typeof a)throw new ik(ia);var j=d?d.length:0;if(j||(b&=~(ra|sa),d=e=ea),g=g===ea?g:Rk(ui(g),0),h=h===ea?h:ui(h),j-=e?e.length:0,b&sa){var k=d,l=e;d=e=ea}var m=i?ea:vl(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&Pf(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=null==n[9]?i?0:a.length:Rk(n[9]-j,0),!h&&b&(pa|qa)&&(b&=~(pa|qa)),b&&b!=ma)o=b==pa||b==qa?We(a,b,h):b!=ra&&b!=(ma|ra)||e.length?Ze.apply(ea,n):cf(a,b,c,d);else var o=Se(a,b,c);var p=m?ql:Al;return Wf(p(o,n),a,b)}function kf(a,b,c,d,e,f){var g=e&xa,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=e&wa?new oc:ea;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(p!==ea){if(p)continue;l=!1;break}if(m){if(!t(b,function(a,b){return L(m,b)||n!==a&&!c(n,a,d,e,f)?void 0:m.push(b)})){l=!1;break}}else if(n!==o&&!c(n,o,d,e,f)){l=!1;break}}return f["delete"](a),f["delete"](b),l}function lf(a,b,c,d,e,f,g){switch(c){case ib:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case hb:return a.byteLength==b.byteLength&&d(new xk(a),new xk(b))?!0:!1;case Qa:case Ra:case Xa:return Rh(+a,+b);case Ta:return a.name==b.name&&a.message==b.message;case ab:case cb:return a==b+"";case Wa:var h=U;case bb:var i=f&xa;if(h||(h=X),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;f|=wa,g.set(a,b);var k=kf(h(a),h(b),d,e,f,g);return g["delete"](a),k;case db:if(jl)return jl.call(a)==jl.call(b)}return!1}function mf(a,b,c,d,e,f){var g=e&xa,h=Mi(a),i=h.length,j=Mi(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:ok.call(b,m)))return!1}var n=f.get(a);if(n&&f.get(b))return n==b;var o=!0;f.set(a,b),f.set(b,a);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===ea?q===r||c(q,r,d,e,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f["delete"](a),f["delete"](b),o}function nf(a){return Cl(Tf(a,ea,lg),a+"")}function of(a){return gd(a,Mi,wl)}function pf(a){return gd(a,Ni,xl)}function qf(a){for(var b=a.name+"",c=cl[b],d=ok.call(cl,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function rf(a){var c=ok.call(b,"placeholder")?b:a;return c.placeholder}function sf(){var a=b.iteratee||Dj;return a=a===Dj?Ld:a,arguments.length?a(arguments[0],arguments[1]):a}function tf(a,b){var c=a.__data__;return If(b)?c["string"==typeof b?"string":"hash"]:c.map}function uf(a){for(var b=Mi(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,Mf(e)]}return b}function vf(a,b){var c=Q(a,b);return Hd(c)?c:ea}function wf(a){var b=ok.call(a,Fk),c=a[Fk];try{a[Fk]=ea;var d=!0}catch(e){}var f=rk.call(a);return d&&(b?a[Fk]=c:delete a[Fk]),f}function xf(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Sk(b,a+g);break;case"takeRight":a=Rk(a,b-g)}}return{start:a,end:b}}function yf(a){var b=a.match(Mb);return b?b[1].split(Nb):[]}function zf(a,b,c){b=Hf(b,a)?[b]:xe(b);for(var d=-1,e=b.length,f=!1;++d<e;){var g=Zf(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:(e=null==a?0:a.length,!!e&&bi(e)&&Ff(g,e)&&(om(a)||nm(a)))}function Af(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&ok.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Bf(a){return"function"!=typeof a.constructor||Lf(a)?{}:ll(zk(a))}function Cf(a,b,c,d){var e=a.constructor;switch(b){case hb:return Ae(a);case Qa:case Ra:return new e(+a);case ib:return Be(a,d);case jb:case kb:case lb:case mb:case nb:case ob:case pb:case qb:case rb:return Ge(a,d);case Wa:return Ce(a,d,c);case Xa:case cb:return new e(a);case ab:return De(a);case bb:return Ee(a,d,c);case db:return Fe(a)}}function Df(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(Lb,"{\n/* [wrapped with "+b+"] */\n")}function Ef(a){return om(a)||nm(a)||!!(Dk&&a&&a[Dk])}function Ff(a,b){return b=null==b?Ga:b,!!b&&("number"==typeof a||Wb.test(a))&&a>-1&&a%1==0&&b>a}function Gf(a,b,c){if(!ci(c))return!1;var d="undefined"==typeof b?"undefined":e(b);return("number"==d?Sh(c)&&Ff(b,c.length):"string"==d&&b in c)?Rh(c[b],a):!1}function Hf(a,b){if(om(a))return!1;var c="undefined"==typeof a?"undefined":e(a);return"number"==c||"symbol"==c||"boolean"==c||null==a||oi(a)?!0:Db.test(a)||!Cb.test(a)||null!=b&&a in fk(b)}function If(a){var b="undefined"==typeof a?"undefined":e(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function Jf(a){var c=qf(a),d=b[c];if("function"!=typeof d||!(c in u.prototype))return!1;if(a===d)return!0;var e=vl(d);return!!e&&a===e[0]}function Kf(a){return!!qk&&qk in a}function Lf(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||lk;return a===c}function Mf(a){return a===a&&!ci(a)}function Nf(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==ea||a in fk(c))}}function Of(a){var b=Dh(a,function(a){return c.size===ka&&c.clear(),a}),c=b.cache;return b}function Pf(a,b){var c=a[1],d=b[1],e=c|d,f=(ma|na|ta)>e,g=d==ta&&c==pa||d==ta&&c==ua&&a[7].length<=b[8]||d==(ta|ua)&&b[7].length<=b[8]&&c==pa;if(!f&&!g)return a;d&ma&&(a[2]=b[2],e|=c&ma?0:oa);var h=b[3];if(h){var i=a[3];a[3]=i?Je(i,h,b[4]):h,a[4]=i?W(a[3],la):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?Ke(i,h,b[6]):h,a[6]=i?W(a[5],la):b[6]),h=b[7],h&&(a[7]=h),d&ta&&(a[8]=null==a[8]?b[8]:Sk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Qf(a,b,c,d,e,f){return ci(a)&&ci(b)&&(f.set(b,a),Sd(a,b,ea,Qf,f),f["delete"](b)),a}function Rf(a){var b=[];if(null!=a)for(var c in fk(a))b.push(c);return b}function Sf(a){return rk.call(a)}function Tf(a,b,c){return b=Rk(b===ea?a.length-1:b,0),function(){for(var d=arguments,e=-1,f=Rk(d.length-b,0),g=ak(f);++e<f;)g[e]=d[b+e];e=-1;for(var i=ak(b+1);++e<b;)i[e]=d[e];return i[b]=c(g),h(a,this,i)}}function Uf(a,b){return 1==b.length?a:fd(a,he(b,0,-1))}function Vf(a,b){for(var c=a.length,d=Sk(b.length,c),e=Le(a);d--;){var f=b[d];a[d]=Ff(f,c)?e[f]:ea}return a}function Wf(a,b,c){var d=b+"";return Cl(a,Df(d,_f(yf(d),c)))}function Xf(a){var b=0,c=0;return function(){var d=Tk(),e=Ba-(d-c);if(c=d,e>0){if(++b>=Aa)return arguments[0]}else b=0;return a.apply(ea,arguments)}}function Yf(a,b){var c=-1,d=a.length,e=d-1;for(b=b===ea?d:b;++c<b;){var f=_d(c,e),g=a[f];a[f]=a[c],a[c]=g}return a.length=b,a}function Zf(a){if("string"==typeof a||oi(a))return a;var b=a+"";return"0"==b&&1/a==-Fa?"-0":b}function $f(a){if(null!=a){try{return nk.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function _f(a,b){return j(Ma,function(c){var d="_."+c[0];b&c[1]&&!n(a,d)&&a.push(d)}),a.sort()}function ag(a){if(a instanceof u)return a.clone();var b=new d(a.__wrapped__,a.__chain__);return b.__actions__=Le(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function bg(a,b,c){b=(c?Gf(a,b,c):b===ea)?1:Rk(ui(b),0);var d=null==a?0:a.length;if(!d||1>b)return[];for(var e=0,f=0,g=ak(Kk(d/b));d>e;)g[f++]=he(a,e,e+=b);return g}function cg(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function dg(){var a=arguments.length;if(!a)return[];for(var b=ak(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return q(om(c)?Le(c):[c],_c(b,1))}function eg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:ui(b),he(a,0>b?0:b,d)):[]}function fg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:ui(b),b=d-b,he(a,0,0>b?0:b)):[]}function gg(a,b){return a&&a.length?re(a,sf(b,3),!0,!0):[]}function hg(a,b){return a&&a.length?re(a,sf(b,3),!0):[]}function ig(a,b,c,d){var e=null==a?0:a.length;return e?(c&&"number"!=typeof c&&Gf(a,b,c)&&(c=0,d=e),Xc(a,b,c,d)):[]}function jg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:ui(c);return 0>e&&(e=Rk(d+e,0)),x(a,sf(b,3),e)}function kg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;return c!==ea&&(e=ui(c),e=0>c?Rk(d+e,0):Sk(e,d-1)),x(a,sf(b,3),e,!0)}function lg(a){var b=null==a?0:a.length;return b?_c(a,1):[]}function mg(a){var b=null==a?0:a.length;return b?_c(a,Fa):[]}function ng(a,b){var c=null==a?0:a.length;return c?(b=b===ea?1:ui(b),_c(a,b)):[]}function og(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function pg(a){return a&&a.length?a[0]:ea}function qg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:ui(c);return 0>e&&(e=Rk(d+e,0)),y(a,b,e)}function rg(a){var b=null==a?0:a.length;return b?he(a,0,-1):[]}function sg(a,b){return null==a?"":Pk.call(a,b)}function tg(a){var b=null==a?0:a.length;return b?a[b-1]:ea}function ug(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;return c!==ea&&(e=ui(c),e=0>e?Rk(d+e,0):Sk(e,d-1)),b===b?$(a,b,e):x(a,A,e,!0)}function vg(a,b){return a&&a.length?Ud(a,ui(b)):ea}function wg(a,b){return a&&a.length&&b&&b.length?Zd(a,b):a}function xg(a,b,c){return a&&a.length&&b&&b.length?Zd(a,b,sf(c,2)):a}function yg(a,b,c){return a&&a.length&&b&&b.length?Zd(a,b,ea,c):a}function zg(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=sf(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return $d(a,e),c}function Ag(a){return null==a?a:Wk.call(a)}function Bg(a,b,c){var d=null==a?0:a.length;return d?(c&&"number"!=typeof c&&Gf(a,b,c)?(b=0,c=d):(b=null==b?0:ui(b),c=c===ea?d:ui(c)),he(a,b,c)):[]}function Cg(a,b){return je(a,b)}function Dg(a,b,c){return ke(a,b,sf(c,2))}function Eg(a,b){var c=null==a?0:a.length;if(c){var d=je(a,b);if(c>d&&Rh(a[d],b))return d}return-1}function Fg(a,b){return je(a,b,!0)}function Gg(a,b,c){return ke(a,b,sf(c,2),!0)}function Hg(a,b){var c=null==a?0:a.length;if(c){var d=je(a,b,!0)-1;if(Rh(a[d],b))return d}return-1}function Ig(a){
return a&&a.length?le(a):[]}function Jg(a,b){return a&&a.length?le(a,sf(b,2)):[]}function Kg(a){var b=null==a?0:a.length;return b?he(a,1,b):[]}function Lg(a,b,c){return a&&a.length?(b=c||b===ea?1:ui(b),he(a,0,0>b?0:b)):[]}function Mg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:ui(b),b=d-b,he(a,0>b?0:b,d)):[]}function Ng(a,b){return a&&a.length?re(a,sf(b,3),!1,!0):[]}function Og(a,b){return a&&a.length?re(a,sf(b,3)):[]}function Pg(a){return a&&a.length?oe(a):[]}function Qg(a,b){return a&&a.length?oe(a,sf(b,2)):[]}function Rg(a,b){return b="function"==typeof b?b:ea,a&&a.length?oe(a,ea,b):[]}function Sg(a){if(!a||!a.length)return[];var b=0;return a=m(a,function(a){return Th(a)?(b=Rk(a.length,b),!0):void 0}),H(b,function(b){return p(a,C(b))})}function Tg(a,b){if(!a||!a.length)return[];var c=Sg(a);return null==b?c:p(c,function(a){return h(b,ea,a)})}function Ug(a,b){return ue(a||[],b||[],Dc)}function Vg(a,b){return ue(a||[],b||[],fe)}function Wg(a){var c=b(a);return c.__chain__=!0,c}function Xg(a,b){return b(a),a}function Yg(a,b){return b(a)}function Zg(){return Wg(this)}function $g(){return new d(this.value(),this.__chain__)}function _g(){this.__values__===ea&&(this.__values__=si(this.value()));var a=this.__index__>=this.__values__.length,b=a?ea:this.__values__[this.__index__++];return{done:a,value:b}}function ah(){return this}function bh(a){for(var b,d=this;d instanceof c;){var e=ag(d);e.__index__=0,e.__values__=ea,b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function ch(){var a=this.__wrapped__;if(a instanceof u){var b=a;return this.__actions__.length&&(b=new u(this)),b=b.reverse(),b.__actions__.push({func:Yg,args:[Ag],thisArg:ea}),new d(b,this.__chain__)}return this.thru(Ag)}function dh(){return se(this.__wrapped__,this.__actions__)}function eh(a,b,c){var d=om(a)?l:Vc;return c&&Gf(a,b,c)&&(b=ea),d(a,sf(b,3))}function fh(a,b){var c=om(a)?m:Yc;return c(a,sf(b,3))}function gh(a,b){return _c(mh(a,b),1)}function hh(a,b){return _c(mh(a,b),Fa)}function ih(a,b,c){return c=c===ea?1:ui(c),_c(mh(a,b),c)}function jh(a,b){var c=om(a)?j:ml;return c(a,sf(b,3))}function kh(a,b){var c=om(a)?k:nl;return c(a,sf(b,3))}function lh(a,b,c,d){a=Sh(a)?a:Zi(a),c=c&&!d?ui(c):0;var e=a.length;return 0>c&&(c=Rk(e+c,0)),ni(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&y(a,b,c)>-1}function mh(a,b){var c=om(a)?p:Pd;return c(a,sf(b,3))}function nh(a,b,c,d){return null==a?[]:(om(b)||(b=null==b?[]:[b]),c=d?ea:c,om(c)||(c=null==c?[]:[c]),Vd(a,b,c))}function oh(a,b,c){var d=om(a)?r:E,e=arguments.length<3;return d(a,sf(b,4),c,e,ml)}function ph(a,b,c){var d=om(a)?s:E,e=arguments.length<3;return d(a,sf(b,4),c,e,nl)}function qh(a,b){var c=om(a)?m:Yc;return c(a,Eh(sf(b,3)))}function rh(a){var b=om(a)?yc:de;return b(a)}function sh(a,b,c){b=(c?Gf(a,b,c):b===ea)?1:ui(b);var d=om(a)?zc:ee;return d(a,b)}function th(a){var b=om(a)?Ac:ge;return b(a)}function uh(a){if(null==a)return 0;if(Sh(a))return ni(a)?_(a):a.length;var b=yl(a);return b==Wa||b==bb?a.size:Md(a).length}function vh(a,b,c){var d=om(a)?t:ie;return c&&Gf(a,b,c)&&(b=ea),d(a,sf(b,3))}function wh(a,b){if("function"!=typeof b)throw new ik(ia);return a=ui(a),function(){return--a<1?b.apply(this,arguments):void 0}}function xh(a,b,c){return b=c?ea:b,b=a&&null==b?a.length:b,jf(a,ta,ea,ea,ea,ea,b)}function yh(a,b){var c;if("function"!=typeof b)throw new ik(ia);return a=ui(a),function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=ea),c}}function zh(a,b,c){b=c?ea:b;var d=jf(a,pa,ea,ea,ea,ea,ea,b);return d.placeholder=zh.placeholder,d}function Ah(a,b,c){b=c?ea:b;var d=jf(a,qa,ea,ea,ea,ea,ea,b);return d.placeholder=Ah.placeholder,d}function Bh(a,b,c){function d(b){var c=m,d=n;return m=n=ea,s=b,p=a.apply(d,c)}function e(a){return s=a,q=Bl(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?Sk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===ea||c>=b||0>c||u&&d>=o}function h(){var a=cm();return g(a)?i(a):void(q=Bl(h,f(a)))}function i(a){return q=ea,v&&m?d(a):(m=n=ea,p)}function j(){q!==ea&&tl(q),s=0,m=r=n=q=ea}function k(){return q===ea?p:i(cm())}function l(){var a=cm(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===ea)return e(r);if(u)return q=Bl(h,b),d(r)}return q===ea&&(q=Bl(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new ik(ia);return b=wi(b)||0,ci(c)&&(t=!!c.leading,u="maxWait"in c,o=u?Rk(wi(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function Ch(a){return jf(a,va)}function Dh(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new ik(ia);var c=function d(){var c=arguments,e=b?b.apply(this,c):c[0],f=d.cache;if(f.has(e))return f.get(e);var g=a.apply(this,c);return d.cache=f.set(e,g)||f,g};return c.cache=new(Dh.Cache||ic),c}function Eh(a){if("function"!=typeof a)throw new ik(ia);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Fh(a){return yh(2,a)}function Gh(a,b){if("function"!=typeof a)throw new ik(ia);return b=b===ea?b:ui(b),ce(a,b)}function Hh(a,b){if("function"!=typeof a)throw new ik(ia);return b=b===ea?0:Rk(ui(b),0),ce(function(c){var d=c[b],e=ye(c,0,b);return d&&q(e,d),h(a,this,e)})}function Ih(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ik(ia);return ci(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Bh(a,b,{leading:d,maxWait:b,trailing:e})}function Jh(a){return xh(a,1)}function Kh(a,b){return im(we(b),a)}function Lh(){if(!arguments.length)return[];var a=arguments[0];return om(a)?a:[a]}function Mh(a){return Kc(a,!1,!0)}function Nh(a,b){return b="function"==typeof b?b:ea,Kc(a,!1,!0,b)}function Oh(a){return Kc(a,!0,!0)}function Ph(a,b){return b="function"==typeof b?b:ea,Kc(a,!0,!0,b)}function Qh(a,b){return null==b||Oc(a,b,Mi(b))}function Rh(a,b){return a===b||a!==a&&b!==b}function Sh(a){return null!=a&&bi(a.length)&&!_h(a)}function Th(a){return di(a)&&Sh(a)}function Uh(a){return a===!0||a===!1||di(a)&&nd(a)==Qa}function Vh(a){return di(a)&&1===a.nodeType&&!li(a)}function Wh(a){if(null==a)return!0;if(Sh(a)&&(om(a)||"string"==typeof a||"function"==typeof a.splice||qm(a)||vm(a)||nm(a)))return!a.length;var b=yl(a);if(b==Wa||b==bb)return!a.size;if(Lf(a))return!Md(a).length;for(var c in a)if(ok.call(a,c))return!1;return!0}function Xh(a,b){return Dd(a,b)}function Yh(a,b,c){c="function"==typeof c?c:ea;var d=c?c(a,b):ea;return d===ea?Dd(a,b,c):!!d}function Zh(a){if(!di(a))return!1;var b=nd(a);return b==Ta||b==Sa||"string"==typeof a.message&&"string"==typeof a.name&&!li(a)}function $h(a){return"number"==typeof a&&Ok(a)}function _h(a){if(!ci(a))return!1;var b=nd(a);return b==Ua||b==Va||b==Pa||b==_a}function ai(a){return"number"==typeof a&&a==ui(a)}function bi(a){return"number"==typeof a&&a>-1&&a%1==0&&Ga>=a}function ci(a){var b="undefined"==typeof a?"undefined":e(a);return null!=a&&("object"==b||"function"==b)}function di(a){return null!=a&&"object"==("undefined"==typeof a?"undefined":e(a))}function ei(a,b){return a===b||Gd(a,b,uf(b))}function fi(a,b,c){return c="function"==typeof c?c:ea,Gd(a,b,uf(b),c)}function gi(a){return ki(a)&&a!=+a}function hi(a){if(zl(a))throw new ck(ha);return Hd(a)}function ii(a){return null===a}function ji(a){return null==a}function ki(a){return"number"==typeof a||di(a)&&nd(a)==Xa}function li(a){if(!di(a)||nd(a)!=Za)return!1;var b=zk(a);if(null===b)return!0;var c=ok.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&nk.call(c)==sk}function mi(a){return ai(a)&&a>=-Ga&&Ga>=a}function ni(a){return"string"==typeof a||!om(a)&&di(a)&&nd(a)==cb}function oi(a){return"symbol"==("undefined"==typeof a?"undefined":e(a))||di(a)&&nd(a)==db}function pi(a){return a===ea}function qi(a){return di(a)&&yl(a)==fb}function ri(a){return di(a)&&nd(a)==gb}function si(a){if(!a)return[];if(Sh(a))return ni(a)?aa(a):Le(a);if(Ek&&a[Ek])return T(a[Ek]());var b=yl(a),c=b==Wa?U:b==bb?X:Zi;return c(a)}function ti(a){if(!a)return 0===a?a:0;if(a=wi(a),a===Fa||a===-Fa){var b=0>a?-1:1;return b*Ha}return a===a?a:0}function ui(a){var b=ti(a),c=b%1;return b===b?c?b-c:b:0}function vi(a){return a?Jc(ui(a),0,Ja):0}function wi(a){if("number"==typeof a)return a;if(oi(a))return Ia;if(ci(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=ci(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Ib,"");var c=Tb.test(a);return c||Vb.test(a)?$c(a.slice(2),c?2:8):Sb.test(a)?Ia:+a}function xi(a){return Me(a,Ni(a))}function yi(a){return Jc(ui(a),-Ga,Ga)}function zi(a){return null==a?"":ne(a)}function Ai(a,b){var c=ll(a);return null==b?c:Gc(c,b)}function Bi(a,b){return w(a,sf(b,3),ad)}function Ci(a,b){return w(a,sf(b,3),cd)}function Di(a,b){return null==a?a:ol(a,sf(b,3),Ni)}function Ei(a,b){return null==a?a:pl(a,sf(b,3),Ni)}function Fi(a,b){return a&&ad(a,sf(b,3))}function Gi(a,b){return a&&cd(a,sf(b,3))}function Hi(a){return null==a?[]:dd(a,Mi(a))}function Ii(a){return null==a?[]:dd(a,Ni(a))}function Ji(a,b,c){var d=null==a?ea:fd(a,b);return d===ea?c:d}function Ki(a,b){return null!=a&&zf(a,b,ud)}function Li(a,b){return null!=a&&zf(a,b,vd)}function Mi(a){return Sh(a)?xc(a):Md(a)}function Ni(a){return Sh(a)?xc(a,!0):Nd(a)}function Oi(a,b){var c={};return b=sf(b,3),ad(a,function(a,d,e){Hc(c,b(a,d,e),a)}),c}function Pi(a,b){var c={};return b=sf(b,3),ad(a,function(a,d,e){Hc(c,d,b(a,d,e))}),c}function Qi(a,b){return Ri(a,Eh(sf(b)))}function Ri(a,b){return null==a?{}:Xd(a,pf(a),sf(b))}function Si(a,b,c){b=Hf(b,a)?[b]:xe(b);var d=-1,e=b.length;for(e||(a=ea,e=1);++d<e;){var f=null==a?ea:a[Zf(b[d])];f===ea&&(d=e,f=c),a=_h(f)?f.call(a):f}return a}function Ti(a,b,c){return null==a?a:fe(a,b,c)}function Ui(a,b,c,d){return d="function"==typeof d?d:ea,null==a?a:fe(a,b,c,d)}function Vi(a,b,c){var d=om(a),e=d||qm(a)||vm(a);if(b=sf(b,4),null==c){var f=a&&a.constructor;c=e?d?new f:[]:ci(a)&&_h(f)?ll(zk(a)):{}}return(e?j:ad)(a,function(a,d,e){return b(c,a,d,e)}),c}function Wi(a,b){return null==a?!0:pe(a,b)}function Xi(a,b,c){return null==a?a:qe(a,b,we(c))}function Yi(a,b,c,d){return d="function"==typeof d?d:ea,null==a?a:qe(a,b,we(c),d)}function Zi(a){return null==a?[]:K(a,Mi(a))}function $i(a){return null==a?[]:K(a,Ni(a))}function _i(a,b,c){return c===ea&&(c=b,b=ea),c!==ea&&(c=wi(c),c=c===c?c:0),b!==ea&&(b=wi(b),b=b===b?b:0),Jc(wi(a),b,c)}function aj(a,b,c){return b=ti(b),c===ea?(c=b,b=0):c=ti(c),a=wi(a),wd(a,b,c)}function bj(a,b,c){if(c&&"boolean"!=typeof c&&Gf(a,b,c)&&(b=c=ea),c===ea&&("boolean"==typeof b?(c=b,b=ea):"boolean"==typeof a&&(c=a,a=ea)),a===ea&&b===ea?(a=0,b=1):(a=ti(a),b===ea?(b=a,a=0):b=ti(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=Vk();return Sk(a+e*(b-a+Zc("1e-"+((e+"").length-1))),b)}return _d(a,b)}function cj(a){return Vm(zi(a).toLowerCase())}function dj(a){return a=zi(a),a&&a.replace(Xb,od).replace(Mc,"")}function ej(a,b,c){a=zi(a),b=ne(b);var d=a.length;c=c===ea?d:Jc(ui(c),0,d);var e=c;return c-=b.length,c>=0&&a.slice(c,e)==b}function fj(a){return a=zi(a),a&&yb.test(a)?a.replace(wb,pd):a}function gj(a){return a=zi(a),a&&Hb.test(a)?a.replace(Gb,"\\$&"):a}function hj(a,b,c){a=zi(a),b=ui(b);var d=b?_(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return bf(Lk(e),c)+a+bf(Kk(e),c)}function ij(a,b,c){a=zi(a),b=ui(b);var d=b?_(a):0;return b&&b>d?a+bf(b-d,c):a}function jj(a,b,c){a=zi(a),b=ui(b);var d=b?_(a):0;return b&&b>d?bf(b-d,c)+a:a}function kj(a,b,c){return c||null==b?b=0:b&&(b=+b),Uk(zi(a).replace(Jb,""),b||0)}function lj(a,b,c){return b=(c?Gf(a,b,c):b===ea)?1:ui(b),be(zi(a),b)}function mj(){var a=arguments,b=zi(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function nj(a,b,c){return c&&"number"!=typeof c&&Gf(a,b,c)&&(b=c=ea),(c=c===ea?Ja:c>>>0)?(a=zi(a),a&&("string"==typeof b||null!=b&&!tm(b))&&(b=ne(b),!b&&R(a))?ye(aa(a),0,c):a.split(b,c)):[]}function oj(a,b,c){return a=zi(a),c=Jc(ui(c),0,a.length),b=ne(b),a.slice(c,c+b.length)==b}function pj(a,c,d){var e=b.templateSettings;d&&Gf(a,c,d)&&(c=ea),a=zi(a),c=Am({},c,e,Bc);var f,g,h=Am({},c.imports,e.imports,Bc),i=Mi(h),j=K(h,i),k=0,l=c.interpolate||Yb,m="__p += '",n=gk((c.escape||Yb).source+"|"+l.source+"|"+(l===Bb?Qb:Yb).source+"|"+(c.evaluate||Yb).source+"|$","g"),o="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Sc+"]")+"\n";a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(Zb,P),c&&(f=!0,m+="' +\n__e("+c+") +\n'"),h&&(g=!0,m+="';\n"+h+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=c.variable;p||(m="with (obj) {\n"+m+"\n}\n"),m=(g?m.replace(sb,""):m).replace(tb,"$1").replace(ub,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var q=Wm(function(){return dk(i,o+"return "+m).apply(ea,j)});if(q.source=m,Zh(q))throw q;return q}function qj(a){return zi(a).toLowerCase()}function rj(a){return zi(a).toUpperCase()}function sj(a,b,c){if(a=zi(a),a&&(c||b===ea))return a.replace(Ib,"");if(!a||!(b=ne(b)))return a;var d=aa(a),e=aa(b),f=M(d,e),g=N(d,e)+1;return ye(d,f,g).join("")}function tj(a,b,c){if(a=zi(a),a&&(c||b===ea))return a.replace(Kb,"");if(!a||!(b=ne(b)))return a;var d=aa(a),e=N(d,aa(b))+1;return ye(d,0,e).join("")}function uj(a,b,c){if(a=zi(a),a&&(c||b===ea))return a.replace(Jb,"");if(!a||!(b=ne(b)))return a;var d=aa(a),e=M(d,aa(b));return ye(d,e).join("")}function vj(a,b){var c=ya,d=za;if(ci(b)){var e="separator"in b?b.separator:e;c="length"in b?ui(b.length):c,d="omission"in b?ne(b.omission):d}a=zi(a);var f=a.length;if(R(a)){var g=aa(a);f=g.length}if(c>=f)return a;var h=c-_(d);if(1>h)return d;var i=g?ye(g,0,h).join(""):a.slice(0,h);if(e===ea)return i+d;if(g&&(h+=i.length-h),tm(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=gk(e.source,zi(Rb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===ea?h:l)}}else if(a.indexOf(ne(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function wj(a){return a=zi(a),a&&xb.test(a)?a.replace(vb,qd):a}function xj(a,b,c){return a=zi(a),b=c?ea:b,b===ea?S(a)?da(a):v(a):a.match(b)||[]}function yj(a){var b=null==a?0:a.length,c=sf();return a=b?p(a,function(a){if("function"!=typeof a[1])throw new ik(ia);return[c(a[0]),a[1]]}):[],ce(function(c){for(var d=-1;++d<b;){var e=a[d];if(h(e[0],this,c))return h(e[1],this,c)}})}function zj(a){return Nc(Kc(a,!0))}function Aj(a){return function(){return a}}function Bj(a,b){return null==a||a!==a?b:a}function Cj(a){return a}function Dj(a){return Ld("function"==typeof a?a:Kc(a,!0))}function Ej(a){return Qd(Kc(a,!0))}function Fj(a,b){return Rd(a,Kc(b,!0))}function Gj(a,b,c){var d=Mi(b),e=dd(b,d);null!=c||ci(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=dd(b,Mi(b)));var f=!(ci(c)&&"chain"in c&&!c.chain),g=_h(a);return j(e,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__),e=c.__actions__=Le(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,q([this.value()],arguments))})}),a}function Hj(){return bd._===this&&(bd._=tk),this}function Ij(){}function Jj(a){return a=ui(a),ce(function(b){return Ud(b,a)})}function Kj(a){return Hf(a)?C(Zf(a)):Yd(a)}function Lj(a){return function(b){return null==a?ea:fd(a,b)}}function Mj(){return[]}function Nj(){return!1}function Oj(){return{}}function Pj(){return""}function Qj(){return!0}function Rj(a,b){if(a=ui(a),1>a||a>Ga)return[];var c=Ja,d=Sk(a,Ja);b=sf(b),a-=Ja;for(var e=H(d,b);++c<a;)b(c);return e}function Sj(a){return om(a)?p(a,Zf):oi(a)?[a]:Le(Dl(a))}function Tj(a){var b=++pk;return zi(a)+b}function Uj(a){return a&&a.length?Wc(a,Cj,rd):ea}function Vj(a,b){return a&&a.length?Wc(a,sf(b,2),rd):ea}function Wj(a){return B(a,Cj)}function Xj(a,b){return B(a,sf(b,2))}function Yj(a){return a&&a.length?Wc(a,Cj,Od):ea}function Zj(a,b){return a&&a.length?Wc(a,sf(b,2),Od):ea}function $j(a){return a&&a.length?G(a,Cj):0}function _j(a,b){return a&&a.length?G(a,sf(b,2)):0}a=null==a?bd:sd.defaults(bd.Object(),a,sd.pick(bd,Rc));var ak=a.Array,bk=a.Date,ck=a.Error,dk=a.Function,ek=a.Math,fk=a.Object,gk=a.RegExp,hk=a.String,ik=a.TypeError,jk=ak.prototype,kk=dk.prototype,lk=fk.prototype,mk=a["__core-js_shared__"],nk=kk.toString,ok=lk.hasOwnProperty,pk=0,qk=function(){var a=/[^.]+$/.exec(mk&&mk.keys&&mk.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),rk=lk.toString,sk=nk.call(fk),tk=bd._,uk=gk("^"+nk.call(ok).replace(Gb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vk=ed?a.Buffer:ea,wk=a.Symbol,xk=a.Uint8Array,yk=vk?vk.allocUnsafe:ea,zk=V(fk.getPrototypeOf,fk),Ak=fk.create,Bk=lk.propertyIsEnumerable,Ck=jk.splice,Dk=wk?wk.isConcatSpreadable:ea,Ek=wk?wk.iterator:ea,Fk=wk?wk.toStringTag:ea,Gk=function(){try{var a=vf(fk,"defineProperty");return a({},"",{}),a}catch(b){}}(),Hk=a.clearTimeout!==bd.clearTimeout&&a.clearTimeout,Ik=bk&&bk.now!==bd.Date.now&&bk.now,Jk=a.setTimeout!==bd.setTimeout&&a.setTimeout,Kk=ek.ceil,Lk=ek.floor,Mk=fk.getOwnPropertySymbols,Nk=vk?vk.isBuffer:ea,Ok=a.isFinite,Pk=jk.join,Qk=V(fk.keys,fk),Rk=ek.max,Sk=ek.min,Tk=bk.now,Uk=a.parseInt,Vk=ek.random,Wk=jk.reverse,Xk=vf(a,"DataView"),Yk=vf(a,"Map"),Zk=vf(a,"Promise"),$k=vf(a,"Set"),_k=vf(a,"WeakMap"),al=vf(fk,"create"),bl=_k&&new _k,cl={},dl=$f(Xk),el=$f(Yk),fl=$f(Zk),gl=$f($k),hl=$f(_k),il=wk?wk.prototype:ea,jl=il?il.valueOf:ea,kl=il?il.toString:ea,ll=function(){function a(){}return function(b){if(!ci(b))return{};if(Ak)return Ak(b);a.prototype=b;var c=new a;return a.prototype=ea,c}}();b.templateSettings={escape:zb,evaluate:Ab,interpolate:Bb,variable:"",imports:{_:b}},b.prototype=c.prototype,b.prototype.constructor=b,d.prototype=ll(c.prototype),d.prototype.constructor=d,u.prototype=ll(c.prototype),u.prototype.constructor=u,ca.prototype.clear=Ob,ca.prototype["delete"]=$b,ca.prototype.get=_b,ca.prototype.has=ac,ca.prototype.set=bc,cc.prototype.clear=dc,cc.prototype["delete"]=ec,cc.prototype.get=fc,cc.prototype.has=gc,cc.prototype.set=hc,ic.prototype.clear=jc,ic.prototype["delete"]=kc,ic.prototype.get=lc,ic.prototype.has=mc,ic.prototype.set=nc,oc.prototype.add=oc.prototype.push=pc,oc.prototype.has=qc,rc.prototype.clear=sc,rc.prototype["delete"]=tc,rc.prototype.get=uc,rc.prototype.has=vc,rc.prototype.set=wc;var ml=Qe(ad),nl=Qe(cd,!0),ol=Re(),pl=Re(!0),ql=bl?function(a,b){return bl.set(a,b),a}:Cj,rl=Gk?function(a,b){return Gk(a,"toString",{configurable:!0,enumerable:!1,value:Aj(b),writable:!0})}:Cj,sl=ce,tl=Hk||function(a){return bd.clearTimeout(a)},ul=$k&&1/X(new $k([,-0]))[1]==Fa?function(a){return new $k(a)}:Ij,vl=bl?function(a){return bl.get(a)}:Ij,wl=Mk?V(Mk,fk):Mj,xl=Mk?function(a){for(var b=[];a;)q(b,wl(a)),a=zk(a);return b}:Mj,yl=nd;(Xk&&yl(new Xk(new ArrayBuffer(1)))!=ib||Yk&&yl(new Yk)!=Wa||Zk&&yl(Zk.resolve())!=$a||$k&&yl(new $k)!=bb||_k&&yl(new _k)!=fb)&&(yl=function(a){var b=nd(a),c=b==Za?a.constructor:ea,d=c?$f(c):"";if(d)switch(d){case dl:return ib;case el:return Wa;case fl:return $a;case gl:return bb;case hl:return fb}return b});var zl=mk?_h:Nj,Al=Xf(ql),Bl=Jk||function(a,b){return bd.setTimeout(a,b)},Cl=Xf(rl),Dl=Of(function(a){a=zi(a);var b=[];return Eb.test(a)&&b.push(""),a.replace(Fb,function(a,c,d,e){b.push(d?e.replace(Pb,"$1"):c||a)}),b}),El=ce(function(a,b){return Th(a)?Qc(a,_c(b,1,Th,!0)):[]}),Fl=ce(function(a,b){var c=tg(b);return Th(c)&&(c=ea),Th(a)?Qc(a,_c(b,1,Th,!0),sf(c,2)):[]}),Gl=ce(function(a,b){var c=tg(b);return Th(c)&&(c=ea),Th(a)?Qc(a,_c(b,1,Th,!0),ea,c):[]}),Hl=ce(function(a){var b=p(a,ve);return b.length&&b[0]===a[0]?xd(b):[]}),Il=ce(function(a){var b=tg(a),c=p(a,ve);return b===tg(c)?b=ea:c.pop(),c.length&&c[0]===a[0]?xd(c,sf(b,2)):[]}),Jl=ce(function(a){var b=tg(a),c=p(a,ve);return b="function"==typeof b?b:ea,b&&c.pop(),c.length&&c[0]===a[0]?xd(c,ea,b):[]}),Kl=ce(wg),Ll=nf(function(a,b){var c=null==a?0:a.length,d=Ic(a,b);return $d(a,p(b,function(a){return Ff(a,c)?+a:a}).sort(He)),d}),Ml=ce(function(a){return oe(_c(a,1,Th,!0))}),Nl=ce(function(a){var b=tg(a);return Th(b)&&(b=ea),oe(_c(a,1,Th,!0),sf(b,2))}),Ol=ce(function(a){var b=tg(a);return b="function"==typeof b?b:ea,oe(_c(a,1,Th,!0),ea,b)}),Pl=ce(function(a,b){return Th(a)?Qc(a,b):[]}),Ql=ce(function(a){return te(m(a,Th))}),Rl=ce(function(a){var b=tg(a);return Th(b)&&(b=ea),te(m(a,Th),sf(b,2))}),Sl=ce(function(a){var b=tg(a);return b="function"==typeof b?b:ea,te(m(a,Th),ea,b)}),Tl=ce(Sg),Ul=ce(function(a){var b=a.length,c=b>1?a[b-1]:ea;return c="function"==typeof c?(a.pop(),c):ea,Tg(a,c)}),Vl=nf(function(a){var b=a.length,c=b?a[0]:0,e=this.__wrapped__,f=function(b){return Ic(b,a)};return!(b>1||this.__actions__.length)&&e instanceof u&&Ff(c)?(e=e.slice(c,+c+(b?1:0)),e.__actions__.push({func:Yg,args:[f],thisArg:ea}),new d(e,this.__chain__).thru(function(a){return b&&!a.length&&a.push(ea),a})):this.thru(f)}),Wl=Oe(function(a,b,c){ok.call(a,c)?++a[c]:Hc(a,c,1)}),Xl=Xe(jg),Yl=Xe(kg),Zl=Oe(function(a,b,c){ok.call(a,c)?a[c].push(b):Hc(a,c,[b])}),$l=ce(function(a,b,c){var d=-1,e="function"==typeof b,f=Hf(b),g=Sh(a)?ak(a.length):[];return ml(a,function(a){var i=e?b:f&&null!=a?a[b]:ea;g[++d]=i?h(i,a,c):zd(a,b,c)}),g}),_l=Oe(function(a,b,c){Hc(a,c,b)}),am=Oe(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),bm=ce(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Gf(a,b[0],b[1])?b=[]:c>2&&Gf(b[0],b[1],b[2])&&(b=[b[0]]),Vd(a,_c(b,1),[])}),cm=Ik||function(){return bd.Date.now()},dm=ce(function(a,b,c){var d=ma;if(c.length){var e=W(c,rf(dm));d|=ra}return jf(a,d,b,c,e)}),em=ce(function(a,b,c){var d=ma|na;if(c.length){var e=W(c,rf(em));d|=ra}return jf(b,d,a,c,e)}),fm=ce(function(a,b){return Pc(a,1,b)}),gm=ce(function(a,b,c){return Pc(a,wi(b)||0,c)});Dh.Cache=ic;var hm=sl(function(a,b){b=1==b.length&&om(b[0])?p(b[0],J(sf())):p(_c(b,1),J(sf()));var c=b.length;return ce(function(d){for(var e=-1,f=Sk(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return h(a,this,d)})}),im=ce(function(a,b){var c=W(b,rf(im));return jf(a,ra,ea,b,c)}),jm=ce(function(a,b){var c=W(b,rf(jm));return jf(a,sa,ea,b,c)}),km=nf(function(a,b){return jf(a,ua,ea,ea,ea,b)}),lm=ef(rd),mm=ef(function(a,b){return a>=b}),nm=Ad(function(){return arguments}())?Ad:function(a){return di(a)&&ok.call(a,"callee")&&!Bk.call(a,"callee")},om=ak.isArray,pm=hd?J(hd):Bd,qm=Nk||Nj,rm=id?J(id):Cd,sm=jd?J(jd):Fd,tm=kd?J(kd):Id,um=ld?J(ld):Jd,vm=md?J(md):Kd,wm=ef(Od),xm=ef(function(a,b){return b>=a}),ym=Pe(function(a,b){if(Lf(b)||Sh(b))return void Me(b,Mi(b),a);for(var c in b)ok.call(b,c)&&Dc(a,c,b[c])}),zm=Pe(function(a,b){Me(b,Ni(b),a)}),Am=Pe(function(a,b,c,d){Me(b,Ni(b),a,d)}),Bm=Pe(function(a,b,c,d){Me(b,Mi(b),a,d)}),Cm=nf(Ic),Dm=ce(function(a){return a.push(ea,Bc),h(Am,ea,a)}),Em=ce(function(a){return a.push(ea,Qf),h(Jm,ea,a)}),Fm=$e(function(a,b,c){a[b]=c},Aj(Cj)),Gm=$e(function(a,b,c){ok.call(a,b)?a[b].push(c):a[b]=[c]},sf),Hm=ce(zd),Im=Pe(function(a,b,c){Sd(a,b,c)}),Jm=Pe(function(a,b,c,d){Sd(a,b,c,d)}),Km=nf(function(a,b){return null==a?{}:(b=p(b,Zf),Wd(a,Qc(pf(a),b)))}),Lm=nf(function(a,b){return null==a?{}:Wd(a,p(b,Zf))}),Mm=hf(Mi),Nm=hf(Ni),Om=Ue(function(a,b,c){return b=b.toLowerCase(),a+(c?cj(b):b)}),Pm=Ue(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Qm=Ue(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Rm=Te("toLowerCase"),Sm=Ue(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Tm=Ue(function(a,b,c){return a+(c?" ":"")+Vm(b)}),Um=Ue(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),Vm=Te("toUpperCase"),Wm=ce(function(a,b){try{return h(a,ea,b)}catch(c){return Zh(c)?c:new ck(c)}}),Xm=nf(function(a,b){return j(b,function(b){b=Zf(b),Hc(a,b,dm(a[b],a))}),a}),Ym=Ye(),Zm=Ye(!0),$m=ce(function(a,b){return function(c){return zd(c,a,b)}}),_m=ce(function(a,b){return function(c){return zd(a,c,b)}}),an=af(p),bn=af(l),cn=af(t),dn=df(),en=df(!0),fn=_e(function(a,b){return a+b},0),gn=gf("ceil"),hn=_e(function(a,b){return a/b},1),jn=gf("floor"),kn=_e(function(a,b){return a*b},1),ln=gf("round"),mn=_e(function(a,b){return a-b},0);return b.after=wh,b.ary=xh,b.assign=ym,b.assignIn=zm,b.assignInWith=Am,b.assignWith=Bm,b.at=Cm,b.before=yh,b.bind=dm,b.bindAll=Xm,b.bindKey=em,b.castArray=Lh,b.chain=Wg,b.chunk=bg,b.compact=cg,b.concat=dg,b.cond=yj,b.conforms=zj,b.constant=Aj,b.countBy=Wl,b.create=Ai,b.curry=zh,b.curryRight=Ah,b.debounce=Bh,b.defaults=Dm,b.defaultsDeep=Em,b.defer=fm,b.delay=gm,b.difference=El,b.differenceBy=Fl,b.differenceWith=Gl,b.drop=eg,b.dropRight=fg,b.dropRightWhile=gg,b.dropWhile=hg,b.fill=ig,b.filter=fh,b.flatMap=gh,b.flatMapDeep=hh,b.flatMapDepth=ih,b.flatten=lg,b.flattenDeep=mg,b.flattenDepth=ng,b.flip=Ch,b.flow=Ym,b.flowRight=Zm,b.fromPairs=og,b.functions=Hi,b.functionsIn=Ii,b.groupBy=Zl,b.initial=rg,b.intersection=Hl,b.intersectionBy=Il,b.intersectionWith=Jl,b.invert=Fm,b.invertBy=Gm,b.invokeMap=$l,b.iteratee=Dj,b.keyBy=_l,b.keys=Mi,b.keysIn=Ni,b.map=mh,b.mapKeys=Oi,b.mapValues=Pi,b.matches=Ej,b.matchesProperty=Fj,b.memoize=Dh,b.merge=Im,b.mergeWith=Jm,b.method=$m,b.methodOf=_m,b.mixin=Gj,b.negate=Eh,b.nthArg=Jj,b.omit=Km,b.omitBy=Qi,b.once=Fh,b.orderBy=nh,b.over=an,b.overArgs=hm,b.overEvery=bn,b.overSome=cn,b.partial=im,b.partialRight=jm,b.partition=am,b.pick=Lm,b.pickBy=Ri,b.property=Kj,b.propertyOf=Lj,b.pull=Kl,b.pullAll=wg,b.pullAllBy=xg,b.pullAllWith=yg,b.pullAt=Ll,b.range=dn,b.rangeRight=en,b.rearg=km,b.reject=qh,b.remove=zg,b.rest=Gh,b.reverse=Ag,b.sampleSize=sh,b.set=Ti,b.setWith=Ui,b.shuffle=th,b.slice=Bg,b.sortBy=bm,b.sortedUniq=Ig,b.sortedUniqBy=Jg,b.split=nj,b.spread=Hh,b.tail=Kg,b.take=Lg,b.takeRight=Mg,b.takeRightWhile=Ng,b.takeWhile=Og,b.tap=Xg,b.throttle=Ih,b.thru=Yg,b.toArray=si,b.toPairs=Mm,b.toPairsIn=Nm,b.toPath=Sj,b.toPlainObject=xi,b.transform=Vi,b.unary=Jh,b.union=Ml,b.unionBy=Nl,b.unionWith=Ol,b.uniq=Pg,b.uniqBy=Qg,b.uniqWith=Rg,b.unset=Wi,b.unzip=Sg,b.unzipWith=Tg,b.update=Xi,b.updateWith=Yi,b.values=Zi,b.valuesIn=$i,b.without=Pl,b.words=xj,b.wrap=Kh,b.xor=Ql,b.xorBy=Rl,b.xorWith=Sl,b.zip=Tl,b.zipObject=Ug,b.zipObjectDeep=Vg,b.zipWith=Ul,b.entries=Mm,b.entriesIn=Nm,b.extend=zm,b.extendWith=Am,Gj(b,b),b.add=fn,b.attempt=Wm,b.camelCase=Om,b.capitalize=cj,b.ceil=gn,b.clamp=_i,b.clone=Mh,b.cloneDeep=Oh,b.cloneDeepWith=Ph,b.cloneWith=Nh,b.conformsTo=Qh,b.deburr=dj,b.defaultTo=Bj,b.divide=hn,b.endsWith=ej,b.eq=Rh,b.escape=fj,b.escapeRegExp=gj,b.every=eh,b.find=Xl,b.findIndex=jg,b.findKey=Bi,b.findLast=Yl,b.findLastIndex=kg,b.findLastKey=Ci,b.floor=jn,b.forEach=jh,b.forEachRight=kh,b.forIn=Di,b.forInRight=Ei,b.forOwn=Fi,b.forOwnRight=Gi,b.get=Ji,b.gt=lm,b.gte=mm,b.has=Ki,b.hasIn=Li,b.head=pg,b.identity=Cj,b.includes=lh,b.indexOf=qg,b.inRange=aj,b.invoke=Hm,b.isArguments=nm,b.isArray=om,b.isArrayBuffer=pm,b.isArrayLike=Sh,b.isArrayLikeObject=Th,b.isBoolean=Uh,b.isBuffer=qm,b.isDate=rm,b.isElement=Vh,b.isEmpty=Wh,b.isEqual=Xh,b.isEqualWith=Yh,b.isError=Zh,b.isFinite=$h,b.isFunction=_h,b.isInteger=ai,b.isLength=bi,b.isMap=sm,b.isMatch=ei,b.isMatchWith=fi,b.isNaN=gi,b.isNative=hi,b.isNil=ji,b.isNull=ii,b.isNumber=ki,b.isObject=ci,b.isObjectLike=di,b.isPlainObject=li,b.isRegExp=tm,b.isSafeInteger=mi,b.isSet=um,b.isString=ni,b.isSymbol=oi,b.isTypedArray=vm,b.isUndefined=pi,b.isWeakMap=qi,b.isWeakSet=ri,b.join=sg,b.kebabCase=Pm,b.last=tg,b.lastIndexOf=ug,b.lowerCase=Qm,b.lowerFirst=Rm,b.lt=wm,b.lte=xm,b.max=Uj,b.maxBy=Vj,b.mean=Wj,b.meanBy=Xj,b.min=Yj,b.minBy=Zj,b.stubArray=Mj,b.stubFalse=Nj,b.stubObject=Oj,b.stubString=Pj,b.stubTrue=Qj,b.multiply=kn,b.nth=vg,b.noConflict=Hj,b.noop=Ij,b.now=cm,b.pad=hj,b.padEnd=ij,b.padStart=jj,b.parseInt=kj,b.random=bj,b.reduce=oh,b.reduceRight=ph,b.repeat=lj,b.replace=mj,b.result=Si,b.round=ln,b.runInContext=td,b.sample=rh,b.size=uh,b.snakeCase=Sm,b.some=vh,b.sortedIndex=Cg,b.sortedIndexBy=Dg,b.sortedIndexOf=Eg,b.sortedLastIndex=Fg,b.sortedLastIndexBy=Gg,b.sortedLastIndexOf=Hg,b.startCase=Tm,b.startsWith=oj,b.subtract=mn,b.sum=$j,b.sumBy=_j,b.template=pj,b.times=Rj,b.toFinite=ti,b.toInteger=ui,b.toLength=vi,b.toLower=qj,b.toNumber=wi,b.toSafeInteger=yi,b.toString=zi,b.toUpper=rj,b.trim=sj,b.trimEnd=tj,b.trimStart=uj,b.truncate=vj,b.unescape=wj,b.uniqueId=Tj,b.upperCase=Um,b.upperFirst=Vm,b.each=jh,b.eachRight=kh,b.first=pg,Gj(b,function(){var a={};return ad(b,function(c,d){ok.call(b.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),b.VERSION=fa,j(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),j(["drop","take"],function(a,b){u.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new u(this);c=c===ea?1:Rk(ui(c),0);var e=this.clone();return d?e.__takeCount__=Sk(c,e.__takeCount__):e.__views__.push({size:Sk(c,Ja),type:a+(e.__dir__<0?"Right":"")}),e},u.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),j(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==Ca||c==Ea;u.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:sf(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),j(["head","last"],function(a,b){var c="take"+(b?"Right":"");u.prototype[a]=function(){return this[c](1).value()[0]}}),j(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");u.prototype[a]=function(){return this.__filtered__?new u(this):this[c](1)}}),u.prototype.compact=function(){return this.filter(Cj)},u.prototype.find=function(a){return this.filter(a).head()},u.prototype.findLast=function(a){return this.reverse().find(a)},u.prototype.invokeMap=ce(function(a,b){return"function"==typeof a?new u(this):this.map(function(c){return zd(c,a,b)})}),u.prototype.reject=function(a){return this.filter(Eh(sf(a)))},u.prototype.slice=function(a,b){a=ui(a);var c=this;return c.__filtered__&&(a>0||0>b)?new u(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==ea&&(b=ui(b),c=0>b?c.dropRight(-b):c.take(b-a)),c)},u.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},u.prototype.toArray=function(){return this.take(Ja)},ad(u.prototype,function(a,c){var e=/^(?:filter|find|map|reject)|While$/.test(c),f=/^(?:head|last)$/.test(c),g=b[f?"take"+("last"==c?"Right":""):c],h=f||/^find/.test(c);g&&(b.prototype[c]=function(){var c=this.__wrapped__,i=f?[1]:arguments,j=c instanceof u,k=i[0],l=j||om(c),m=function(a){var c=g.apply(b,q([a],i));return f&&n?c[0]:c};l&&e&&"function"==typeof k&&1!=k.length&&(j=l=!1);var n=this.__chain__,o=!!this.__actions__.length,p=h&&!n,r=j&&!o;if(!h&&l){c=r?c:new u(this);var s=a.apply(c,i);return s.__actions__.push({func:Yg,args:[m],thisArg:ea}),new d(s,n)}return p&&r?a.apply(this,i):(s=this.thru(m),p?f?s.value()[0]:s.value():s)})}),j(["pop","push","shift","sort","splice","unshift"],function(a){var c=jk[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;if(e&&!this.__chain__){var b=this.value();return c.apply(om(b)?b:[],a)}return this[d](function(b){return c.apply(om(b)?b:[],a)})}}),ad(u.prototype,function(a,c){var d=b[c];if(d){var e=d.name+"",f=cl[e]||(cl[e]=[]);f.push({name:c,func:d})}}),cl[Ze(ea,na).name]=[{name:"wrapper",func:ea}],u.prototype.clone=D,u.prototype.reverse=Z,u.prototype.value=ba,b.prototype.at=Vl,b.prototype.chain=Zg,b.prototype.commit=$g,b.prototype.next=_g,b.prototype.plant=bh,b.prototype.reverse=ch,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=dh,b.prototype.first=b.prototype.head,Ek&&(b.prototype[Ek]=ah),b},sd=rd();"function"==typeof a&&"object"==e(a.amd)&&a.amd?(bd._=sd,a(function(){return sd})):dd?((dd.exports=sd)._=sd,cd._=sd):bd._=sd}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],205:[function(a,b,c){"use strict";function d(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(f);var c=function g(){var c=arguments,d=b?b.apply(this,c):c[0],e=g.cache;if(e.has(d))return e.get(d);var f=a.apply(this,c);return g.cache=e.set(d,f)||e,f};return c.cache=new(d.Cache||e),c}var e=a("./_MapCache"),f="Expected a function";d.Cache=e,b.exports=d},{"./_MapCache":78}],206:[function(a,b,c){
"use strict";function d(a){return g(a)?e(h(a)):f(a)}var e=a("./_baseProperty"),f=a("./_basePropertyDeep"),g=a("./_isKey"),h=a("./_toKey");b.exports=d},{"./_baseProperty":113,"./_basePropertyDeep":114,"./_isKey":146,"./_toKey":182}],207:[function(a,b,c){"use strict";function d(){return!1}b.exports=d},{}],208:[function(a,b,c){"use strict";function d(a){return null==a?"":e(a)}var e=a("./_baseToString");b.exports=d},{"./_baseToString":118}],209:[function(a,b,c){"use strict";function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}},{}],210:[function(a,b,c){"use strict";var d=a("./lib/converter"),e=a("./lib/importers/index"),f=a("./lib/exporters/index"),g=a("./lib/formats");b.exports={Converter:d.Converter,Formats:g,Importer:e,Exporter:f}},{"./lib/converter":211,"./lib/exporters/index":221,"./lib/formats":225,"./lib/importers/index":231}],211:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./importers/index"),g=a("./exporters/index"),h=function(){function a(b,c){if(d(this,a),this.importer=f.factory(b),!this.importer)throw new Error("from format "+b.name+" not supported");if(this.importer.type=b,this.exporter=g.factory(c),!this.exporter)throw new Error("to format "+c.name+" not supported");this.exporter.type=c,this.format=this.exporter.type.formats[0]}return e(a,[{key:"convertFile",value:function(a,b){var c=this;return new Promise(function(d,e){c.loadFile(a,b).then(function(){c.convert(c._format(b),b).then(d)["catch"](e)})["catch"](e)})}},{key:"convertData",value:function(a,b){var c=this;return new Promise(function(d,e){c.loadData(a,b).then(function(){c.convert(c._format(b),b).then(d)["catch"](e)})["catch"](e)})}},{key:"loadFile",value:function(a,b){return this.importer.loadFile(a,b)}},{key:"loadData",value:function(a,b){var c=this;return new Promise(function(d,e){c.importer.loadData(a,b).then(d)["catch"](e)})}},{key:"convert",value:function(a,b){var c=this;return new Promise(function(d,e){try{c.exporter.loadProject(c.importer["import"]()),c.exporter["export"](a,b).then(d)["catch"](e)}catch(f){e(f)}})}},{key:"_format",value:function(a){return a&&a.format||this.format}}]),a}();c.Converter=h},{"./exporters/index":221,"./importers/index":231}],212:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../utils/json"),g=a("../utils/strings"),h=function(){function a(b){d(this,a),this._id=null,this.name=b,this.description="",this.tags=[],this.request={},this.request.pathParams={},this.request.bodies=[],this.request.headers="{}",this.responses=[],this.produces,this.consumes,this.middlewareBefore="",this.middlewareAfter="",this["public"]=!0,this.deprecated=null,this.externalDocs=null}return e(a,[{key:"SetOperationId",value:function(a,b,c){a?this.operationId=a:this.operationId=g.computeOperationId(b,c)}},{key:"Id",get:function(){return this._id},set:function(a){this._id=a}},{key:"Path",get:function(){return this.request.path},set:function(a){this.request.path=a}},{key:"Method",get:function(){return this.request.method},set:function(a){this.request.method=a.toLowerCase()}},{key:"Name",set:function(a){a&&(a.length>120?this.name=a.substring(0,119):this.name=a)},get:function(){return this.name||""}},{key:"Consumes",get:function(){return this.consumes},set:function(a){this.consumes=a}},{key:"Produces",get:function(){return this.produces},set:function(a){this.produces=a}},{key:"Headers",get:function(){return f.parse(this.request.headers)},set:function(a){this.request.headers=f.stringify(a,4)}},{key:"Before",get:function(){return this.middlewareBefore},set:function(a){this.middlewareBefore=a}},{key:"After",get:function(){return this.middlewareAfter},set:function(a){this.middlewareAfter=a}},{key:"Body",set:function(a){a.body=f.stringify(a.body,4),this.request.bodies.push(a)},get:function(){return Array.isArray(this.request.bodies)&&this.request.bodies.length>0?this.request.bodies:{}}},{key:"QueryString",set:function(a){a=f.stringify(a,4),this.request.queryString=a},get:function(){return this.request.queryString||(this.request.queryString="{}"),f.parse(this.request.queryString)}},{key:"PathParams",set:function(a){this.request.pathParams=f.stringify(a,4)},get:function(){return this.request.pathParams||(this.request.pathParams="{}"),f.parse(this.request.pathParams)}},{key:"Responses",set:function(a){this.responses=a},get:function(){return this.responses}},{key:"SLData",set:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}},{key:"Description",set:function(a){this.description=a},get:function(){return this.description||""}},{key:"Tags",get:function(){return this.tags},set:function(a){this.tags=a}},{key:"Summary",set:function(a){this.summary=a},get:function(){return this.summary||""}},{key:"SecuredBy",set:function(a){this.securedBy=a},get:function(){return this.securedBy}},{key:"Public",get:function(){return this["public"]},set:function(a){this["public"]=a}},{key:"Deprecated",get:function(){return this.deprecated},set:function(a){this.deprecated=a}},{key:"ExternalDocs",get:function(){return this.externalDocs},set:function(a){this.externalDocs=a}}]),a}();b.exports=h},{"../utils/json":236,"../utils/strings":237}],213:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.summary="",this.forwardHost=null,this.basePath="",this.protocols=[],this.version="",this.produces=null,this.consumes=null,this.middlewareBefore="",this.middlewareAfter="",this.proxy={},this.securitySchemes={},this.resourcesOrder={utilFuncs:[],docs:[],savedEntries:[]}}return e(a,[{key:"Host",set:function(a){this.forwardHost=a},get:function(){return this.forwardHost}},{key:"BasePath",set:function(a){this.basePath=a},get:function(){return this.basePath||""}},{key:"Consumes",set:function(a){this.consumes=a},get:function(){return this.consumes}},{key:"Produces",set:function(a){this.produces=a},get:function(){return this.produces}},{key:"Protocols",get:function(){return this.protocols},set:function(a){this.protocols=a}},{key:"Version",get:function(){return this.version||""},set:function(a){this.version=a}},{key:"GroupsOrder",set:function(a){this.resourcesOrder=a},get:function(){return this.resourcesOrder}},{key:"SecuritySchemes",set:function(a){this.securitySchemes=a},get:function(){return this.securitySchemes}}]),a}();b.exports=f},{}],214:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./environment"),g=function(){function a(b){d(this,a),this.name=b,this.description="",this.environment=new f,this.endpoints=[],this.resources=[],this.schemas=[],this.texts=[],this.traits=[],this.pathParamsRef={}}return e(a,[{key:"addResource",value:function(a){this.resources.push(a)}},{key:"addEndpoint",value:function(a){this.endpoints.push(a)}},{key:"addSchema",value:function(a){this.schemas.push(a)}},{key:"addText",value:function(a){this.texts.push(a)}},{key:"addTrait",value:function(a){this.traits.push(a)}},{key:"addPathParamRef",value:function(a,b){this.pathParamsRef[a]=b}},{key:"getPathParamRef",value:function(a){return this.pathParamsRef[a]}},{key:"Description",set:function(a){this.description=a||""},get:function(){return this.description||""}},{key:"Name",get:function(){return this.name}},{key:"Endpoints",get:function(){return this.endpoints},set:function(a){this.endpoints=a}},{key:"Resources",get:function(){return this.resources},set:function(a){this.resources=a}},{key:"Schemas",get:function(){return this.schemas},set:function(a){this.schemas=a}},{key:"Environment",get:function(){return this.environment},set:function(a){this.environment=a}},{key:"Texts",get:function(){return this.texts}},{key:"Traits",get:function(){return this.traits}}]),a}();b.exports=g},{"./environment":213}],215:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.name="",this.namespace=b,this.definition=""}return e(a,[{key:"Name",get:function(){return this.name},set:function(a){this.name=a}},{key:"NameSpace",get:function(){return this.namespace}},{key:"Definition",set:function(a){this.definition=a},get:function(){return this.definition}}]),a}();b.exports=f},{}],216:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){d(this,a),this.swagger="2.0",this.info={version:"",title:b},c&&(this.info.description=c),this.host="",this.basePath="",this.schemes=[],this.consumes=[],this.produces=[],this.securityDefinitions={},this.paths={},this.parameters={},this.responses=[]}return e(a,[{key:"BasePath",set:function(a){a&&a.length>0?this.basePath=a:delete this.basePath}},{key:"Host",set:function(a){a&&a.length>0?this.host=a:delete this.host}}]),a}();b.exports=f},{}],217:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function f(a,b){d(this,f),this.method=a,this.methodResolved=b,this.summary=this.method.summary||this.methodResolved.summary,this.tags=this.method.tags||this.methodResolved.tags,this.description=this.method.description||this.methodResolved.description,this.deprecated=this.method.deprecated||this.methodResolved.deprecated,this.operationId=this.method.operationId||this.methodResolved.operationId,this.externalDocs=this.method.externalDocs||this.methodResolved.externalDocs,this.schemes=this.method.schemes||this.methodResolved.schemes,this.parameters=this.method.parameters||this.methodResolved.parameters,this.consumes=this.method.consumes||this.methodResolved.consumes,this.produces=this.method.produces||this.methodResolved.produces,this.responses=this.method.responses||this.methodResolved.responses,this.security=this.method.security||this.methodResolved.security};b.exports=e},{}],218:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this._id=null,this.name=b,this.content="",this["public"]=""}return e(a,[{key:"Id",get:function(){return this._id},set:function(a){this._id=a}},{key:"Name",get:function(){return this.name},set:function(a){this.name=a}},{key:"Content",set:function(a){this.content=a},get:function(){return this.content}},{key:"Public",get:function(){return this["public"]},set:function(a){this["public"]=a}}]),a}();b.exports=f},{}],219:[function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("./exporter"),k=a("../helpers/raml"),l=a("../utils/strings"),m=a("../utils/json"),n=a("js-yaml"),o=function(){function a(b,c){f(this,a),this.title=b,this.version=c.Version;var d=c.Host+c.BasePath;d&&(this.baseUri=d),this.mediaType=c.DefaultResponseType||"";var e=p.mapProtocols(c.Protocols);i.isEmpty(e)||(this.protocols=e)}return h(a,[{key:"addMethod",value:function(a,b,c,d,e){if(b)if(b.length<=0){a.uriParameters||(a.uriParameters={});for(var f in d.uriParameters)if(d.uriParameters.hasOwnProperty(f)&&a.displayName){var g=a.displayName.split(f).length-1;g&&(a.uriParameters[f]=d.uriParameters[f])}if(delete d.uriParameters,i.isEmpty(a.uriParameters)&&delete a.uriParameters,a[c]=d,!i.isEmpty(e)){var h=[];for(var j in e)e.hasOwnProperty(j)&&h.push(i.camelCase(e[j]));a.is=h}}else{var k="/"+b[0];a[k]||(a[k]={},i.isEmpty(b[0])||(a[k].displayName=b[0])),b.splice(0,1),this.addMethod(a[k],b,c,d,e)}}}]),a}(),p=function(a){function b(){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return e(b,a),h(b,[{key:"_mapSecurityScheme",value:function(a){var b={};if(a.hasOwnProperty("oauth2"))for(var c in a.oauth2)if(a.oauth2.hasOwnProperty(c)){var d=a.oauth2[c],e=d.name||"oauth2";b[e]={type:"OAuth 2.0",settings:{authorizationUri:d.authorizationUrl||void 0,accessTokenUri:d.tokenUrl||"",authorizationGrants:this.mapAuthorizationGrants(d.flow)}},d.description&&(b[e].description=d.description);var f=[];if(d.scopes&&!i.isEmpty(d.scopes)){for(var g in d.scopes)if(d.scopes.hasOwnProperty(g)){var h=d.scopes[g].name;f.push(h)}b[e].settings.scopes=f}}if(a.hasOwnProperty("basic"))for(var j in a.basic)if(a.basic.hasOwnProperty(j)){var k=a.basic[j],l=k.name;l&&(b[l]={type:"Basic Authentication",description:k.description})}if(a.hasOwnProperty("apiKey")){if(!i.isEmpty(a.apiKey.headers))for(var m in a.apiKey.headers)if(a.apiKey.headers.hasOwnProperty(m)){var n=a.apiKey.headers[m],o={headers:{}};o.headers[n.name]={type:"string"},i.isEmpty(o)||(b[n.externalName||"apiKey"]={type:this.getApiKeyType(),describedBy:o,description:n.description})}if(!i.isEmpty(a.apiKey.queryString))for(var p in a.apiKey.queryString)if(a.apiKey.queryString.hasOwnProperty(p)){var q=a.apiKey.queryString[p],r={queryParameters:{}};r.queryParameters[q.name]={type:"string"},i.isEmpty(r)||(b[q.externalName||"apiKey"]={type:this.getApiKeyType(),describedBy:r,description:q.description})}}return this.mapSecuritySchemes(b)}},{key:"_mapRequestBody",value:function(a,c,d){var e={};if(!a.body||""===c)return e;switch(c){case"application/json":e[c]=this.mapBody(a,c,d),this.convertRequiredFromProperties(e[c]),a.name&&b._createAnnotation(e[c],"body-name",a.name,d);break;case"multipart/form-data":case"application/x-www-form-urlencoded":var f=m.parse(a.body);e[c]=this.mapRequestBodyForm(this.convertRefFromModel(f,!1,null,d),d)}return a.description&&(e[c].description=a.description),e}},{key:"_mapNamedParams",value:function(a,c){if(a&&!i.isEmpty(a.properties)){var d={},e=this.convertRefFromModel(a.properties,!1,null,c);for(var f in e)e.hasOwnProperty(f)&&(d[f]=k.setParameterFields(e[f],{}),a.required&&a.required.indexOf(f)>-1&&(d[f].required=!0),d[f]=m.orderByKeys(d[f],["type","description"]));return b._validateParam(d)}}},{key:"_mapResponseBody",value:function(a,c,d){var e={};for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(!i.isEmpty(g.codes)){var h=g.codes[0];if("NaN"==parseInt(h)||i.startsWith(h,"x-"))continue;e[h]={};var j=c,k=this.mapBody(g,j,d);this.convertRequiredFromProperties(k),i.isEmpty(k)||(e[h].body={},j?e[h].body[j]=k:e[h].body=k),g.description&&(e[h].description=g.description),m.isEmptySchema(g.headers)||(e[h].headers=this._mapNamedParams(g.headers,d)),g.response_id&&(b._createAnnotation(e[h],"global-response-definition",g.response_id,d),delete g.response_id)}}return e}},{key:"_mapURIParams",value:function(a,c){if(a.properties&&!i.isEmpty(a.properties)){var d={};for(var e in a.properties)if(a.properties.hasOwnProperty(e)){var f=a.properties[e];if(b._mapFormats(f,c),d[e]=k.setParameterFields(f,{}),b.fixEnumValueFormat(f),f.items){var g=f.items;b._mapFormats(g,c),b.fixEnumValueFormat(g),d[e].items=g}f.format&&(d[e].format=f.format),d[e].type=d[e].type||"string";for(var h in d[e])d[e].hasOwnProperty(h)&&("exclusiveMinimum"===h||"exclusiveMaximum"===h||"allowEmptyValue"===h||"collectionFormat"===h)&&(b._createAnnotation(d[e],h,d[e][h],c),delete d[e][h])}return b._validateParam(d)}}},{key:"_mapTextSections",value:function(a){var b=[];if(!a)return resilts;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];d.divider||i.isEmpty(d.name)||i.isEmpty(d.content)||b.push({title:d.name,content:d.content})}return b}},{key:"convertRefFromModel",value:function(a,c,d,e){b._mapFormats(a,e);for(var f in a)if(a.hasOwnProperty(f)){var h=a[f];if(d&&(h=b.convertSchemaTitles(h,"property",e)),"$ref"!=f||d){if("type"!=f||d)"string"==typeof h?"ref"==f?(a.type=h,delete a[f]):"include"==f?(a.type="!include "+h,delete a[f]):"collectionFormat"===f&&b._createAnnotation(a,f,a[f],e):h&&"object"===("undefined"==typeof h?"undefined":g(h))&&("facets"!==f||d)?(b._mapFormats(h,e),d?h.hasOwnProperty("additionalProperties")&&(h.type="object"):"example"===f&&void 0===a.type?a.type="undefined"==typeof h?"undefined":g(h):a.hasOwnProperty("items")&&"array"!==a.type&&(a.type="array"),"readOnly"===f&&b._createAnnotation(a,f,a[f],e),a[f]=this.convertRefFromModel(h,c,"properties"===f&&!d,e)):"$ref"===f?(a.type=h.replace("#/definitions/",""),delete a[f]):"exclusiveMinimum"===f||"exclusiveMaximum"===f||"allowEmptyValue"===f||"collectionFormat"===f?(b._createAnnotation(a,f,a[f],e),delete a[f]):"readOnly"===f?(b._createAnnotation(a,f,a[f],e),delete a[f]):k.isNumberType(a.type)||"maximum"!==f&&"minimum"!==f||(b._createAnnotation(a,f,a[f],e),delete a[f]);else if("null"===h)a.type="nil";else if("object"===("undefined"==typeof h?"undefined":g(h)))for(var j in h)h.hasOwnProperty(j)&&"null"===h[j]&&(h[j]="nil")}else 0==h.indexOf("#/")?(a.type=h.replace("#/definitions/",""),a.type=l.checkAndReplaceInvalidChars(a.type,k.getValidCharacters,k.getReplacementCharacter)):a.type="!include "+h.replace("#/","#"),delete a[f];k.isNumberType(a.type)&&"example"===f&&(a[f]=i.toNumber(a[f])),h.hasOwnProperty("readOnly")&&"properties"!==f&&(b._createAnnotation(h,"readOnly",h.readOnly,e),delete h.readOnly)}return a}},{key:"_mapParametersTraits",value:function(a,b){var c=this.initializeTraits();for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f={};try{var g=m.parse(e.request.queryString);m.isEmptySchema(g)||(f.queryParameters=this._mapNamedParams(g,b))}catch(h){}try{var j=m.parse(e.request.headers);m.isEmptySchema(j)||(f.headers=this._mapNamedParams(j))}catch(h){}try{var k=m.parse(e.request.formData);m.isEmptySchema(k)||(f.body=this._mapRequestBody(k,"multipart/form-data"))}catch(h){}try{var l=m.parse(e.request.body);m.isEmptySchema(l)||(f.body=this._mapRequestBody(l,"application/json",b))}catch(h){}i.isEmpty(e.responses)&&this.addTrait(e.name,f,c)}return c}},{key:"_mapResponsesTraits",value:function(a,b){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];try{if(e.responses&&e.responses.length){var f=this._mapResponseBody(e.responses,b);c[e.name]=f[200]}}catch(g){}}return c}},{key:"_export",value:function(){var a=this.project.Environment,c=new o(this.project.Name,a);if(c.mediaType=this.mapMediaType(a.Consumes,a.Produces),this.description(c,this.project),this.project.tags&&b._addTags(c,this.project.tags),this.project.Environment.extensions&&(c["(oas-info)"]||(c["(oas-info)"]={}),b._createAnnotation(c,"info",this.project.Environment.extensions,c),b._addExtensions(c,c["(oas-info)"],this.project.Environment.extensions)),this.project.Environment.ExternalDocs){var d={description:this.project.Environment.ExternalDocs.description,url:this.project.Environment.ExternalDocs.url};b._createAnnotation(c,"externalDocs",d,c),this.project.Environment.ExternalDocs.extensions&&b._addExtensions(c,c["(oas-externalDocs)"],this.project.Environment.ExternalDocs.extensions)}if(this.project.Environment.contactInfo){var e={contact:{}};this.project.Environment.contactInfo.name&&(e.contact.name=this.project.Environment.contactInfo.name),this.project.Environment.contactInfo.url&&(e.contact.url=this.project.Environment.contactInfo.url),this.project.Environment.contactInfo.email&&(e.contact.email=this.project.Environment.contactInfo.email),b._createAnnotation(c,"info",e,c),this.project.Environment.contactInfo.extensions&&b._addExtensions(c,c["(oas-info)"].contact,this.project.Environment.contactInfo.extensions)}if(this.project.Environment.termsOfService){var f={termsOfService:this.project.Environment.termsOfService};b._createAnnotation(c,"info",f,c)}if(this.project.Environment.license){var h={license:{}};this.project.Environment.license.name&&(h.license.name=this.project.Environment.license.name),this.project.Environment.license.url&&(h.license.url=this.project.Environment.license.url),b._createAnnotation(c,"info",h,c),this.project.Environment.license.extensions&&b._addExtensions(c,c["(oas-info)"].license,this.project.Environment.license.extensions)}var j=this._mapTextSections(this.project.Texts);j.length&&(c.documentation=c.documentation||[],c.documentation=c.documentation.concat(j));var k=this.project.Environment.SecuritySchemes,l=this._mapSecurityScheme(k);i.isEmpty(l)||(c.securitySchemes=l),i.isEmpty(this.project.endpointExtensions)||(c["(oas-paths)"]||(c["(oas-paths)"]={}),b._addExtensions(c,c["(oas-paths)"],this.project.endpointExtensions),c.annotationTypes["oas-paths"]={type:"any",allowedTargets:"API"});var m=this.project.Endpoints,n=a.resourcesOrder.docs.reduce(function(a,b){return a.concat(i.map(i.filter(b.items,{type:"endpoints"}),"_id"))},[]);m.sort(function(a,b){return n.indexOf(a._id)<n.indexOf(b._id)?-1:1});for(var p in m)if(m.hasOwnProperty(p)){var q=m[p],r={};q.extensions&&b._addExtensions(c,r,q.extensions),this.setMethodDisplayName(r,q.operationId||q.Name),q.Description&&(r.description=q.Description),q.Summary&&b._createAnnotation(r,"summary",q.Summary,c);var s=b.mapProtocols(q.protocols);i.isEmpty(s)||(r.protocols=s);var t=b._mapEndpointTraits(this.project.Traits,q);if(t.length&&(r.is=t),"post"===i.toLower(q.Method)||"put"===i.toLower(q.Method)||"patch"===i.toLower(q.Method)){var u=b.getDefaultMimeType(q.Consumes,c.mediaType);if(i.isArray(q.Body)&&q.Body.length>0){var v=this._mapRequestBody(q.Body[0],u,c);i.isEmpty(v)||(r.body=v)}}r.headers=this._mapNamedParams(q.Headers,c);var w=b.getDefaultMimeType(q.Produces,c.mediaType),x=this._mapResponseBody(q.Responses,w,c);if(i.isEmpty(x)||(x["default"]&&(b._createAnnotation(r,"responses-default",x["default"],c),delete x["default"]),i.isEmpty(x)||(r.responses=x)),r.queryParameters=this._mapURIParams(q.QueryString,c),r.uriParameters=this._mapURIParams(q.PathParams,c),q.securedBy){var y=[];if(q.securedBy.oauth2)for(var z in k.oauth2)if(k.oauth2.hasOwnProperty(z)){var A=k.oauth2[z];if(A.name===q.securedBy.oauth2.name){var B=A.name||"oauth2";if(i.isEmpty(q.securedBy.oauth2.scope))y.push(B);else{var C={};C[B]={scopes:q.securedBy.oauth2.scope},y.push(C)}}}if(q.securedBy.basic&&k.basic)for(var D in k.basic)if(k.basic.hasOwnProperty(D)){var E=k.basic[D];q.securedBy.basic.name===E.name&&y.push(E.name)}if(q.securedBy.apiKey&&k.apiKey){if(!i.isEmpty(k.apiKey.headers))for(var F in k.apiKey.headers)if(k.apiKey.headers.hasOwnProperty(F)){var G=k.apiKey.headers[F];G.externalName===q.securedBy.apiKey.name&&y.push(G.externalName)}if(!i.isEmpty(k.apiKey.queryString))for(var H in k.apiKey.queryString)if(k.apiKey.queryString.hasOwnProperty(H)){var I=k.apiKey.queryString[H];I.externalName===q.securedBy.apiKey.name&&y.push(I.externalName)}}y.length>0&&(r.securedBy=y)}var J=q.Path.split("/");if(J.splice(0,1),c.addMethod(c,J,q.Method,r,this.project.getPathParamRef(q.Path)),q.Tags&&!i.isEmpty(q.Tags)&&b._createAnnotation(r,"tags",q.Tags,c),q.Deprecated&&b._createAnnotation(r,"deprecated",q.Deprecated,c),q.ExternalDocs){var K={description:q.ExternalDocs.description,url:q.ExternalDocs.url};b._createAnnotation(r,"externalDocs",K,c)}q.responses.extensions&&b._addExtensions(c,r.responses,q.responses.extensions);for(var L in r)if(r.hasOwnProperty(L)){var M=r[L];"object"===("undefined"==typeof M?"undefined":g(M))&&b._addInnerExtensions(c,M)}for(var N in r.responses)if(r.responses.hasOwnProperty(N)){var O=r.responses[N];b._addExampleExtensions(c,O.body)}}var P=this.project.Schemas;P&&P.length>0&&this.addSchema(c,this.mapSchema(P,c));for(var Q in P)if(P.hasOwnProperty(Q)){var R=P[Q];if("object"===("undefined"==typeof R?"undefined":g(R))){var S=R.definition;b._addInnerExtensions(c,S),b._addInnerExternalDocs(c,S)}}if(this.project.Traits&&this.project.Traits.length>0){var T=this._mapParametersTraits(this.project.Traits,c);i.isEmpty(T)||(c.traits=T)}if(this.project.Traits&&this.project.Traits.length>0){var U=this._mapResponsesTraits(this.project.Traits);i.isEmpty(U)||b._createAnnotation(c,"responses",U,c)}for(var V in c)c.hasOwnProperty(V)&&!c[V]&&delete c[V];b._addExtensions(c,c,this.project.extensions),this.data=c}},{key:"_unescapeYamlIncludes",value:function(a){var b=a.indexOf("'!include ");if(-1==b)return a;var c=a.indexOf("'",b+1);return-1==c?a:a.substring(0,b)+a.substring(b+1,c)+this._unescapeYamlIncludes(a.substring(c+1))}},{key:"_getData",value:function(a){switch(a){case"yaml":var b=this._unescapeYamlIncludes(n.dump(m.parse(JSON.stringify(this.Data)),{lineWidth:-1}));return"#%RAML "+this.version()+"\n"+b;default:throw Error("RAML doesn not support "+a+" format")}}},{key:"convertRequiredFromProperties",value:function(a,c){for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if(e&&"object"===("undefined"==typeof e?"undefined":g(e))&&"required"!==d&&this.convertRequiredFromProperties(e,"properties"===d&&!c),"properties"===d&&!c){for(var f in a.properties)if(a.properties.hasOwnProperty(f)&&"//"!==f){var h=a.properties[f];b.checkRequiredProperty(a,f)||"object"!==("undefined"==typeof h?"undefined":g(h))||(h.required=!1)}delete a.required}}}},{key:"description",value:function(){throw new Error("description method not implemented")}},{key:"version",value:function(){throw new Error("version method not implemented")}},{key:"mapAuthorizationGrants",value:function(){throw new Error("mapAuthorizationGrants method not implemented")}},{key:"mapBody",value:function(){throw new Error("mapBody method not implemented")}},{key:"mapRequestBodyForm",value:function(){throw new Error("mapRequestBodyForm method not implemented")}},{key:"addSchema",value:function(){throw new Error("addSchema method not implemented")}},{key:"mapSchema",value:function(){throw new Error("mapSchema method not implemented")}},{key:"getApiKeyType",value:function(){throw new Error("getApiType method not implemented")}},{key:"mapSecuritySchemes",value:function(){throw new Error("mapSecuritySchemes method not implemented")}},{key:"setMethodDisplayName",value:function(){throw new Error("setMethodDisplayName method not implemented")}},{key:"initializeTraits",value:function(){throw new Error("initializeTraits method not implemented")}},{key:"addTrait",value:function(){throw new Error("addTrait method not implemented")}},{key:"mapMediaType",value:function(){throw new Error("mapMediaType method not implemented")}}],[{key:"_validateParam",value:function(a){var b=["string","number","integer","date","boolean","file","array","datetime"];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d)if(d.hasOwnProperty(e))switch(e){case"type":var f=a[c].type;if(b.indexOf(f)<0){delete a[c];continue}break;case"enum":case"pattern":case"minLength":case"maxLength":"string"!==a[c].type&&delete a[c][e];break;case"minimum":case"maximum":var g=i.toLower(a[c].type);"integer"!==g&&"number"!==g&&delete a[c][e];break;case"required":case"displayName":case"description":case"example":case"repeat":case"default":case"items":case"format":case"maxItems":case"minItems":case"uniqueItems":case"facets":case"(oas-format)":case"(oas-allowEmptyValue)":case"(oas-collectionFormat)":case"(oas-exclusiveMaximum)":case"(oas-exclusiveMinimum)":break;default:a[c]&&delete a[c][e]}}return a}},{key:"fixEnumValueFormat",value:function(a){if(a.hasOwnProperty("enum")&&"date-only"===a.type)for(var b in a["enum"])if(a["enum"].hasOwnProperty(b)){var c=a["enum"][b];k.getDateOnlyFormat.test(c)&&(c=c.replace(/_/g,"-"),c=c.replace(new RegExp("/","g"),"-"),a["enum"][b]=c)}}},{key:"mapProtocols",value:function(a){var b=[];for(var c in a)!a.hasOwnProperty(c)||"http"!=i.toLower(a[c])&&"https"!=i.toLower(a[c])||b.push(i.toUpper(a[c]));return b}},{key:"_createAnnotation",value:function(a,b,c,d){var e=void 0,f=!0;switch(b){case"allowEmptyValue":e={type:"boolean"};break;case"tags":e={type:"string[]",allowedTargets:"Method"};break;case"deprecated":e={type:"boolean",allowedTargets:"Method"};break;case"summary":e={type:"string",allowedTargets:"Method"};break;case"externalDocs":e={properties:{"description?":"string",url:"string"},allowedTargets:["API","Method","TypeDeclaration"]};break;case"info":e={properties:{"termsOfService?":"string","contact?":{properties:{"name?":"string","url?":"string","email?":"string"}},"license?":{properties:{"name?":"string","url?":"string"}}},allowedTargets:"API"};break;case"schema-title":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"property-title":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"body-name":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"responses-default":e={type:"any",allowedTargets:"Method"};break;case"global-response-definition":e={type:"any",allowedTargets:"Response"};break;case"definition-name":e={type:"string",
allowedTargets:"TypeDeclaration"};break;case"collectionFormat":e={type:"string"};break;case"format":e={type:"string",allowedTargets:"TypeDeclaration"};break;case"readOnly":e={type:"boolean",allowedTargets:"TypeDeclaration"};break;case"responses":e="any";break;case"exclusiveMaximum":case"exclusiveMinimum":e={type:"boolean"};break;case"maximum":case"minimum":e={allowedTargets:"TypeDeclaration",type:"number"};break;default:f=!1}if(!f)return!1;d.annotationTypes||(d.annotationTypes={});var g="oas-"+b;d.annotationTypes.hasOwnProperty(g)||(d.annotationTypes[g]=e);var h="("+g+")";return a.hasOwnProperty(h)?i.merge(a[h],c):a[h]=c,!0}},{key:"_mapFormats",value:function(a,c){var d=["int","int8","int16","int32","int64"];a&&!a.hasOwnProperty("type")&&"string"==a.format?(a.type="string",delete a.format):a&&"string"==a.type?"byte"==a.format||"binary"==a.format||"password"==a.format||"uuid"==a.format?(b._createAnnotation(a,"format",a.format,c),delete a.format):"date"==a.format?(a.type="date-only",delete a.format):"date-time"==a.format?(a.type="datetime",a.format="rfc3339"):a.format&&k.getValidFormat.indexOf(a.format)<0&&(b._createAnnotation(a,"format",a.format,c),delete a.format):a&&"integer"==a.type?d.indexOf(a.format)<0&&delete a.format:a&&"number"==a.type&&d.concat(["long","float","double"]).indexOf(a.format)<0&&("integer"==a.format&&(a.type="integer"),delete a.format)}},{key:"convertSchemaTitles",value:function(a,c,d){for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];"title"===e&&"string"==typeof f&&("schema"===c?b._createAnnotation(a,"schema-title",f,d):"property"===c&&b._createAnnotation(a,"property-title",f,d),delete a[e])}return a}},{key:"_mapEndpointTraits",value:function(a,b){var c=[];for(var d in b.traits)if(b.traits.hasOwnProperty(d)){var e=i.find(a,["_id",b.traits[d]]);e&&c.push(i.camelCase(e.name))}return c}},{key:"getDefaultMimeType",value:function(a,b){var c=a&&a.length>0?a[0]:null;return c||(i.isArray(b)&&b.length?c=b[0]:i.isString(b)&&""!==b&&(c=b)),c||(c="application/json"),c}},{key:"_addTags",value:function(a,b){if(!i.isEmpty(b)){a["(oas-tags-definition)"]=[],a.annotationTypes||(a.annotationTypes={}),a.annotationTypes["oas-tags-definition"]={type:"array",items:{properties:{name:"string","description?":"string","externalDocs?":{properties:{url:"string","description?":"string"}}}},allowedTargets:"API"};for(var c in b)b.hasOwnProperty(c)&&a["(oas-tags-definition)"].push(b[c])}}},{key:"_addExtensions",value:function(a,b,c){for(var d in c)if(c.hasOwnProperty(d)){b.hasOwnProperty(d)&&delete b[d];var e="example"===d?"responses-".concat(d):d;if(b["(oas-"+e+")"]=c[d],a.annotationTypes||(a.annotationTypes={}),!a.annotationTypes.hasOwnProperty("oas-"+e))switch(d){case"example":a.annotationTypes["oas-"+e]={type:"string",allowedTargets:"TypeDeclaration"};break;case"externalDocs":a.annotationTypes["oas-"+e]={properties:{"description?":"string",url:"string"},allowedTargets:["API","Method","TypeDeclaration"]};break;default:a.annotationTypes["oas-"+d]="any"}}}},{key:"_addExampleExtensions",value:function(a,c){for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if(e.hasOwnProperty("example")){var f=e.example;"string"==typeof f&&b._addExtensions(a,e,{example:f})}}}},{key:"_addInnerExtensions",value:function(a,c){var d={},e={};for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];i.startsWith(f,"x-")?d[f]=h:"object"===("undefined"==typeof h?"undefined":g(h))&&(e[f]=h)}i.isEmpty(d)||b._addExtensions(a,c,d);for(var j in e)if(e.hasOwnProperty(j)){var k=e[j];b._addInnerExtensions(a,k)}}},{key:"_addInnerExternalDocs",value:function(a,c){var d={};for(var e in c)if(c.hasOwnProperty(e)){var f=c[e];"externalDocs"===e?b._addExtensions(a,c,{externalDocs:f}):"object"===("undefined"==typeof f?"undefined":g(f))&&(d[e]=f)}for(var h in d)if(d.hasOwnProperty(h)){var i=d[h];b._addInnerExternalDocs(a,i)}}},{key:"checkRequiredProperty",value:function(a,b){if(!a.required)return!1;if(a.required&&a.required.length>0)for(var c in a.required)if(a.required.hasOwnProperty(c)){var d=a.required[c];if(d===b)return!0}return!1}}]),b}(j);b.exports=p},{"../helpers/raml":226,"../utils/json":236,"../utils/strings":237,"./exporter":220,"js-yaml":21,lodash:204}],220:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("js-yaml"),h=a("../importers/index"),i=a("../formats"),j=function(){function a(){d(this,a),this.data=null,this.project=null}return f(a,[{key:"loadProject",value:function(a){this.project=a}},{key:"_export",value:function(){throw new Error("_export method not implemented")}},{key:"export",value:function(a,b){var c=this;return new Promise(function(d,f){try{!function(){c._export();var g=c._getData(a);!b||b.validate!==!0&&b.validateExport!==!0?d(g):!function(){var a="object"===("undefined"==typeof g?"undefined":e(g))?JSON.stringify(g):g,c=h.factory(i.AUTO);c.loadData(a,b).then(function(){try{c["import"](),d(g)}catch(a){a.exportedData=g,f(a)}})["catch"](function(a){a.exportedData=g,f(a)})}()}()}catch(g){f(g)}})}},{key:"_getData",value:function(a){switch(a){case"yaml":return g.dump(JSON.parse(JSON.stringify(this.Data)),{lineWidth:-1});default:return this.Data}}},{key:"_mapEndpoint",value:function(){throw new Error("_mapEndpoint method not implemented")}},{key:"_mapSchema",value:function(){throw new Error("_mapSchema method not implemented")}},{key:"_mapQueryString",value:function(){throw new Error("_mapQueryString method not implemented")}},{key:"_mapURIParams",value:function(){throw new Error("_mapURIParams method not implemented")}},{key:"_mapRequestBody",value:function(){throw new Error("_mapRequestBody method not implemented")}},{key:"_mapResponseBody",value:function(){throw new Error("_mapResponseBody method not implemented")}},{key:"_mapRequestHeaders",value:function(){throw new Error("_mapRequestHeaders method not implemented")}},{key:"Data",get:function(){return this.data}}]),a}();b.exports=j},{"../formats":225,"../importers/index":231,"js-yaml":21}],221:[function(a,b,c){"use strict";function d(a){return!(!a||!a.name||!e.hasOwnProperty(a.className))}var e={Swagger:a("./swagger"),RAML08:a("./raml08"),RAML10:a("./raml10")};b.exports={hasSupport:d,factory:function(a){return d(a)?new e[a.className]:null}}},{"./raml08":222,"./raml10":223,"./swagger":224}],222:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("lodash"),i=a("./baseraml"),j=a("../utils/json"),k=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),g(b,[{key:"version",value:function(){return"0.8"}},{key:"mapMediaType",value:function(a,b){var c=[];return a&&a.length>0&&(c=a),h.isArray(b)&&(c=c.concat(b)),c=h.uniq(c),c.length?c[0]:null}},{key:"mapAuthorizationGrants",value:function(a){var b=[];switch(a){case"implicit":b=["token"];break;case"password":b=["credentials"];break;case"application":b=["owner"];break;case"accessCode":b=["code"]}return b}},{key:"mapRequestBodyForm",value:function(a){var b={formParameters:a.properties};if(a.required&&a.required.length>0)for(var c in a.required)if(a.required.hasOwnProperty(c)){var d=a.required[c];b.formParameters[d]&&(b.formParameters[d].required=!0)}return b}},{key:"mapBody",value:function(a,b){var c={schema:j.format(this.convertRefFromModel(j.parse(a.body),!1,null,b))},d=j.format(a.example);return h.isEmpty(d)||(c.example=d),c}},{key:"addSchema",value:function(a,b){a.schemas=b}},{key:"mapSchema",value:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e={};e[d.NameSpace]=j.format(d.Definition),b.push(e)}return b}},{key:"description",value:function(a,b){a.documentation=[{title:b.Name,content:b.Description}]}},{key:"getApiKeyType",value:function(){return"x-api-key"}},{key:"mapSecuritySchemes",value:function(a){return h.map(a,function(a,b){var c={};return c[b]=a,c})}},{key:"setMethodDisplayName",value:function(){}},{key:"initializeTraits",value:function(){return[]}},{key:"addTrait",value:function(a,b,c){var d={};d[h.camelCase(a)]=b,c.push(d)}}]),b}(i);b.exports=k},{"../utils/json":236,"./baseraml":219,lodash:204}],223:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("./baseraml"),k=a("../utils/strings"),l=a("../helpers/raml"),m=a("../utils/json"),n=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"version",value:function(){return"1.0"}},{key:"mapMediaType",value:function(a,b){var c=[];return a&&a.length>0&&(c=a),i.isArray(b)&&(c=c.concat(b)),c=i.uniq(c),1===c.length?c[0]:c.length?c:null}},{key:"mapAuthorizationGrants",value:function(a){var b=[];switch(a){case"implicit":b=["implicit"];break;case"password":b=["password"];break;case"application":b=["client_credentials"];break;case"accessCode":b=["authorization_code"]}return b}},{key:"mapBody",value:function(a,b,c){var d=m.parse(a.body),e=this.convertAllOfToModel(this.convertRefFromModel(d,!1,null,c));if(e=j.convertSchemaTitles(e,"schema",c),e=this.mapAdditionalProperties(e),a.example&&(e.example=m.parse(a.example),b&&e.example[b])){if(e.example=m.parse(e.example[b]),e.example.hasOwnProperty("value")){var f={};f.value=e.example.value,e.example.value=f}"object"===g(e.example)&&(e.example=this.fixValuesFormat(e.example))}return e}},{key:"fixValuesFormat",value:function(a){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];a[c]=b.fixDateFormat(d),"object"===("undefined"==typeof d?"undefined":g(d))&&(a[c]=this.fixValuesFormat(d))}return a}},{key:"mapRequestBodyForm",value:function(a,b){var c={properties:a.properties};for(var d in c.properties)if(c.properties.hasOwnProperty(d)){var e=c.properties[d];e.required=!1;for(var f in e)if(e.hasOwnProperty(f)){var g=j._createAnnotation(e,f,e[f],b);g&&delete e[f]}}if(a.required&&a.required.length>0)for(var h in a.required)if(a.required.hasOwnProperty(h)){var i=a.required[h];c.properties[i]&&(c.properties[i].required=!0)}return c}},{key:"addSchema",value:function(a,b){a.types=b}},{key:"convertAllOfToModel",value:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c&&("allOf"==b?a=this.convertAllOfAttribute(a):"object"===("undefined"==typeof c?"undefined":g(c))&&(a[b]=this.convertAllOfToModel(c)))}return a}},{key:"convertAllOfAttribute",value:function(a){var b={},c=[];if(!a.allOf)return a;for(var d in a.allOf)if(a.allOf.hasOwnProperty(d)){var e=a.allOf[d];e.properties?b=this.mapSchemaProperties(e):e.type&&c.push(e.type)}return b.type=c.length>1?c:c[0],delete b.allOf,b}},{key:"mapSchema",value:function(a,c){var d={};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e],g=this.convertRefFromModel(m.parse(f.Definition),!0,null,c);g=b.convertSchemaTitles(g,"schema",c),g.allOf?g=this.convertAllOfToModel(g):g.properties&&(g=this.mapSchemaProperties(g)),g=this.mapAdditionalProperties(g),g.externalDocs&&(j._createAnnotation(g,"externalDocs",g.externalDocs,c),delete g.externalDocs),g.additionalProperties&&(g.properties||(g.properties={}),g.properties["//"]=g.additionalProperties,delete g.additionalProperties),f.example&&(g.example=m.parse(f.example));var h=k.checkAndReplaceInvalidChars(f.NameSpace,l.getValidCharacters,l.getReplacementCharacter);h!==f.NameSpace&&j._createAnnotation(g,"definition-name",f.NameSpace,c),d[h]=g}return d}},{key:"mapSchemaProperties",value:function(a){return this.convertRequiredFromProperties(a),a.properties&&"object"==a.type&&delete a.type,a}},{key:"mapAdditionalProperties",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if("additionalProperties"!==c||b)"object"===("undefined"==typeof d?"undefined":g(d))&&(d=this.mapAdditionalProperties(d,"properties"===c&&!b));else{var e="object"===a.type,f=a.hasOwnProperty("properties");"object"!==("undefined"==typeof d?"undefined":g(d))&&d||!d&&!e&&!f?delete a.additionalProperties:"object"===("undefined"==typeof d?"undefined":g(d))&&(f||(a.properties={}),a.properties["//"]=this.mapAdditionalProperties(d,"properties"===c&&!b),delete a.additionalProperties)}}return a}},{key:"description",value:function(a,b){a.description=b.Description}},{key:"getApiKeyType",value:function(){return"Pass Through"}},{key:"mapSecuritySchemes",value:function(a){return a}},{key:"setMethodDisplayName",value:function(a,b){b&&(a.displayName=b)}},{key:"initializeTraits",value:function(){return{}}},{key:"addTrait",value:function(a,b,c){c[i.camelCase(a)]=b}}],[{key:"fixDateFormat",value:function(a){return"string"==typeof a&&l.getRFC3339Format.test(a)&&a.match(/\d*Z/)[0].length>3?a.replace(/\d*Z/,a.match(/\d*Z/)[0].slice(0,3)+"Z"):a}}]),b}(j);b.exports=n},{"../helpers/raml":226,"../utils/json":236,"../utils/strings":237,"./baseraml":219,lodash:204}],224:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./exporter"),j=a("../utils/json.js"),k=a("../utils/strings.js"),l=a("../utils/url"),m=a("../entities/swagger/definition"),n=a("../helpers/swagger"),o=a("../utils/xml.js"),p=a("lodash"),q=a("../utils/array.js"),r=a("url"),s=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"_getResponseTypes",value:function(a,b){var c=b||[],d=a.Produces||[];return d.reduce(function(a,b){return-1===a.indexOf(b)&&-1===c.indexOf(b)&&a.push(b),a},[])}},{key:"_getRequestTypes",value:function(a,b,c){var d=[],e=["multipart/form-data","application/x-www-form-urlencoded"],f=a.Consumes||[],g=c||[];for(var h in b)if(b.hasOwnProperty(h)&&b[h].type&&"file"===b[h].type){e.forEach(function(a){d.length||(f.indexOf(a)>=0?d.push(a):g.indexOf(a)>=0&&d.push(a))}),d.length||d.push(e[0]);break}return p.isEmpty(f)||f.forEach(function(a){-1===g.indexOf(a)&&d.push(a)}),p.uniq(d)}},{key:"_constructTags",value:function(a,b){var c=a.tags||[],d=p.find(b.GroupsOrder.docs,function(b){return p.find(b.items,["_id",a._id])});return d&&c.push(d.name),p.uniq(c)}},{key:"_constructSwaggerMethod",value:function(a,b,c,d){var e=this._getRequestTypes(a,b,d.Consumes),f=this._getResponseTypes(a,d.Produces);a.SetOperationId(a.operationId,a.Method,a.Path);var g={};p.isEmpty(a.operationId)||(g.operationId=a.operationId),p.isEmpty(a.Name)||(g.summary=a.Name);var h=this._constructTags(a,d);return p.isEmpty(h)||(g.tags=h),p.isEmpty(a.Description)||(g.description=a.Description),p.isArray(e)&&a.Consumes&&!p.isEqual(d.Consumes,e)&&!p.isEmpty(e)&&(g.consumes=e.filter(p.isString)),p.isArray(f)&&a.Produces&&!p.isEqual(d.Produces,f)&&!p.isEmpty(f)&&(g.produces=f.filter(p.isString)),p.isEmpty(b)||(g.parameters=b),g.responses=c,g}},{key:"_mapURIParams",value:function(a){var c=[];if(!a.properties||p.isEmpty(a))return c;for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=a.properties[d],f=n.setParameterFields(e,{});f.name=d,f["in"]="path",f.required=!0,f.type=f.type||"string",p.isEmpty(e.description)||(f.description=e.description),b._addPatternedObjects(e,f),c.push(f)}return c}},{key:"_mapQueryString",value:function(a){var c=[];if(a.name&&"queryString"===a.name&&!a.properties)return a["in"]="query",a;if(!a.properties)return c;for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=b._convertExamples(a.properties[d],!1);e=n.setParameterFields(e,{}),e.name=d,e["in"]="query",e.required=a.hasOwnProperty("required")&&a.required.indexOf(e.name)>=0,c.push(e)}return c}},{key:"mapResponseBody",value:function(a,c){var d={};d.description=a.description||"";var e=j.parse(a.body);if(e&&!p.isEmpty(e)&&(e.hasOwnProperty("$schema")&&delete e.$schema,d.schema=this.convertRefFromModel(e,!1)),c&&""!==c&&a.example&&"{}"!==a.example&&a.example.length>2&&(d.examples={},d.examples[c]=j.parse(a.example)),a.headers){b.mapHeaderProperties(a.headers),d.headers=a.headers;var f=d.headers;for(var g in f)f.hasOwnProperty(g)&&(f[g]=b._convertExamples(f[g],!1))}return d}},{key:"_mapResponseBody",value:function(a){var b=a.Responses,c={};for(var d in b)if(b.hasOwnProperty(d)){var e=b[d],f=a.Produces&&a.Produces.length?a.Produces[0]:null;c[e.codes&&e.codes.length>0&&parseInt(e.codes[0])?e.codes[0]:"default"]=this.mapResponseBody(e,f)}return c}},{key:"_mapRequestBodies",value:function(a,b){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];c["x-raml-body-"+e.mimeType]=this._mapRequestBody(e,b,!1)}return c}},{key:"_mapRequestBody",value:function(a,b,c){var d=[];if(p.isEmpty(a.body))return d;var e=j.parse(a.body)||{},f={};if(p.isEmpty(a.description)||(f.description=a.description),!j.isEmptySchema(e)){var g=/\"type\":[ ]*\"file\"|\"type\":[ ]*\"binary\"/;if(a.body.match(g)||!p.isEmpty(b)&&-1!==["multipart/form-data","application/x-www-form-urlencoded"].indexOf(b[0]))if(e.properties)for(var h in e.properties)e.properties.hasOwnProperty(h)&&(f=e.properties[h],f["in"]="formData",f.name=h,e.required&&e.required.indexOf(h)>=0&&(f.required=!0),f.hasOwnProperty("type")&&(f.type=c?{type:"object"}:f.type),d.push(f));else f["in"]="formData",f.name="formData",e.ref&&(f["x-raml-type"]=e.ref),f.hasOwnProperty("type")&&(f.type=c?{type:"object"}:f.type),e.hasOwnProperty("type")&&"file"===e.type&&(f.type=e.type),d.push(f);else e.required&&e.required.length<=0&&delete e.required,f.name="body",f["in"]="body",f.schema=c?{type:"object"}:this.convertRefFromModel(e,!1),p.isEmpty(a.example)||(o.isXml(a.example)?f.schema.example=a.example:f.schema.example=JSON.parse(a.example)),d.push(f)}return d}},{key:"_mapRequestHeaders",value:function(a){var c=[];if(a)for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=b._convertExamples(a.properties[d],!1);e=n.setParameterFields(e,{}),e.name=d,e["in"]="header",e.required=a.required&&a.required.indexOf(d)>=0;var f=a.properties[d].description;p.isEmpty(f)||(e.description=a.properties[d].description),e=b._hasAttributes(e,["example","pattern"]),c.push(e)}return c}},{key:"_mapSchema",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=j.parse(d.Definition);e.hasOwnProperty("$schema")&&(delete e.$schema,delete e.id),e=this.convertRefFromModel(e,!0),b[d.NameSpace]=e}return b}},{key:"convertRefFromModel",value:function(a,c,d){o.isXml(a)&&(a={type:"object","x-raml-xsd-definition":a}),a.hasOwnProperty("definitions")&&a.hasOwnProperty("items")&&"array"==a.type&&(a=b.convertDefinitions(a));for(var e in a)if(a.hasOwnProperty(e)&&!n.isExtension(e)){var f=a[e];if("allOf"==e){var h=a.allOf;for(var i in h)if(h.hasOwnProperty(i)){var j=h[i];"object"===("undefined"==typeof j?"undefined":g(j))?h[i]=this.convertRefFromModel(j,c):h[i]={$ref:"#/definitions/"+j}}q.allEqual(h)&&(p.merge(a,a.allOf[0]),delete a.allOf)}else"schemaPath"===e?(a["x-raml-xsd-definition"]=f,delete a[e]):"string"==typeof f?"ref"==e?(a.$ref="#/definitions/"+f,delete a[e],e="$ref"):"include"==e&&(a.$ref=f,delete a[e],e="$ref"):f&&"object"===("undefined"==typeof f?"undefined":g(f))&&("example"===e||"examples"===e?(a=b._convertExamples(a,c),e="example"):"xml"!==e&&(a[e]=this.convertRefFromModel(f,c,"properties"==e&&!d)));!p.isArray(a)&&"object"==("undefined"==typeof a?"undefined":g(a))&&!d&&n.getSupportedSchemaFields.indexOf(e)<0&&(a["x-raml-"+e]=f,delete a[e])}return a}},{key:"_mapEndpointTraitParameters",value:function(a,b){if(!a.traits||!a.traits.length)return[];var c=[];for(var d in a.traits)if(a.traits.hasOwnProperty(d)){var e=p.find(this.project.Traits,["_id",a.traits[d]]);if(e){try{var f=j.parse(e.request.queryString);for(var g in f.properties)f.properties.hasOwnProperty(g)&&(p.find(b,{name:g,"in":"query"})||c.push({$ref:"#/parameters/"+k.computeTraitName(e.name,g)}))}catch(h){}try{var i=j.parse(e.request.headers);for(var l in i.properties)i.properties.hasOwnProperty(l)&&(p.find(b,{name:l,"in":"header"})||c.push({$ref:"#/parameters/"+k.computeTraitName(e.name,l)}))}catch(h){}}}return c}},{key:"_mapEndpointTraitResponses",value:function(a){if(!a.traits||!a.traits.length)return[];var b={};for(var c in a.traits)if(a.traits.hasOwnProperty(c)){var d=a.traits[c];p.isObject(d)&&!p.isEmpty(d)&&(d=Object.keys(d)[0]);var e=p.find(this.project.Traits,["_id",d]);if(e)for(var f in e.responses){var g=e.responses[f],h=g.codes&&g.codes.length>0&&parseInt(g.codes[0])?g.codes[0]:"default";b[h]={$ref:"#/responses/"+k.computeTraitName(e.name,h)}}}return b}},{key:"_mapResources",value:function(a,b){var c=this.project.Resources;if(p.isEmpty(c))this._mapEndpoints(a,b,this.project.Endpoints);else for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];this._mapEndpoints(a,b,e.endpoints),e.hasOwnProperty("is")&&(a.paths[e.path]["x-raml-is"]=e.is),(!p.isEmpty(e.annotations)||e.displayName||e.description)&&(a.paths[e.path]||(a.paths[e.path]={}));for(var f in e.annotations)if(e.annotations.hasOwnProperty(f)){var g=e.annotations[f];a.paths[e.path][f]=g||""}e.displayName&&(a.paths[e.path]["x-raml-resource-displayName"]=e.displayName),e.description&&(a.paths[e.path]["x-raml-resource-description"]=e.description)}}},{key:"_mapEndpoints",value:function(a,c,d){var e=c.resourcesOrder.docs.reduce(function(a,b){return a.concat(p.map(p.filter(b.items,{type:"endpoints"}),"_id"))},[]);d.sort(function(a,b){return e.indexOf(a._id)<e.indexOf(b._id)?-1:1});for(var f in d)if(d.hasOwnProperty(f)){var g=d[f],h=[],i=this._getRequestTypes(g,h,c.Consumes);if(i=p.isEmpty(i)?c.Consumes:i,!a.paths[g.Path]){var j=b._validateParameters(this._mapURIParams(g.PathParams));a.paths[g.Path]=j.length?{parameters:j}:{}}h=h.concat(this._mapQueryString(g.QueryString));var k=p.size(g.Body);k>1?h=h.concat(this._mapRequestBody(g.Body[0],i,!0)):p.isEmpty(g.Body)||(h=h.concat(this._mapRequestBody(g.Body[0],i,!1))),h=h.concat(this._mapRequestHeaders(g.Headers)),h=h.concat(this._mapEndpointTraitParameters(g,h)),h=b._validateParameters(h);var l=p.assign({},this._mapResponseBody(g,c),this._mapEndpointTraitResponses(g));if(p.isEmpty(l)&&(l["default"]={description:"",schema:{}}),a.paths[g.Path][g.Method]=this._constructSwaggerMethod(g,h,l,c),k>1){var m=this._mapRequestBodies(g.Body,i);p.merge(a.paths[g.Path][g.Method],m)}if(g.SecuredBy){var n=b._mapEndpointSecurity(g.SecuredBy,this.project.Environment.SecuritySchemes);p.isEmpty(n)||(a.paths[g.Path][g.Method].security=n)}b._addPatternedObjects(g,a.paths[g.Path][g.Method])}}},{key:"_mapTraitParameters",value:function(a){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f=[];try{var g=j.parse(e.request.queryString);j.isEmptySchema(g)||(f=f.concat(b._validateParameters(this._mapQueryString(g))))}catch(h){}try{var i=j.parse(e.request.headers);j.isEmptySchema(i)||(f=f.concat(b._validateParameters(this._mapRequestHeaders(i))))}catch(h){}for(var l in f){var m=f[l];c[k.computeTraitName(e.name,m.name)]=m}}return c}},{key:"_mapTraitResponses",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d.responses){var f=d.responses[e],g=k.computeTraitName(d.name,f.codes&&f.codes.length>0&&parseInt(f.codes[0])?f.codes[0]:"default"),h=this.mapResponseBody(f);h.hasOwnProperty("schema")&&h.schema.hasOwnProperty("$ref")&&p.includes(h.schema.$ref,"<<")&&(h.schema["x-raml-type"]=h.schema.$ref,delete h.schema.$ref),b[g]=h}}return b}},{key:"_mapHostAndProtocol",value:function(a,c){var d=["http","https","ws","wss"],e=r.parse(a.Host||""),f=e.hostname||"";f&&e.port&&(f=f+":"+e.port),c.Host=f,c.BasePath=a.BasePath,e.path&&"/"!==e.path&&(c.BasePath=l.join(e.path,a.BasePath)),b._isTemplateUri(c.basePath)&&b._convertToTemplateUri(c),Array.isArray(a.Protocols)&&!p.isEmpty(a.Protocols)?!function(){var b=[];a.Protocols.map(function(a){d.indexOf(a.toLowerCase())>=0&&b.push(a.toLowerCase())}),c.schemes=b}():e.protocol?c.schemes=[e.protocol.split(":")[0]]:delete c.schemes}},{key:"_export",value:function(){var a=new m(this.project.Name,this.project.Description),c=this.project.Environment;a.info.version=c.Version,a.BasePath=c.BasePath||"",this._mapHostAndProtocol(c,a),c.Produces&&c.Produces.length>0?a.produces=c.Produces:delete a.produces,c.Consumes&&c.Consumes.length>0?a.consumes=c.Consumes:delete a.consumes;var d=this._mapSchema(this.project.Schemas);p.isEmpty(d)||(a.definitions=d);var e=this._mapTraitParameters(this.project.Traits);p.isEmpty(e)?delete a.parameters:a.parameters=e;var f=this._mapTraitResponses(this.project.Traits);p.isEmpty(f)?delete a.responses:a.responses=f,a.securityDefinitions=b._mapSecurityDefinitions(this.project.Environment.SecuritySchemes),this._mapResources(a,c),a.securityDefinitions&&p.isEmpty(a.securityDefinitions)&&delete a.securityDefinitions,a["x-raml-uses"]=this.project.uses,this.data=j.toJSON(a)}}],[{key:"mapExample",value:function(a,b){if(!p.isEmpty(a.example)){var c=j.parse(a.example);p.isEmpty(c)||(b.example=c)}}},{key:"_validateParameters",value:function(a){a=j.orderByKeys(a,["$ref","name","in","description","required","schema","type"]);var b=["string","number","integer","boolean","array","file"],c="string";for(var d in a)a.hasOwnProperty(d)&&a[d]["in"]&&"body"!=a[d]["in"]&&(Array.isArray(a[d].type)&&(a[d].type.length>0?a[d].type=a[d].type[0]:a[d].type=c),b.indexOf(a[d].type)<0&&(a[d].type=c));return a}},{key:"_mapEndpointSecurity",value:function(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=void 0,f=void 0;"string"==typeof a[d]?(e=a[d],f=[]):(e=Object.keys(a[d])[0],f=a[d][e]);for(var g in b.oauth2)if(b.oauth2.hasOwnProperty(g)){var h=b.oauth2[g];if(h.name===e){var i=h.name||"oauth2",j={};j[i]=f,c.push(j)}}for(var k in b.basic)if(b.basic.hasOwnProperty(k)){var l=b.basic[k];if(e===l.name){var m={};m[l.name]=f,c.push(m)}}if(b.apiKey)for(var n in b.apiKey)if(b.apiKey.hasOwnProperty(n)){var o=b.apiKey[n];if(e===o.name){var p={};p[o.name]=f,c.push(p)}}}return c}},{key:"_mapSecurityDefinitions",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];switch(c){case"apiKey":for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];if(f.hasOwnProperty("headers")&&f.headers.length>0)for(var g in f.headers)if(f.headers.hasOwnProperty(g)){var h=f.headers[g];b[f.name]={name:h.name,type:c,"in":"header"},f.description&&(b[f.name].description=f.description)}if(f.hasOwnProperty("queryString")&&f.queryString.length>0)for(var i in f.queryString)if(f.queryString.hasOwnProperty(i)){var j=f.queryString[i];b[f.name]={name:j.name,type:c,"in":"query"},f.description&&(b[f.name].description=f.description)}}break;case"oauth2":for(var k in d)if(d.hasOwnProperty(k)){var l=d[k],m=l.scopes,n={};for(var o in m)if(m.hasOwnProperty(o)){var q=m[o];n[q.name]=q.value}var r={type:c,flow:l.flow,scopes:n};l.description&&(r.description=l.description),["implicit","accessCode"].indexOf(l.flow)>=0&&(r.authorizationUrl=l.authorizationUrl),["password","application","accessCode"].indexOf(l.flow)>=0&&(r.tokenUrl=l.tokenUrl),b[l.name]=r}break;case"basic":for(var s in d)if(d.hasOwnProperty(s)){var t=d[s],u={type:c};p.isEmpty(t.description)||(u.description=t.description),b[t.name]=u}}}return b}},{key:"mapHeaderProperties",value:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c.hasOwnProperty("required")&&(c["x-raml-required"]=c.required,delete c.required),c.hasOwnProperty("repeat")&&(c["x-raml-repeat"]=c.repeat,delete c.repeat)}}},{key:"_hasAttributes",value:function(a,c){for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];c.indexOf(d)>=0?(a["x-raml-"+d]=e,delete a[d]):"object"===("undefined"==typeof e?"undefined":g(e))&&(a[d]=b._hasAttributes(e,c))}return a}},{key:"convertDefinitions",value:function(a){var b=a.items.$ref.split("/"),c=b[b.length-1],d=a.definitions;for(var e in d)if(d.hasOwnProperty(e)&&e===c){a.items=d[e],delete d[e],p.isEmpty(a.definitions)&&delete a.definitions;break}return a}},{key:"_convertExamples",value:function(a,b){if(b){if(a.hasOwnProperty("examples")){var c=a.examples;if(!p.isArray(c))return c;if(a.example=c[0],c.length>1){for(var d=[],e=1;e<c.length;e++)d.push(c[e]);a["x-raml-additional-examples"]=d}delete a.examples}}else if(a.hasOwnProperty("example"))a["x-raml-example"]=a.example,delete a.example;else if(a.hasOwnProperty("examples")){var f=a.examples;if(!p.isArray(f))return f;for(var g=[],h=0;h<f.length;h++)g.push(f[h]);a["x-raml-example"]=g,delete a.examples}return a}},{key:"_addPatternedObjects",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];p.startsWith(c,"x-")&&(b[c]=d)}}},{key:"_isTemplateUri",value:function(a){var b=decodeURI(a);return-1!==b.indexOf("{")||-1!==b.indexOf("}")}},{key:"_convertToTemplateUri",value:function(a){a["x-basePath"]=decodeURI(a.basePath),delete a.basePath}}]),b}(i);b.exports=s},{"../entities/swagger/definition":216,"../helpers/swagger":227,"../utils/array.js":235,"../utils/json.js":236,"../utils/strings.js":237,"../utils/url":238,"../utils/xml.js":239,"./exporter":220,lodash:204,url:277}],225:[function(a,b,c){"use strict";var d={AUTO:{name:"Auto",className:"Auto",formats:["json"],"import":!0,"export":!1},SWAGGER:{name:"OAS 2.0",className:"Swagger",formats:["json","yaml"],"import":!0,"export":!0},RAML08:{name:"RAML 0.8",className:"RAML08",formats:["yaml"],"import":!0,"export":!1
},RAML10:{name:"RAML 1.0",className:"RAML10",formats:["yaml"],"import":!0,"export":!0}};b.exports=d},{}],226:[function(a,b,c){"use strict";var d=a("lodash");b.exports={getValidCharacters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",".","-","_"],getReplacementCharacter:"_",getRAML10ScalarTypes:["string","number","integer","boolean","datetime","date-only","file","array","nil","time-only","datetime-only"],getRAML08ScalarTypes:["string","number","integer","boolean","datetime","date-only","file","array","null","time-only","datetime-only"],getNumberTypes:["number","integer"],getValidFormat:["byte","binary","password","date","date-time"],parameterMappings:{},getSupportedParameterFields:["displayName","type","description","default","maximum","minimum","maxLength","minLength","pattern","enum","format","collectionFormat","allowEmptyValue","exclusiveMaximum","exclusiveMinimum","maxItems","minItems","uniqueItems","required","facets","items","example","examples","(oas-allowEmptyValue)","(oas-collectionFormat)","(oas-exclusiveMaximum)","(oas-exclusiveMinimum)"],getRFC3339Format:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.(\d*)Z$/,getDateOnlyFormat:/^\d{4}[^-]\d{2}[^-]\d{2}$/,isNumberType:function(a){return this.getNumberTypes.indexOf(a)>=0},setParameterFields:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&this.getSupportedParameterFields.indexOf(c)>=0){if(b[this.parameterMappings[c]?this.parameterMappings[c]:c]="function"==typeof a[c]?a[c]():a[c],"function"==typeof b[c]&&(b[c]=b[c]()),"string"!=typeof b[c]&&b[c]&&b[c].value)b[c]=b[c].value();else if("enum"===c&&"string"==typeof b[c])try{b[c]=JSON.parse(b[c].replace(/\'/g,'"'))}catch(e){}(!b.hasOwnProperty(c)||d.isArray(b[c])&&d.isEmpty(b[c]))&&delete b[c]}return b}}},{lodash:204}],227:[function(a,b,c){"use strict";b.exports={parameterMappings:{},getSupportedParameterFields:["type","description","default","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","enum","multipleOf","items","format","collectionFormat","allowEmptyValue","required","x-raml-example"],getSupportedSchemaFields:["$ref","format","title","description","default","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","enum","type","items","allOf","properties","additionalProperties","example","discriminator","xml","schemaPath"],setParameterFields:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&this.getSupportedParameterFields.indexOf(c)>=0&&(this.parameterMappings[c]?b[this.parameterMappings[c]]=a[c]:b[c]=a[c],"description"===c&&(b[c]=String(b[c])),"enum"===c&&"string"==typeof b[c]))try{b[c]=JSON.parse(b[c].replace(/\'/g,'"'))}catch(d){}return b},isExtension:function(a){return"x-"===a.substring(0,2)}}},{}],228:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("fs"),i=a("lodash"),j=a("../formats"),k=a("./importer"),l=a("../utils/url"),m={RAML08:a("./raml08"),RAML10:a("./raml10"),Swagger:a("./swagger")},n=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.importer=null,a}return f(b,a),g(b,[{key:"loadData",value:function(a,c,d){var e=this;return new Promise(function(f,g){if(!a)return g(new Error("No data provided"));var h=b.detectFormat(a);return h?e._parse(h,a,d,f,g,c):g(new Error("Unable to parse file. Invalid or unsupported syntax."))})}},{key:"loadFile",value:function(a,b){var c=this;if(l.isURL(a))return l.get(a).then(function(d){return c.loadData(d,b,a)});if(b&&b.fsResolver)return b.fsResolver.contentAsync(a).then(function(d){return c.loadData(d,b,a)});var d=h.readFileSync(a,"utf8");return this.loadData(d,b)}},{key:"_import",value:function(){return this.importer._import()}},{key:"_parse",value:function(a,b,c,d,e,f){var g=this,h=new m[a.className],i=c?h.loadFile(c,f):h.loadData(b,f);i.then(function(){g.data=h.data,g.importer=h,d()})["catch"](e)}}],[{key:"detectFormat",value:function(a){return a?(a=i.trim(a),/#%RAML[\s]*1\.?0?/.test(a)?j.RAML10:/#%RAML[\s]*0\.?8?/.test(a)?j.RAML08:/swagger:[\s'"]*\d\.?\d?/.test(a)||/{"swagger":[\s'"]*\d\.?\d?/.test(a)?j.SWAGGER:void 0):void 0}}]),b}(k);b.exports=n},{"../formats":225,"../utils/url":238,"./importer":230,"./raml08":232,"./raml10":233,"./swagger":234,fs:4,lodash:204}],229:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=window.RAML.Parser,j=a("../entities/endpoint"),k=a("./importer"),l=a("../entities/project"),m=a("../utils/json"),n=a("../utils/xml"),o=a("../helpers/raml"),p=a("url"),q=a("lodash"),r={serializeMetadata:!1},s=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.schemas=[],a}return f(b,a),h(b,[{key:"_mapSecuritySchemes",value:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];switch(f.type){case"Pass Through":b.apiKey||(b.apiKey=[]);var g={name:e};if(f.describedBy){if(f.describedBy.headers)for(var h in f.describedBy.headers)if(f.describedBy.headers.hasOwnProperty(h)){var i=f.describedBy.headers[h];g.headers=[],g.headers.push({name:i.name})}if(f.describedBy.queryParameters)for(var j in f.describedBy.queryParameters)if(f.describedBy.queryParameters.hasOwnProperty(j)){var k=f.describedBy.queryParameters[j];g.queryString=[],g.queryString.push({name:k.name})}}f.description&&(g.description=f.description),b.apiKey.push(g);break;case"OAuth 2.0":b.oauth2||(b.oauth2=[]);var l={name:e,authorizationUrl:f.settings.authorizationUri||"",tokenUrl:f.settings.accessTokenUri||"",scopes:[]};if(Array.isArray(f.settings.scopes))for(var m in f.settings.scopes)f.settings.scopes.hasOwnProperty(m)&&l.scopes.push({name:f.settings.scopes[m],value:""});var n=q.isEmpty(f.settings.authorizationGrants)?"code":f.settings.authorizationGrants[0];l=this.mapAuthorizationGrants(l,n),f.description&&(l.description=f.description),b.oauth2.push(l);break;case"Basic Authentication":b.basic||(b.basic=[]),b.basic.push({name:e,value:"",description:f.description||""})}}}return b}},{key:"_mapRequestBody",value:function(a,b){return this.mapRequestBody(a,b)}},{key:"_mapHeadersParameters",value:function(a,b){return this._mapParameters(a,b,"headers")}},{key:"_mapQueryParameters",value:function(a,b){return this._mapParameters(a,b,"queryParameters")}},{key:"_mapParameters",value:function(a,c,d){c&&b._filterPropertiesFromTraits(a,c,d);var e={type:"object",properties:{},required:[]};for(var f in a)if(a.hasOwnProperty(f)){var g=a[f],h=o.setParameterFields(g,{});e.properties[f]=this.convertRefToModel(h,!1),b._convertRequiredToArray(g,f,e.required)}return e}},{key:"_mapQueryString",value:function(a){var c=a;delete c.typePropertyKind,b._mapTypesFormats(a,!1),a.properties&&(a.required=[]);for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=a.properties[d];b._convertRequiredToArray(e,d,a.required)}return c}},{key:"_mapRequestHeaders",value:function(a,b){return this._mapHeadersParameters(a,b)}},{key:"_mapURIParams",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(q.includes(c,f.name)){d.properties[f.name]={type:f.type||"string"};var g=f.displayName||f.description;g&&(d.properties[f.name].description=g),b._convertRequiredToArray(f,f.name,d.required),b._addAnnotations(f,d.properties[f.name])}}return d}},{key:"_mapResponseBody",value:function(a){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f={};if(e.hasOwnProperty("body")&&!q.isEmpty(e.body)){var g=Object.keys(e.body)[0];e.body[g].hasOwnProperty("displayName")&&delete e.body[g].displayName,f=this.mapRequestBody(e.body[g],!1,g)}if(f.codes=[e.code],f.body&&(f.body=m.cleanSchema(f.body)),e.headers){var h={};for(var i in e.headers)if(e.headers.hasOwnProperty(i)){var j=e.headers[i];j.hasOwnProperty("type")?b._mapTypesFormats(j,!1):j.type="string",h[j.name]=this._mapQueryString(j),j=b._mapExamples(j),delete h[j.name].name}f.headers=h}f.example&&(f.example=m.stringify(f.example,4)),e.description&&(f.description=m.stringify(e.description)),c.push(f)}return c}},{key:"_mapSchemas",value:function(a){return b._checkForDefaultType(a),this.mapSchemas(a)}},{key:"isValidRefValues",value:function(a){if(!q.isArray(a))return this.isValidRefValue(a);for(var b=!0,c=0;c<a.length&&1==b;c++)b=this.isValidRefValue(a[c]);return b}},{key:"isValidRefValue",value:function(a){return"string"==typeof a&&this.isDefinedAsSchema(this.getSchemas(this.data),a)}},{key:"convertRefToModel",value:function(a,c,d){if(m.isJson(a))return a;if("string"==typeof a)return this.isValidRefValue(a)?{$ref:"#/definitions/"+a}:a;delete a.typePropertyKind;for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(f)if("type"===e&&(q.isArray(a[e])&&1==a[e].length&&(a[e]=a[e][0]),f=a[e],"object"===f||"string"!=typeof f||n.isXml(f)||(a[e]=b._modifyUnionType(f),f=a[e]),m.isJson(f)?(a=f,delete a[e]):n.isXml(f)?a.type="object":this.isValidRefValues(f)&&(a.ref=f,delete a[e]),d||b._mapTypesFormats(a,c)),"example"===e||"examples"===e)a=b._mapExamples(a);else if("object"===("undefined"==typeof f?"undefined":g(f))){if("items"===e&&!f.hasOwnProperty("type")&&!f.hasOwnProperty("properties")){if(q.isArray(f))return a.items={ref:f[0]},a;f.type="string"}"fixedFacets"==e?delete a[e]:"xml"==e?a[e]=f:a[e]=this.convertRefToModel(f,c,"properties"===e&&!d)}else"name"==e&&delete a[e]}return a}},{key:"_mapEndpoint",value:function(a,c,d,e){var f=JSON.parse(JSON.stringify(e)),g=d+c.relativeUri;if(c.uriParameters)if(q.isEmpty(f))f=this._mapURIParams(c.uriParameters,g);else{var h=this._mapURIParams(c.uriParameters,g);q.merge(f.properties,h.properties),f.required=q.concat(f.required,h.required)}var i={path:g,endpoints:[],annotations:{}};c.hasOwnProperty("is")&&(i.is=c.is),c.displayName&&(i.displayName=c.displayName),c.description&&(i.description=c.description),b._addAnnotations(c,i.annotations);var k=c.methods;for(var l in k)if(k.hasOwnProperty(l)){var n=k[l],o=n.summary?n.summary:"",p=new j(o);if(p.Method=n.method,p.Path=d+c.relativeUri,p.Description=n.description?m.stringify(n.description):"",p.SetOperationId(n.displayName,p.Method,p.Path),n.body){var r=b.mapMimeTypes(n.body,this.data.mediaType);p.Consumes=r.length>0?r:null,this.mapRequestBodies(p,n.body,!0)}if(n.queryParameters?p.QueryString=this._mapQueryParameters(n.queryParameters,this.data.traits):n.queryString&&(p.QueryString=this._mapQueryString(n.queryString)),n.headers&&(p.Headers=this._mapRequestHeaders(n.headers,this.data.traits)),n.responses){var s=[];for(var t in n.responses)n.responses.hasOwnProperty(t)&&n.responses[t]&&n.responses[t].body&&(s=s.concat(b.mapMimeTypes(n.responses[t].body,this.data.mediaType)));var u=q.uniq(s);p.Produces=u.length>0?u:null,p.Responses=this._mapResponseBody(n.responses)}p.traits=[];var v=n.is||c.is;v&&(v instanceof Array?p.traits=v:v instanceof Object&&(p.traits=Object.keys(v))),p.PathParams=f;var w=n.securedBy;if(Array.isArray(w)){p.securedBy=[];for(var x in w)if(w.hasOwnProperty(x))if("string"==typeof w[x])p.securedBy.push(w[x]);else for(var y in w[x])if(w[x].hasOwnProperty(y)){var z=w[x][y];if(z.scopes){var A={};A[y]=z.scopes,p.securedBy.push(A)}else p.securedBy.push(y)}}b._addAnnotations(n,p),i.endpoints.push(p)}a.addResource(i);var B=c.resources;if(B&&B.length>0)for(var C=0;C<B.length;C++)this._mapEndpoint(a,B[C],d+c.relativeUri,f)}},{key:"loadFile",value:function(a,c){var d=this;return new Promise(function(e,f){i.loadApi(a,b._options(c)).then(function(a){try{d.data=a.expand(!0).toJSON(r),e()}catch(b){f(b)}})["catch"](f)})}},{key:"loadData",value:function(a,c){var d=this;return new Promise(function(e,f){try{var g=i.parseRAMLSync(a,b._options(c));"Error"===g.name?f(error):(d.data=g.expand(!0).toJSON(r),e())}catch(h){f(h)}})}},{key:"_mapHost",value:function(a){var b=p.parse(this.data.baseUri||"");a.Environment.Host=b.protocol&&b.host?b.protocol+"//"+b.host:null,a.Environment.BasePath=b.path}},{key:"_mapTraits",value:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];for(var e in d)if(d.hasOwnProperty(e)){var f=d[e],g={_id:e,name:e,description:"",request:{},responses:[]};q.isEmpty(f.usage)?delete g.description:g.description=m.stringify(f.usage),f.queryParameters&&(g.request.queryString=this._mapQueryParameters(f.queryParameters)),f.headers&&(g.request.headers=this._mapRequestHeaders(f.headers)),f.responses?g.responses=this._mapResponseBody(f.responses):delete g.responses,b.push(g)}}return b}},{key:"_import",value:function(){try{var a=new l(this.data.title);if(a.Environment.Version=this.data.version,a.Environment.Version||delete a.Environment.Version,this.description(a,this.data),this._mapHost(a),!q.isEmpty(this.data.protocols)){a.Environment.Protocols=this.data.protocols;for(var b in a.Environment.Protocols)a.Environment.Protocols.hasOwnProperty(b)&&(a.Environment.Protocols[b]=a.Environment.Protocols[b].toLowerCase())}var c=[],d=this.data.mediaType;if(d){q.isArray(d)||(d=[d]);for(var e in d)d.hasOwnProperty(e)&&d[e]&&c.push(d[e])}c.length&&(a.Environment.Produces=c,a.Environment.Consumes=c),a.Environment.SecuritySchemes=this._mapSecuritySchemes(this.data.securitySchemes);var f=this.data.resources;if(!q.isEmpty(f))for(var g=0;g<f.length;g++)this._mapEndpoint(a,f[g],"",{});var h=this._mapSchemas(this.getSchemas(this.data));for(var i in h)h.hasOwnProperty(i)&&a.addSchema(h[i]);return a.traits=this._mapTraits(this.data.traits),a.uses=this.data.uses,a}catch(j){throw console.error("raml#import",j),j}}},{key:"mapRequestBodies",value:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];a.Body=this.mapRequestBody(e,c,d)}}},{key:"description",value:function(){throw new Error("description method not implemented")}},{key:"mapRequestBody",value:function(){throw new Error("mapRequestBody method not implemented")}},{key:"mapSchemas",value:function(){throw new Error("mapSchema method not implemented")}},{key:"getSchemas",value:function(){throw new Error("getSchema method not implemented")}},{key:"mapAuthorizationGrants",value:function(){throw new Error("convertAuthorizationGrants method not implemented")}},{key:"isDefinedAsSchema",value:function(){throw new Error("isDefinedAsSchema method not implemented")}}],[{key:"_filterPropertiesFromTraits",value:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d))for(var e in b[d])if(b[d].hasOwnProperty(e)){var f=b[d][e];if(f.hasOwnProperty(c))for(var g in f[c])if(f[c].hasOwnProperty(g)){var h=f[c][g],i=q.find(a,{name:h.name});i&&delete a[g]}}}},{key:"_convertRequiredToArray",value:function(a,b,c){a.hasOwnProperty("required")&&a.required!==!0||c.push(b),delete a.required}},{key:"_mapTypesFormats",value:function(a,b){if(!a.hasOwnProperty("type")||"object"===a.type)return a;var c=q.isArray(a.type)&&1==a.type.length?a.type[0]:a.type;switch(a.type=c,c){case"date-only":a.type="string",a.format="date";break;case"time-only":a.type="string",a["x-raml-format"]="time-only";break;case"datetime-only":a.type="string",a["x-raml-format"]="datetime-only";break;case"datetime":a.type="string","rfc3339"!=a.format&&a.hasOwnProperty("format")?(a["x-raml-format"]=a.format,delete a.format):a.format="date-time";break;case"file":b&&(a.type="string",a["x-raml-type"]="file"),a.hasOwnProperty("fileTypes")&&(a["x-raml-fileTypes"]=a.fileTypes,delete a.fileTypes);break;default:"string"==typeof c&&(c.includes("|")||c.includes("?"))?a.type="object":"object"!==("undefined"==typeof c?"undefined":g(c))&&o.getRAML10ScalarTypes.indexOf(c)<0&&(a["x-raml-type"]=c,a.type="string")}}},{key:"_checkForDefaultType",value:function(a){for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)){var e=a[c][d];b._fillDefaultType(e)}}},{key:"_fillDefaultType",value:function(a){if(a.properties){for(var c in a.properties)if(a.properties.hasOwnProperty(c)){var d=a.properties[c];b._fillDefaultType(d)}}else"object"!==("undefined"==typeof a?"undefined":g(a))||a.hasOwnProperty("type")||a.hasOwnProperty("schema")||(a.type=["string"])}},{key:"_modifyUnionType",value:function(a){return(a.includes("|")||a.includes("?"))&&(a="object"),a}},{key:"mapMimeTypes",value:function(a,b){var c=[],d=[];for(var e in b)b.hasOwnProperty(e)&&b[e].value&&d.push(b[e].value);for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g.name){var h=g.name;-1===d.indexOf(h)&&c.push(h)}}return q.uniq(c)}},{key:"_options",value:function(a){var b=a&&(a.validate===!0||a.validateImport===!0),c={attributeDefaults:!1,rejectOnErrors:b};return a?q.merge(c,a):c}},{key:"_addAnnotations",value:function(a,b){if(a.annotations){var c=a.annotations;for(var d in c)if(c.hasOwnProperty(d)&&!q.startsWith(d,"oas-")){var e=c[d],f="x-raml-annotation-"+d;b[f]=e.structuredValue||""}b.annotations&&delete b.annotations}}},{key:"_mapExamples",value:function(a){if(a.hasOwnProperty("example")){var b=a.example;a.hasOwnProperty("structuredExample")&&(b=a.structuredExample,delete a.structuredExample),b.hasOwnProperty("structuredValue")?a.example=b.structuredValue:b.hasOwnProperty("value")&&(a.example=JSON.parse(b.value)),b.hasOwnProperty("strict")&&!b.strict&&(a.example.strict=!1),b.hasOwnProperty("name")&&b.name&&(a.example["x-raml-example-name"]=b.name)}else if(a.hasOwnProperty("examples")){var c=a.examples;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];e.hasOwnProperty("structuredValue")?a.examples[d]=e.structuredValue:e.hasOwnProperty("value")&&(a.examples[d]=JSON.parse(e.value)),e.hasOwnProperty("strict")&&!e.strict&&(a.examples[d].strict=!1),e.hasOwnProperty("name")&&e.name&&(a.examples[d]["x-raml-example-name"]=e.name)}}return a}}]),b}(k);b.exports=s},{"../entities/endpoint":212,"../entities/project":214,"../helpers/raml":226,"../utils/json":236,"../utils/xml":239,"./importer":230,lodash:204,url:277}],230:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.data=null}return e(a,[{key:"loadFile",value:function(){throw new Error("loadFile method not implemented")}},{key:"loadData",value:function(a){return this.data=a,new Promise(function(a){a()})}},{key:"_import",value:function(){throw new Error("_import method not implemented")}},{key:"import",value:function(){if(!this.IsDataLoaded)throw new Error("data not loaded for "+this.constructor.name.toString());return this._import()}},{key:"_mapEndpoint",value:function(){throw new Error("_mapEndpoint method not implemented")}},{key:"_mapSchema",value:function(){throw new Error("_mapSchema method not implemented")}},{key:"_mapQueryString",value:function(){throw new Error("_mapQueryString method not implemented")}},{key:"_mapURIParams",value:function(){throw new Error("_mapURIParams method not implemented")}},{key:"_mapRequestBody",value:function(){throw new Error("_mapRequestBody method not implemented")}},{key:"_mapResponseBody",value:function(){throw new Error("_mapResponseBody method not implemented")}},{key:"_mapRequestHeaders",value:function(){throw new Error("_mapRequestHeaders method not implemented")}},{key:"IsDataLoaded",get:function(){return null!==this.data}}]),a}();b.exports=f},{}],231:[function(a,b,c){"use strict";function d(a){return!(!a||!a.name||!e.hasOwnProperty(a.className))}var e={RAML08:a("./raml08"),RAML10:a("./raml10"),Swagger:a("./swagger"),Auto:a("./auto")};b.exports={hasSupport:d,factory:function(a){return d(a)?new e[a.className]:null}}},{"./auto":228,"./raml08":232,"./raml10":233,"./swagger":234}],232:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./baseraml"),j=a("../entities/schema"),k=a("../utils/json"),l=a("../helpers/raml"),m=a("../entities/text"),n=a("lodash"),o=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"mapRequestBody",value:function(a,c,d){var e={mimeType:"",body:{},example:""};if(e.mimeType=d,a.example&&(e.example=a.example),a.schema)e.body=b._mapSchema(this.convertRefToModel(k.parse(a.schema),!1));else if(a.formParameters){e.body={type:"object",properties:{},required:[]};var f=a.formParameters;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];e.body.properties[h.name]={type:h.type},h.description&&(e.body.properties[h.name].description=h.description),h.required&&e.body.required.push(h.name)}}return e}},{key:"isDefinedAsSchema",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)&&d===b)return!0;return!1}},{key:"mapSchemas",value:function(a){var c=[];for(var d in a)if(a.hasOwnProperty(d))for(var e in a[d])if(a[d].hasOwnProperty(e)){var f=new j(e);f.Name=e;var g=b._mapSchema(a[d][e],!0);f.Definition=k.cleanSchema(g),c.push(f)}return c}},{key:"getSchemas",value:function(a){return a.schemas}},{key:"mapAuthorizationGrants",value:function(a,b){switch(b){case"code":a.flow="accessCode";break;case"token":a.flow="implicit";break;case"credentials":a.flow="application";break;case"owner":a.flow="password"}return a}},{key:"description",value:function(a,b){var c=b.documentation;if(c&&c.length>0&&(a.Description=c[0].content,a.Environment.summary=c[0].content),c)for(var d in c)if(c.hasOwnProperty(d)){var e=c[d],f=new m(e.title);f.Public=!0,f.Content=e.content,a.addText(f)}}}],[{key:"convertObjectProperty",value:function(a){var c=Object.assign({},a);c.properties={},c.required=a.hasOwnProperty("required")&&n.isArray(a.required)?a.required:[];for(var d in a.properties)if(a.properties.hasOwnProperty(d)){var e=a.properties[d],f=n.isArray(e)?e[0]:e;c.properties[d]=f,f.properties&&!n.isEmpty(f.properties)?c.properties[d]=b.convertObjectProperty(f):"items"===d&&"object"===("undefined"==typeof f?"undefined":g(f))?c[d]=b.convertObjectProperty(f):f.hasOwnProperty("required")&&(f.required===!0&&c.required.push(d),delete f.required)}return c.required&&0==c.required.length&&delete c.required,c.properties&&n.isEmpty(c.properties)&&delete c.properties,c}},{key:"_mapSchema",value:function(a,c){a=k.parse(a),a.properties&&!n.isEmpty(a.properties)&&(a=b.convertObjectProperty(a));for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];"items"===d&&(n.isArray(e)&&0==e.length?a[d]={type:"string"}:n.isArray(e)||"object"!==("undefined"==typeof e?"undefined":g(e))||(e=b._mapSchema(e))),"type"===d?(n.isArray(e)&&(1==e.length?e=e[0]:0==e.length&&(a[d]="array",a.items={type:"string"},e="array")),"string"==typeof e&&"object"!=e&&l.getRAML08ScalarTypes.indexOf(e)<0&&(a["x-raml-type"]=e,a.type="string"),"string"!=typeof e||"array"!==e||a.hasOwnProperty("items")||(a.items={type:"string"})):"object"===("undefined"==typeof e?"undefined":g(e))&&b._mapSchema(e,c)}return a}}]),b}(i);b.exports=o},{"../entities/schema":215,"../entities/text":218,"../helpers/raml":226,"../utils/json":236,"./baseraml":229,lodash:204}],233:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./baseraml"),j=a("../entities/schema"),k=a("../utils/json"),l=a("lodash"),m=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),h(b,[{key:"mapRequestBody",value:function(a,c,d){var e={mimeType:""};if(c&&i._fillDefaultType(a),e.mimeType=d,a.description&&(e.description=a.description,delete a.description),a.properties&&!l.isEmpty(a.properties))switch(e.mimeType){case"application/json":e.body=this._mapSchema(a,!0),delete e.body.description;break;case"multipart/form-data":case"application/x-www-form-urlencoded":e.body={type:"object",properties:{},required:[]};var f=a.properties;for(var h in f)if(f.hasOwnProperty(h)){var j=f[h],m=l.isEmpty(j.type)?j.type:j.type[0];e.body.properties[j.name]={type:m},j.description&&(e.body.properties[j.name].description=j.description),j.format&&(e.body.properties[j.name].format=j.format),i._convertRequiredToArray(j,j.name,e.body.required)}}else if(b.isArray(a))e.body=this.convertRefToModel(this.convertArray(a),!1);else if(a.schema&&!l.isEmpty(a.schema)){var n=l.isArray(a.schema)?a.schema[0]:a.schema;"object"!==("undefined"==typeof n?"undefined":g(n))&&(n=k.parse(n)),e.body=this._mapSchema(this.convertRefToModel({type:n},!1),!1)}else a.type&&!l.isEmpty(a.type)&&"object"!==a.type[0]&&(e.body=this._mapSchema(a,!1));return e}},{key:"convertArrayTypeExpression",value:function(a){for(var b=!0,c={},d=[],e=0;e<a.length;e++){var f=a[e];if("object"===("undefined"==typeof f?"undefined":g(f))){if(!f.hasOwnProperty("type")||"string"!=typeof f.type[0]||!this.isValidRefValue(f.type[0])){b=!1;break}d.push(f.type[0])}}return b?(c.name=a[0].name,c.type=d,c.typePropertyKind="TYPE_EXPRESSION",c):a}},{key:"convertObjectProperty",value:function(a){var c=Object.assign({},a);c.properties={},"array"!==a.type&&(c.type="object"),c.required=[],a.description&&(c.description=k.stringify(a.description));for(var d in a.properties){var e=!1;if(a.properties.hasOwnProperty(d)){var f=a.properties[d],g=l.isArray(f)?this.convertArrayTypeExpression(f):f;b.isArray(g)?c.properties[d]=this.convertArray(g):b.isFacet(g)?c.properties[d]=b.convertFacet(g):b.isAdditionalProperties(g)?(b.convertAdditionalProperties(c,g),e=!0):(l.isArray(g.type)&&g.type.length>1&&(b._removeHarmlessChars(g.type),b._modifyUnionType(g),g.allOf=g.type,delete g.type),c.properties[d]=g),e||(i._addAnnotations(g,c.properties[d]),i._convertRequiredToArray(g,d,c.required),g.properties&&!l.isEmpty(g.properties)&&(c.properties[d]=this.convertObjectProperty(g)))}}return c.required&&0==c.required.length&&delete c.required,c.properties&&l.isEmpty(c.properties)&&delete c.properties,c}},{key:"_mapSchema",value:function(a,c){var d=null,e=a;if(a.properties&&!l.isEmpty(a.properties)&&(d=this.convertObjectProperty(a)),a.hasOwnProperty("type")&&"object"!=a.type)if(l.isArray(a.type)&&(b._removeHarmlessChars(a.type),b._modifyUnionType(a)),d)e.allOf=a.type,e.allOf.push(d),delete e.type,delete e.properties;else if(e=this._convertCustomTypes(a),l.isArray(a.type)&&a.type.length>1)e.allOf=a.type,delete e.type;else{var f=k.parse(l.isArray(a.type)?a.type[0]:a.type);"object"===("undefined"==typeof f?"undefined":g(f))&&(f=this.convertObjectProperty(f),e=f)}else d?e=d:a.hasOwnProperty("schema")?(a=k.parse(l.isArray(a.schema)?a.schema[0]:a.schema),e=this.convertObjectProperty(a)):"object"==a.type&&(e=a);return i._addAnnotations(a,e),e=this._convertCustomTypes(e),this.convertRefToModel(e,c)}},{key:"isDefinedAsSchema",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)&&d===b)return!0;return!1}},{key:"mapSchemas",value:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c))for(var d in a[c])if(a[c].hasOwnProperty(d)){var e=new j(d);e.Name=d,e.Definition=this._mapSchema(a[c][d],!0),b.push(e)}return b}},{key:"_convertCustomTypes",value:function(a){return b.isArray(a)?a=this.convertArray(a):b.isFacet(a)?a=b.convertFacet(a):b.isFixedFacet(a)&&(a=b.convertFixedFacet(a)),a}},{key:"convertArray",value:function(a){if(a.hasOwnProperty("items"))if(a.items.hasOwnProperty("type"))a.items.type=l.isArray(a.items.type)?a.items.type[0]:a.items.type,"object"===a.items.type&&a.items.hasOwnProperty("properties")&&(a.items=this.convertObjectProperty(a.items));else{var c=a.items;b.isRamlArray(c)?a.items=this.convertArray(b.convertRamlArray(a.items)):("object"!==("undefined"==typeof c?"undefined":g(c))||l.isArray(c))&&(a.items={type:c})}else{var d=l.isArray(a.type)?a.type[0]:a.type;a=b.convertRamlArray(d)}return a.type="array",a}},{key:"getSchemas",value:function(a){return a.types||a.schemas}},{key:"mapAuthorizationGrants",value:function(a,b){switch(b){case"authorization_code":a.flow="accessCode";break;case"implicit":a.flow="implicit";break;case"client_credentials":a.flow="application";break;case"password":a.flow="password"}return a}},{key:"description",value:function(a,b){b.description&&(a.Description=b.description)}}],[{key:"_modifyUnionType",
value:function(a){var b=a.type;b.length>1&&(a["x-raml-union-type-definition"]="["+l.join(b,",")+"]");for(var c in b)b.hasOwnProperty(c)&&b[c].includes("|")&&(b[c]={type:"object"});return a}},{key:"_removeHarmlessChars",value:function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=l.replace(l.replace(a[b],")",""),"(",""));return a}},{key:"isArray",value:function(a){var b=l.isArray(a.type)?a.type[0]:a.type;return"array"===b&&a.items||!a.hasOwnProperty("items")&&l.endsWith(b,"[]")}},{key:"isFacet",value:function(a){return a.facets}},{key:"isAdditionalProperties",value:function(a){return l.startsWith(a.name,"/")&&l.endsWith(a.name,"/")}},{key:"isFixedFacet",value:function(a){return a.fixedFacets}},{key:"isRamlArray",value:function(a){return l.endsWith(a,"[]")}},{key:"convertRamlArray",value:function(a){return{type:"array",items:{type:l.replace(a,"[]","")}}}},{key:"convertAdditionalProperties",value:function(a,b){var c=b.type,d=b.name,e={};l.isArray(c)&&1==c.length&&(e.type=c[0]),"//"!==d&&(e.pattern=d),e.hasOwnProperty("pattern")?(a.hasOwnProperty("additionalProperties")||(a.additionalProperties={"x-raml-additional-properties-info":[]}),a.additionalProperties.type?a.additionalProperties.type="object":a.additionalProperties.type=e.type,a.additionalProperties["x-raml-additional-properties-info"].push(e)):(a.additionalProperties={},a.additionalProperties.type=e.type)}},{key:"convertFacet",value:function(a){var b=a.facets,c=[];for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];e[d]=l.isArray(e.type)?e.type[0]:e.type,delete e.name,delete e.type,delete e.typePropertyKind,c.push(e)}return a["x-raml-facets"]=c,delete a.facets,a}},{key:"convertFixedFacet",value:function(a){var b=a.fixedFacets;for(var c in b)b.hasOwnProperty(c)&&(a.hasOwnProperty(c)?a[c]=b[c]:a["x-raml-facets-"+c]=b[c]);return delete a.fixedFacets,a}}]),b}(i);b.exports=m},{"../entities/schema":215,"../utils/json":236,"./baseraml":229,lodash:204}],234:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("swagger-parser"),i=a("../entities/swagger/method"),j=a("../entities/endpoint"),k=a("../entities/schema"),l=a("./importer"),m=a("../entities/project"),n=a("../utils/json"),o=a("../helpers/swagger"),p=a("js-yaml"),q=a("lodash"),r=/\/(parameters|responses)\/(.+)/i,s=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.dereferencedAPI=null,a}return f(b,a),g(b,[{key:"_mapSchema",value:function(a){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=new k(d);e.Name=d;var f=q.clone(a[d]),g=/^x-/;for(var h in f)f.hasOwnProperty(h)&&h.match(g)&&delete f[h];b.mapExample(f,e),e.Definition=f,c.push(e)}return c}},{key:"_mapQueryString",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];c&&b.needDeReferenced(f)||f["in"]&&"query"!==f["in"]||(d.properties[f.name]=o.setParameterFields(f,{}),f.required&&d.required.push(f.name))}return d}},{key:"_mapURIParams",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];(b.needDeReferenced(f)||f.hasOwnProperty("$ref"))&&c&&(f=c[e]),f["in"]&&"path"!==f["in"]||(d.properties[f.name]=o.setParameterFields(f,{}),d.required.push(f.name))}return d}},{key:"_mapRequestBody",value:function(a,c){if(!q.isEmpty(a)&&(q.some(a,{"in":"body"})||q.some(a,{"in":"formData"}))){var d={body:{properties:{},required:[]},example:""};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(b.needDeReferenced(f)&&(f=c[e]),!f["in"]||"body"===f["in"]||"formData"===f["in"])switch(f["in"]){case"body":b.mapExample(f.schema,d),d.body=f.schema,f.name&&(d.name=f.name),f.description&&(d.description=n.stringify(f.description));break;default:var g={};g=o.setParameterFields(f,g),f.required&&d.body.required.push(f.name),d.body.properties[f.name]=g}}return d.body.required&&0==d.body.required.length&&delete d.body.required,d}}},{key:"_mapResponseBody",value:function(a,c,d,e){var f=[];for(var g in a)if(a.hasOwnProperty(g)){var h={body:{},example:"",codes:[]},i="",j=a[g];if(!c||!b.needDeReferenced(j)||!j.$ref.match(/trait/)&&!q.includes(e,j.$ref)){var k=b.needDeReferenced(j);if(k&&d){var l=this._getResponses(j,d[g]),m=l.schema;i=n.stringify(l.description||""),h.body=m}else if(j.schema){var o=j.schema;b.needDeReferenced(j.schema)&&(i=n.stringify(d[g].description||""),o=d[g].schema),h.body=o}this._mapResponseExample(k?d[g]:j,h),b._mapResponseHeaders(k?d[g]:j,h),b._mapResponseDescription(k?d[g]:j,i,h),k&&(h.response_id=k[k.length-1]),h.codes.push(String(g)),f.push(h)}}var p=b._getExtensionsFrom(a);return q.isEmpty(p)||(f.extensions=p),f}},{key:"_mapResponseExample",value:function(a,b){if(a.hasOwnProperty("examples")&&!q.isEmpty(a.examples)){var c=a.examples;if(q.isArray(c))for(var d in c)c.hasOwnProperty(d)&&d===resType&&(b.example=n.stringify(c[d],4));else b.example=n.stringify(c,4)}}},{key:"_mapRequestHeaders",value:function(a,c){var d={type:"object",properties:{},required:[]};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];c&&b.needDeReferenced(f)||"header"===f["in"]&&(d.properties[f.name]=o.setParameterFields(f,{}),f.required&&d.required.push(f.name))}return d}},{key:"_parseData",value:function(a,b){var c=this;return new Promise(function(d,e){var f=q.cloneDeep(b||{}),g=b&&(b.validate===!0||b.validateImport===!0);f.validate={schema:g,spec:g};var i=q.cloneDeep(a);h.validate(i,f).then(function(){c._doParseData(a,b||{},d,e)})["catch"](e)})}},{key:"_doParseData",value:function(a,b,c,d){var e=this;h.parse(a,b).then(function(f){JSON.parse(JSON.stringify(f)),e.data=f;var g=void 0;g="string"==typeof a?h.dereference(a,JSON.parse(JSON.stringify(f)),b):h.dereference(JSON.parse(JSON.stringify(f)),b),g.then(function(a){b&&b.expand?e.data=a:e.dereferencedAPI=a,c()})["catch"](d)})["catch"](d)}},{key:"loadFile",value:function(a,b){return this._parseData(a,b)}},{key:"loadData",value:function(a,b){var c=this;return new Promise(function(d,e){var f=void 0;try{f=JSON.parse(a)}catch(g){try{f=p.safeLoad(a,{json:!0})}catch(g){return e(g)}}c._parseData(f,b).then(d)["catch"](e)})}},{key:"_getResponses",value:function(a,c){var d=void 0,e=b.needDeReferenced(a),f=b._isFilePath(a);if((e||f)&&c)if(f)d=c;else{var g=e[e.length-1];d=this.data.responses[g],d.$ref&&(d=c)}return d}},{key:"_mapEndpoints",value:function(a,c,d){var e=this;for(var f in this.data.paths)if(this.data.paths.hasOwnProperty(f)&&!q.startsWith(f,"x-")){var g=this.data.paths[f].hasOwnProperty("$ref")?this.dereferencedAPI.paths[f]:this.data.paths[f],h={},k={},l=[],m=[];g.parameters&&(h=this.dereferencedAPI?this.dereferencedAPI.paths[f].parameters:g.parameters,k=this._mapURIParams(g.parameters,h),l=b._mapEndpointTrait(g.parameters,this.dereferencedAPI.parameters),q.isEmpty(l)||a.addPathParamRef(f,l),m=b._getParams(g.parameters,h,function(a){return!(a["in"]&&"path"==a["in"])}));var o=function(h){if(!g.hasOwnProperty(h))return"continue";if("parameters"===h)return"continue";var l=new i(g[h],e.dereferencedAPI?e.dereferencedAPI.paths[f][h]:g[h]),o=e.dereferencedAPI?e.dereferencedAPI.paths[f][h]:g[h],p=new j(l.summary||""),r=b._getExtensionsFrom(o);q.isEmpty(r)||(p.extensions=r),p.Method=h,p.Path=f,p.Tags=l.tags||[],p.Summary=(l.summary||"").substring(0,139),p.Description=n.stringify(l.description),p.Deprecated=l.deprecated,p.SetOperationId(l.operationId,h,f),p.ExternalDocs=l.externalDocs,l.schemes&&(p.protocols=l.schemes);var s=q.union(m,b._getParams(l.parameters,o.parameters)),t=[];if(q.some(s,{"in":"body"})&&t.push("application/json"),q.some(s,{"in":"formData"})&&t.push("multipart/form-data"),c&&q.isArray(c)&&t.length&&c.forEach(function(a){return t=q.without(t,a)}),t.length&&(p.Consumes=t),l.consumes&&q.isArray(l.consumes)&&(t=q.uniq(p.Consumes&&q.isArray(p.Consumes)?p.Consumes.concat(l.consumes):l.consumes),c&&q.isArray(c)&&t.length&&c.forEach(function(a){return t=q.without(t,a)}),(p.Consumes||t.length)&&(p.Consumes=t)),"get"!==p.Method.toLowerCase()&&"head"!==p.Method.toLowerCase()){var u=e._mapRequestBody(s,o.parameters);u&&(p.Body=u)}p.traits=b._mapEndpointTraits(l.parameters,l.responses);var v=e._mapURIParams(l.parameters,o.parameters),w={};q.merge(w,k),q.merge(w,v),p.PathParams=w,p.Headers=e._mapRequestHeaders(s,!0),p.QueryString=e._mapQueryString(s,!0),l.produces&&q.isArray(l.produces)&&!function(){var a=q.uniq(p.Produces&&q.isArray(p.Produces)?p.Produces.concat(l.produces):l.produces);d&&q.isArray(d)&&a.length&&d.forEach(function(b){return a=q.without(a,b)}),(p.Produces||a.length)&&(p.Produces=a)}();var x=e._mapResponseBody(l.responses,!0,o.responses,e.$refs);if(x&&(p.Responses=x),l.security){var y=l.security;for(var z in y)if(y.hasOwnProperty(z)){var A=Object.keys(y[z]),B=A[0],C=q.get(e,["data","securityDefinitions",B]);if(C)switch(C.type){case"apiKey":case"basic":p.SecuredBy||(p.SecuredBy={}),p.SecuredBy[C.type]={name:B};break;case"oauth2":p.SecuredBy||(p.SecuredBy={}),p.SecuredBy[C.type]={name:B,scope:y[z][B]}}}}a.addEndpoint(p)};for(var p in g){o(p)}}}},{key:"_mapTraits",value:function(a,c,d){var e={},f={},g={},h={},i={},j={};for(var k in a)if(a.hasOwnProperty(k)){var l=a[k],m=k.split(":"),n=k;switch("trait"===m[0]&&(n=m[1]),b._isFilePath(l)&&(l=d[k]),l["in"]){case"query":f[n]=f[n]||[],f[n].push(l);break;case"header":g[n]=g[n]||[],g[n].push(l);break;case"formData":h[n]=h[n]||[],h[n].push(l);break;case"body":i[n]=i[n]||[],i[n].push(l)}}for(var o in c)if(c.hasOwnProperty(o)){var p=c[o],r=o,s=200,t=o.split(":");3===t.length&&"trait"===t[0]&&(r=t[1],s=t[2]),j[r]=j[r]||{},j[r][s]=p}for(var u in f)if(f.hasOwnProperty(u)){var v=e[u]||{_id:u,name:u,request:{},responses:[]};v.request.queryString=this._mapQueryString(f[u]),e[u]=v}for(var w in g)if(g.hasOwnProperty(w)){var x=e[w]||{_id:w,name:w,request:{},responses:[]};x.request.headers=this._mapRequestHeaders(g[w]),e[w]=x}for(var y in h)if(h.hasOwnProperty(y)){var z=e[y]||{_id:y,name:y,request:{},responses:[]};z.request.formData=this._mapRequestBody(h[y]),e[y]=z}for(var A in i)if(i.hasOwnProperty(A)){var B=e[A]||{_id:A,name:A,request:{},responses:[]};B.request.body=this._mapRequestBody(i[A]),e[A]=B}for(var C in j)if(j.hasOwnProperty(C)){var D=e[C]||{_id:C,name:C,request:{},responses:[]};D.responses=this._mapResponseBody(j[C]),e[C]=D}return q.values(e)}},{key:"_createExtensions",value:function(a){if(a.extensions=b._getExtensionsFrom(this.data),this.data.info){var c=b._getExtensionsFrom(this.data.info);q.isEmpty(c)||(a.Environment.extensions=c)}if(this.data.info.contact){var d=b._getExtensionsFrom(this.data.info.contact);q.isEmpty(d)||(a.Environment.contactInfo.extensions=d)}if(this.data.info.license){var e=b._getExtensionsFrom(this.data.info.license);q.isEmpty(e)||(a.Environment.license.extensions=e)}if(this.data.externalDocs){var f=b._getExtensionsFrom(this.data.externalDocs);q.isEmpty(f)||(a.Environment.ExternalDocs.extensions=f)}if(this.data.paths){var g=b._getExtensionsFrom(this.data.paths);q.isEmpty(g)||(a.endpointExtensions={},a.endpointExtensions=g)}}},{key:"_import",value:function(){var a=new m(this.data.info.title);a.Description=this.data.info.description||"",a.tags=this.data.tags;var c="http";this.data.schemes&&this.data.schemes.length>0&&(a.Environment.Protocols=this.data.schemes,c=this.data.schemes[0]),this._mapEndpoints(a,this.data.consumes,this.data.produces),a.Environment.summary=this.data.info.description||"",a.Environment.BasePath=this.data.basePath||"",a.Environment.Host=this.data.host?c+"://"+this.data.host:"",a.Environment.Version=this.data.info.version,this.data.externalDocs&&(a.Environment.ExternalDocs={description:this.data.externalDocs.description,url:this.data.externalDocs.url}),this.data.info.contact&&(a.Environment.contactInfo={},this.data.info.contact.name&&(a.Environment.contactInfo.name=this.data.info.contact.name),this.data.info.contact.url&&(a.Environment.contactInfo.url=this.data.info.contact.url),this.data.info.contact.email&&(a.Environment.contactInfo.email=this.data.info.contact.email)),this.data.info.termsOfService&&(a.Environment.termsOfService=this.data.info.termsOfService),this.data.info.license&&(a.Environment.license={},this.data.info.license.name&&(a.Environment.license.name=this.data.info.license.name),this.data.info.license.url&&(a.Environment.license.url=this.data.info.license.url)),this.data.produces&&(a.Environment.Produces=this.data.produces),this.data.consumes&&(a.Environment.Consumes=this.data.consumes),this.data.securityDefinitions&&(a.Environment.SecuritySchemes=b._mapSecurityDefinitions(this.data.securityDefinitions,this.dereferencedAPI.securityDefinitions)),a.traits=this._mapTraits(this.data.parameters,this.data.responses,this.dereferencedAPI.parameters);var d=this._mapSchema(this.data.definitions);for(var e in d)d.hasOwnProperty(e)&&a.addSchema(d[e]);return this._createExtensions(a),a}}],[{key:"needDeReferenced",value:function(a){return a&&a.$ref?a.$ref.match(r):!1}},{key:"mapExample",value:function(a,b){a.example&&(b.example=n.stringify(a.example,4),delete a.example)}},{key:"_mapSecurityDefinitions",value:function(a,b){a.hasOwnProperty("$ref")&&(a=b);var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d].type,f=a[d];switch(e){case"apiKey":c.hasOwnProperty(e)||(c[e]={});var g={externalName:d,name:f.name,value:"",description:f.description},h="header"===f["in"]?"headers":"queryString";c[e].hasOwnProperty(h)||(c[e][h]=[]),c[e][h].push(g);break;case"oauth2":c.hasOwnProperty(e)||(c[e]=[]);var i={name:d,authorizationUrl:f.authorizationUrl||"",tokenUrl:f.tokenUrl||""},j=[],k=f.scopes;if(k)for(var l in k)if(k.hasOwnProperty(l)){var m={};m.name=l,m.value=k[l],j.push(m)}f.flow&&(i.flow=f.flow),f.description&&(i.description=f.description),q.isEmpty(j)||(i.scopes=j),c[e].push(i);break;case"basic":c.hasOwnProperty(e)||(c[e]=[]);var n={name:d,value:"",description:f.description||""};c[e].push(n)}}return c}},{key:"_mapResponseDescription",value:function(a,b,c){c.description=n.stringify(b||a.description||"")}},{key:"_mapResponseHeaders",value:function(a,b){a.hasOwnProperty("headers")&&!q.isEmpty(a.headers)&&(b.headers={properties:a.headers})}},{key:"findDefaultMimeType",value:function(a){if(!a||a.length<=0)return null;for(var b in a)if(a.hasOwnProperty(b)&&"application/json"===a[b])return a[b];return a[0]}},{key:"_mapEndpointTrait",value:function(a,c){var d=[];for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(b.needDeReferenced(f)&&!b._isFilePath(f)){var g=f.$ref.split("/"),h=g[g.length-1].split(":"),i=h[0];"trait"===h[0]&&(i=h[1]),c&&c[i]&&c[i]["in"]&&"path"===c[i]["in"]||d.push(i)}}return d}},{key:"_mapEndpointTraits",value:function(a){var c=[];return c=c.concat(b._mapEndpointTrait(a)),q.uniq(c)}},{key:"_getParams",value:function(a,c,d){if(q.isEmpty(a))return a;var e=[];for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];if(!d||d(g)){var h=b.needDeReferenced(g),i=b._isFilePath(g);h&&!i&&h.length||(i&&c&&(g=c[f]),e.push(g))}}return e}},{key:"_isFilePath",value:function(a){if(!a||!a.$ref)return!1;var b=a.$ref.split("#")[0];return b.split(".").length>1}},{key:"_getExtensionsFrom",value:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&q.startsWith(c,"x-")&&(b[c]=a[c]);return b}}]),b}(l);b.exports=s},{"../entities/endpoint":212,"../entities/project":214,"../entities/schema":215,"../entities/swagger/method":217,"../helpers/swagger":227,"../utils/json":236,"./importer":230,"js-yaml":21,lodash:204,"swagger-parser":269}],235:[function(a,b,c){"use strict";var d=a("lodash");b.exports={allEqual:function(a){return!!a.reduce(function(a,b){return d.isEqual(a,b)?a:NaN})}}},{lodash:204}],236:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("lodash"),f=a("json-schema-compatibility");b.exports={parse:function(a){if("string"!=typeof a)return a;try{var b=JSON.parse(a);return"string"==typeof b?this.parse(b):b}catch(c){return a}},stringify:function(a,b){return"string"==typeof a?a:(b||(b=0),JSON.stringify(a,null,b))},format:function(a){if("string"!=typeof a)return"object"===("undefined"==typeof a?"undefined":d(a))?this.stringify(a,4):a;var b=this.parse(a);return"string"==typeof b?a:this.stringify(b,4)},toJSON:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c]);"function"!==e&&"undefined"!==e&&(b[c]=a[c])}return b},orderByKeys:function(a,b){var c=this;if(Array.isArray(a)){var e=function(){var d=c;return{v:a.map(function(a){return d.orderByKeys(a,b)})}}();if("object"===("undefined"==typeof e?"undefined":d(e)))return e.v}var f={};for(var g in b)if(b.hasOwnProperty(g)){var h=b[g];a.hasOwnProperty(h)&&(f[h]=a[h])}for(var i in a)a.hasOwnProperty(i)&&(f.hasOwnProperty(i)||(f[i]=a[i]));return f},isEmptySchema:function(a){if(e.isEmpty(a))return!0;var b=a;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return!0}return!b||!Object.keys(b).length||b.properties&&!Object.keys(b.properties).length?!0:"array"===b.type&&e.isEmpty(b.items)},cleanSchema:function(a){var b=this.parse(a);try{f.v4(b)}catch(c){}return this.stringify(b,4)},isJson:function(a){try{JSON.parse(a)}catch(b){return!1}return!0}}},{"json-schema-compatibility":51,lodash:204}],237:[function(a,b,c){"use strict";var d=a("lodash");b.exports={computeOperationId:function(a,b){return a=d.trim(a).toUpperCase(),b=d.trim(b),"/"===b||""===b?a+"_root":a+"_"+d.trim(b,"/").replace(/\{|\}/g,"").replace(/\/|\./g,"-")},computeTraitName:function(a,b){var c="trait:"+d.camelCase(a);return b&&(c+=":"+b),c},checkAndReplaceInvalidChars:function(a,b,c){for(var e in a)a.hasOwnProperty(e)&&(b.includes(a[e])||(a=d.replace(a,a[e],c)));return a}}},{lodash:204}],238:[function(a,b,c){"use strict";var d=a("request"),e=a("lodash");b.exports={isURL:function(a){if(!a)throw new Error("Invalid path/url string given.");var b=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi,c=new RegExp(b);return a.match(c)},get:function(a){return new Promise(function(b,c){d(a,function(a,d,e){a||200!=d.statusCode?c(a||new Error("Could not fetch remote URL.")):b(e)})})},join:function(a,b){return e.trimEnd(a,"/")+"/"+e.trimStart(b,"/")}}},{lodash:204,request:2}],239:[function(a,b,c){"use strict";var d=a("xml2js").parseString;b.exports={isXml:function(a){var b=!1;return d(a,function(a,c){c&&(b=!0)}),b}}},{xml2js:348}],240:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=Array.prototype.slice,h=a("./isArguments"),i=Object.prototype.propertyIsEnumerable,j=!i.call({toString:null},"toString"),k=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(a){var b=a.constructor;return b&&b.prototype===a},n={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!n["$"+a]&&e.call(window,a)&&null!==window[a]&&"object"===d(window[a]))try{m(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),p=function(a){if("undefined"==typeof window||!o)return m(a);try{return m(a)}catch(b){return!1}},q=function(a){var b=null!==a&&"object"===("undefined"==typeof a?"undefined":d(a)),c="[object Function]"===f.call(a),g=h(a),i=b&&"[object String]"===f.call(a),m=[];if(!b&&!c&&!g)throw new TypeError("Object.keys called on a non-object");var n=k&&c;if(i&&a.length>0&&!e.call(a,0))for(var o=0;o<a.length;++o)m.push(String(o));if(g&&a.length>0)for(var q=0;q<a.length;++q)m.push(String(q));else for(var r in a)n&&"prototype"===r||!e.call(a,r)||m.push(String(r));if(j)for(var s=p(a),t=0;t<l.length;++t)s&&"constructor"===l[t]||!e.call(a,l[t])||m.push(l[t]);return m};q.shim=function(){if(Object.keys){var a=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!a){var b=Object.keys;Object.keys=function(a){return b(h(a)?g.call(a):a)}}}else Object.keys=q;return Object.keys||q},b.exports=q},{"./isArguments":241}],241:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Object.prototype.toString;b.exports=function(a){var b=e.call(a),c="[object Arguments]"===b;return c||(c="[object Array]"!==b&&null!==a&&"object"===("undefined"==typeof a?"undefined":d(a))&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===e.call(a.callee)),c}},{}],242:[function(a,b,c){"use strict";function d(a){return function(c,d,h,i){var j,k=b.exports.formatter;"string"==typeof c?(j=k.apply(null,arguments),c=d=void 0):j="string"==typeof d?k.apply(null,o.call(arguments,1)):k.apply(null,o.call(arguments,2)),c instanceof Error||(d=c,c=void 0),c&&(j+=(j?" \n":"")+c.message);var l=new a(j);return e(l,c),f(l),g(l,d),l}}function e(a,b){b&&(j(a,b),g(a,b,!0))}function f(a){a.toJSON=h,a.inspect=i}function g(a,b,c){if(b&&"object"===("undefined"==typeof b?"undefined":m(b)))for(var d=Object.keys(b),e=0;e<d.length;e++){var f=d[e];if(!(c&&p.indexOf(f)>=0))try{a[f]=b[f]}catch(g){}}}function h(){var a={},b=Object.keys(this);b=b.concat(p);for(var c=0;c<b.length;c++){var d=b[c],e=this[d],f="undefined"==typeof e?"undefined":m(e);"undefined"!==f&&"function"!==f&&(a[d]=e)}return a}function i(){return JSON.stringify(this,null,2).replace(/\\n/g,"\n")}function j(a,b){if(k(b))l(a,b);else{var c=b.stack;c&&(a.stack+=" \n\n"+b.stack)}}function k(a){if(!q)return!1;var b=Object.getOwnPropertyDescriptor(a,"stack");return b?"function"==typeof b.get:!1}function l(a,b){var c=Object.getOwnPropertyDescriptor(b,"stack");if(c){var d=Object.getOwnPropertyDescriptor(a,"stack");Object.defineProperty(a,"stack",{get:function(){return d.get.apply(a)+" \n\n"+b.stack},enumerable:!1,configurable:!0})}}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=a("util"),o=Array.prototype.slice,p=["name","message","description","number","fileName","lineNumber","columnNumber","sourceURL","line","column","stack"];b.exports=d(Error),b.exports.error=d(Error),b.exports.eval=d(EvalError),b.exports.range=d(RangeError),b.exports.reference=d(ReferenceError),b.exports.syntax=d(SyntaxError),b.exports.type=d(TypeError),b.exports.uri=d(URIError),b.exports.formatter=n.format;var q=function(){return!(!Object.getOwnPropertyDescriptor||!Object.defineProperty||"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent))}()},{util:281}],243:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:244}],244:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],245:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,".");var e=a.split("."),f=g(e,b).join(".");return d+f}function i(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:x}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;q>e;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=t>=i?y:i>=t+z?z:i-t,!(n>l);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;q>h;++h)p=a[h],128>p&&u.push(L(p));for(d=e=u.length,e&&u.push(E);q>d;){for(j=w,h=0;q>h;++h)p=a[h],p>=b&&j>p&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;q>h;++h)if(p=a[h],b>p&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=g>=n?y:n>=g+z?z:n-g,!(o>k);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;(t.global===t||t.window===t||t.self===t)&&(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],246:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],247:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(a){switch("undefined"==typeof a?"undefined":e(a)){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,i){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"===("undefined"==typeof a?"undefined":e(a))?d(h(a),function(e){var h=encodeURIComponent(f(e))+c;return g(a[e])?d(a[e],function(a){return h+encodeURIComponent(f(a))}).join(b):h+encodeURIComponent(f(a[e]))}).join(b):i?encodeURIComponent(f(i))+c+encodeURIComponent(f(a)):""};var g=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],248:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":246,"./encode":247}],249:[function(a,b,c){(function(b){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(c){function e(a,b){if(!(this instanceof e))return new e(a,b);var d=this;g(d),d.q=d.c="",d.bufferCheckPosition=c.MAX_BUFFER_LENGTH,d.opt=b||{},d.opt.lowercase=d.opt.lowercase||d.opt.lowercasetags,d.looseCase=d.opt.lowercase?"toLowerCase":"toUpperCase",d.tags=[],d.closed=d.closedRoot=d.sawRoot=!1,d.tag=d.error=null,d.strict=!!a,d.noscript=!(!a&&!d.opt.noscript),d.state=W.BEGIN,d.strictEntities=d.opt.strictEntities,d.ENTITIES=d.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),d.attribList=[],d.opt.xmlns&&(d.ns=Object.create(R)),d.trackPosition=d.opt.position!==!1,d.trackPosition&&(d.position=d.line=d.column=0),o(d,"onready")}function f(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=E.length;f>e;e++){var g=a[E[e]].length;if(g>b)switch(E[e]){case"textNode":q(a);break;case"cdata":p(a,"oncdata",a.cdata),a.cdata="";break;case"script":p(a,"onscript",a.script),a.script="";break;default:
s(a,"Max buffer length exceeded: "+E[e])}d=Math.max(d,g)}var h=c.MAX_BUFFER_LENGTH-d;a.bufferCheckPosition=h+a.position}function g(a){for(var b=0,c=E.length;c>b;b++)a[E[b]]=""}function h(a){q(a),""!==a.cdata&&(p(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(p(a,"onscript",a.script),a.script="")}function i(a,b){return new j(a,b)}function j(a,b){if(!(this instanceof j))return new j(a,b);F.apply(this),this._parser=new e(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,H.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?void c.on(a,b):(c.removeAllListeners(a),c._parser["on"+a]=b,b)},enumerable:!0,configurable:!1})})}function k(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function l(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function m(a,b){return l(a)?!!b.match(a):a[b]}function n(a,b){return!m(a,b)}function o(a,b,c){a[b]&&a[b](c)}function p(a,b,c){a.textNode&&q(a),o(a,b,c)}function q(a){a.textNode=r(a.opt,a.textNode),a.textNode&&o(a,"ontext",a.textNode),a.textNode=""}function r(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function s(a,b){return q(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,o(a,"onerror",b),a}function t(a){return a.sawRoot&&!a.closedRoot&&u(a,"Unclosed root tag"),a.state!==W.BEGIN&&a.state!==W.BEGIN_WHITESPACE&&a.state!==W.TEXT&&s(a,"Unexpected end"),q(a),a.c="",a.closed=!0,o(a,"onend"),e.call(a,a.strict,a.opt),a}function u(a,b){if("object"!==("undefined"==typeof a?"undefined":d(a))||!(a instanceof e))throw new Error("bad call to strictFail");a.strict&&s(a,b)}function v(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0,p(a,"onopentagstart",c)}function w(a,b){var c=a.indexOf(":"),d=0>c?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function x(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),-1!==a.attribList.indexOf(a.attribName)||a.tag.attributes.hasOwnProperty(a.attribName))return void(a.attribName=a.attribValue="");if(a.opt.xmlns){var b=w(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==P)u(a,"xml: prefix must be bound to "+P+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==Q)u(a,"xmlns: prefix must be bound to "+Q+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,p(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function y(a,b){if(a.opt.xmlns){var c=a.tag,d=w(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(u(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){p(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;g>f;f++){var h=a.attribList[f],i=h[0],j=h[1],k=w(i,!0),l=k.prefix,m=k.local,n=""===l?"":c.ns[l]||"",o={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!==l&&!n&&(u(a,"Unbound namespace prefix: "+JSON.stringify(l)),o.uri=l),a.tag.attributes[i]=o,p(a,"onattribute",o)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),p(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=W.TEXT:a.state=W.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function z(a){if(!a.tagName)return u(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=W.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=W.SCRIPT);p(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;u(a,"Unexpected close tag")}if(0>b)return u(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=W.TEXT);a.tagName=c;for(var f=a.tags.length;f-->b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,p(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];p(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=W.TEXT}function A(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(u(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function B(a,b){"<"===b?(a.state=W.OPEN_WAKA,a.startTagPosition=a.position):n(I,b)&&(u(a,"Non-whitespace before first tag."),a.textNode=b,a.state=W.TEXT)}function C(a,b){var c="";return b<a.length&&(c=a.charAt(b)),c}function D(a){var b=this;if(this.error)throw this.error;if(b.closed)return s(b,"Cannot write after close. Assign an onready handler.");if(null===a)return t(b);"object"===("undefined"==typeof a?"undefined":d(a))&&(a=a.toString());for(var c=0,e="";;){if(e=C(a,c++),b.c=e,!e)break;switch(b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++),b.state){case W.BEGIN:if(b.state=W.BEGIN_WHITESPACE,"\ufeff"===e)continue;B(b,e);continue;case W.BEGIN_WHITESPACE:B(b,e);continue;case W.TEXT:if(b.sawRoot&&!b.closedRoot){for(var g=c-1;e&&"<"!==e&&"&"!==e;)e=C(a,c++),e&&b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(g,c-1)}"<"!==e||b.sawRoot&&b.closedRoot&&!b.strict?(!n(I,e)||b.sawRoot&&!b.closedRoot||u(b,"Text data outside of root node."),"&"===e?b.state=W.TEXT_ENTITY:b.textNode+=e):(b.state=W.OPEN_WAKA,b.startTagPosition=b.position);continue;case W.SCRIPT:"<"===e?b.state=W.SCRIPT_ENDING:b.script+=e;continue;case W.SCRIPT_ENDING:"/"===e?b.state=W.CLOSE_TAG:(b.script+="<"+e,b.state=W.SCRIPT);continue;case W.OPEN_WAKA:if("!"===e)b.state=W.SGML_DECL,b.sgmlDecl="";else if(m(I,e));else if(m(S,e))b.state=W.OPEN_TAG,b.tagName=e;else if("/"===e)b.state=W.CLOSE_TAG,b.tagName="";else if("?"===e)b.state=W.PROC_INST,b.procInstName=b.procInstBody="";else{if(u(b,"Unencoded <"),b.startTagPosition+1<b.position){var h=b.position-b.startTagPosition;e=new Array(h).join(" ")+e}b.textNode+="<"+e,b.state=W.TEXT}continue;case W.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===N?(p(b,"onopencdata"),b.state=W.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=W.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===O?(b.state=W.DOCTYPE,(b.doctype||b.sawRoot)&&u(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===e?(p(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=W.TEXT):m(L,e)?(b.state=W.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case W.SGML_DECL_QUOTED:e===b.q&&(b.state=W.SGML_DECL,b.q=""),b.sgmlDecl+=e;continue;case W.DOCTYPE:">"===e?(b.state=W.TEXT,p(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,"["===e?b.state=W.DOCTYPE_DTD:m(L,e)&&(b.state=W.DOCTYPE_QUOTED,b.q=e));continue;case W.DOCTYPE_QUOTED:b.doctype+=e,e===b.q&&(b.q="",b.state=W.DOCTYPE);continue;case W.DOCTYPE_DTD:b.doctype+=e,"]"===e?b.state=W.DOCTYPE:m(L,e)&&(b.state=W.DOCTYPE_DTD_QUOTED,b.q=e);continue;case W.DOCTYPE_DTD_QUOTED:b.doctype+=e,e===b.q&&(b.state=W.DOCTYPE_DTD,b.q="");continue;case W.COMMENT:"-"===e?b.state=W.COMMENT_ENDING:b.comment+=e;continue;case W.COMMENT_ENDING:"-"===e?(b.state=W.COMMENT_ENDED,b.comment=r(b.opt,b.comment),b.comment&&p(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=W.COMMENT);continue;case W.COMMENT_ENDED:">"!==e?(u(b,"Malformed comment"),b.comment+="--"+e,b.state=W.COMMENT):b.state=W.TEXT;continue;case W.CDATA:"]"===e?b.state=W.CDATA_ENDING:b.cdata+=e;continue;case W.CDATA_ENDING:"]"===e?b.state=W.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=W.CDATA);continue;case W.CDATA_ENDING_2:">"===e?(b.cdata&&p(b,"oncdata",b.cdata),p(b,"onclosecdata"),b.cdata="",b.state=W.TEXT):"]"===e?b.cdata+="]":(b.cdata+="]]"+e,b.state=W.CDATA);continue;case W.PROC_INST:"?"===e?b.state=W.PROC_INST_ENDING:m(I,e)?b.state=W.PROC_INST_BODY:b.procInstName+=e;continue;case W.PROC_INST_BODY:if(!b.procInstBody&&m(I,e))continue;"?"===e?b.state=W.PROC_INST_ENDING:b.procInstBody+=e;continue;case W.PROC_INST_ENDING:">"===e?(p(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=W.TEXT):(b.procInstBody+="?"+e,b.state=W.PROC_INST_BODY);continue;case W.OPEN_TAG:m(T,e)?b.tagName+=e:(v(b),">"===e?y(b):"/"===e?b.state=W.OPEN_TAG_SLASH:(n(I,e)&&u(b,"Invalid character in tag name"),b.state=W.ATTRIB));continue;case W.OPEN_TAG_SLASH:">"===e?(y(b,!0),z(b)):(u(b,"Forward-slash in opening tag not followed by >"),b.state=W.ATTRIB);continue;case W.ATTRIB:if(m(I,e))continue;">"===e?y(b):"/"===e?b.state=W.OPEN_TAG_SLASH:m(S,e)?(b.attribName=e,b.attribValue="",b.state=W.ATTRIB_NAME):u(b,"Invalid attribute name");continue;case W.ATTRIB_NAME:"="===e?b.state=W.ATTRIB_VALUE:">"===e?(u(b,"Attribute without value"),b.attribValue=b.attribName,x(b),y(b)):m(I,e)?b.state=W.ATTRIB_NAME_SAW_WHITE:m(T,e)?b.attribName+=e:u(b,"Invalid attribute name");continue;case W.ATTRIB_NAME_SAW_WHITE:if("="===e)b.state=W.ATTRIB_VALUE;else{if(m(I,e))continue;u(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",p(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===e?y(b):m(S,e)?(b.attribName=e,b.state=W.ATTRIB_NAME):(u(b,"Invalid attribute name"),b.state=W.ATTRIB)}continue;case W.ATTRIB_VALUE:if(m(I,e))continue;m(L,e)?(b.q=e,b.state=W.ATTRIB_VALUE_QUOTED):(u(b,"Unquoted attribute value"),b.state=W.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case W.ATTRIB_VALUE_QUOTED:if(e!==b.q){"&"===e?b.state=W.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}x(b),b.q="",b.state=W.ATTRIB_VALUE_CLOSED;continue;case W.ATTRIB_VALUE_CLOSED:m(I,e)?b.state=W.ATTRIB:">"===e?y(b):"/"===e?b.state=W.OPEN_TAG_SLASH:m(S,e)?(u(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=W.ATTRIB_NAME):u(b,"Invalid attribute name");continue;case W.ATTRIB_VALUE_UNQUOTED:if(n(M,e)){"&"===e?b.state=W.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}x(b),">"===e?y(b):b.state=W.ATTRIB;continue;case W.CLOSE_TAG:if(b.tagName)">"===e?z(b):m(T,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=W.SCRIPT):(n(I,e)&&u(b,"Invalid tagname in closing tag"),b.state=W.CLOSE_TAG_SAW_WHITE);else{if(m(I,e))continue;n(S,e)?b.script?(b.script+="</"+e,b.state=W.SCRIPT):u(b,"Invalid tagname in closing tag."):b.tagName=e}continue;case W.CLOSE_TAG_SAW_WHITE:if(m(I,e))continue;">"===e?z(b):u(b,"Invalid characters in closing tag");continue;case W.TEXT_ENTITY:case W.ATTRIB_VALUE_ENTITY_Q:case W.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case W.TEXT_ENTITY:i=W.TEXT,j="textNode";break;case W.ATTRIB_VALUE_ENTITY_Q:i=W.ATTRIB_VALUE_QUOTED,j="attribValue";break;case W.ATTRIB_VALUE_ENTITY_U:i=W.ATTRIB_VALUE_UNQUOTED,j="attribValue"}";"===e?(b[j]+=A(b),b.entity="",b.state=i):m(b.entity.length?V:U,e)?b.entity+=e:(u(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}return b.position>=b.bufferCheckPosition&&f(b),b}c.parser=function(a,b){return new e(a,b)},c.SAXParser=e,c.SAXStream=j,c.createStream=i,c.MAX_BUFFER_LENGTH=65536;var E=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){}b.prototype=a;var c=new b;return c}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),e.prototype={end:function(){t(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){h(this)}};var F;try{F=a("stream").Stream}catch(G){F=function(){}}var H=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});j.prototype=Object.create(F.prototype,{constructor:{value:j}}),j.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},j.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},j.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||-1===H.indexOf(a)||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),F.prototype.on.call(c,a,b)};var I="\r\n	 ",J="0124356789",K="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",L="'\"",M=I+">",N="[CDATA[",O="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",Q="http://www.w3.org/2000/xmlns/",R={xml:P,xmlns:Q};I=k(I),J=k(J),K=k(K);var S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,V=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;L=k(L),M=k(M);var W=0;c.STATE={BEGIN:W++,BEGIN_WHITESPACE:W++,TEXT:W++,TEXT_ENTITY:W++,OPEN_WAKA:W++,SGML_DECL:W++,SGML_DECL_QUOTED:W++,DOCTYPE:W++,DOCTYPE_QUOTED:W++,DOCTYPE_DTD:W++,DOCTYPE_DTD_QUOTED:W++,COMMENT_STARTING:W++,COMMENT:W++,COMMENT_ENDING:W++,COMMENT_ENDED:W++,CDATA:W++,CDATA_ENDING:W++,CDATA_ENDING_2:W++,PROC_INST:W++,PROC_INST_BODY:W++,PROC_INST_ENDING:W++,OPEN_TAG:W++,OPEN_TAG_SLASH:W++,ATTRIB:W++,ATTRIB_NAME:W++,ATTRIB_NAME_SAW_WHITE:W++,ATTRIB_VALUE:W++,ATTRIB_VALUE_QUOTED:W++,ATTRIB_VALUE_CLOSED:W++,ATTRIB_VALUE_UNQUOTED:W++,ATTRIB_VALUE_ENTITY_Q:W++,ATTRIB_VALUE_ENTITY_U:W++,CLOSE_TAG:W++,CLOSE_TAG_SAW_WHITE:W++,SCRIPT:W++,SCRIPT_ENDING:W++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var X in c.STATE)c.STATE[c.STATE[X]]=X;W=c.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||0>j||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);65535>=j?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1===h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof c?(void 0).sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:6,stream:250,string_decoder:267}],250:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter,f=a("inherits");f(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:14,inherits:19,"readable-stream/duplex.js":252,"readable-stream/passthrough.js":259,"readable-stream/readable.js":260,"readable-stream/transform.js":261,"readable-stream/writable.js":262}],251:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],252:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":253}],253:[function(a,b,c){"use strict";function d(a){return this instanceof d?(j.call(this,a),k.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var h=a("process-nextick-args"),i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},{"./_stream_readable":255,"./_stream_writable":257,"core-util-is":10,inherits:19,"process-nextick-args":243}],254:[function(a,b,c){"use strict";function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":256,"core-util-is":10,inherits:19}],255:[function(a,b,c){(function(c){"use strict";function d(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?F(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function e(b,c){D=D||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof D&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(N||(N=a("string_decoder/").StringDecoder),this.decoder=new N(b.encoding),this.encoding=b.encoding)}function f(b){return D=D||a("./_stream_duplex"),this instanceof f?(this._readableState=new e(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),void G.call(this)):new f(b)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=P?a=P:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return 0>=a||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function k(a,b){var c=null;return I.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(M("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?E(n,a):n(a))}function n(a){M("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,E(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(M("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;M("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&H(a,"data")&&(b.flowing=!0,u(a))}}function r(a){M("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,E(t,a,b))}function t(a,b){b.reading||(M("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;for(M("flow",b.flowing);b.flowing&&null!==a.read(););}function v(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=w(a,b.buffer,b.decoder),c}function w(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?x(a,b):y(a,b),d}function x(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function y(a,b){var c=J.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function z(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,E(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function B(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)}function C(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}b.exports=f;var D,E=a("process-nextick-args"),F=a("isarray");f.ReadableState=e;var G,H=(a("events").EventEmitter,function(a,b){return a.listeners(b).length});!function(){try{G=a("stream")}catch(b){}finally{G||(G=a("events").EventEmitter)}}();var I=a("buffer").Buffer,J=a("buffer-shims"),K=a("core-util-is");K.inherits=a("inherits");var L=a("util"),M=void 0;M=L&&L.debuglog?L.debuglog("stream"):function(){};var N,O=a("./internal/streams/BufferList");K.inherits(f,G),f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=J.from(a,b),b="")),g(this,c,a,b,!1)},f.prototype.unshift=function(a){var b=this._readableState;return g(this,b,a,"",!0)},f.prototype.isPaused=function(){return this._readableState.flowing===!1},f.prototype.setEncoding=function(b){return N||(N=a("string_decoder/").StringDecoder),this._readableState.decoder=new N(b),this._readableState.encoding=b,this};var P=8388608;f.prototype.read=function(a){M("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return M("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?z(this):m(this),null;if(a=j(a,b),0===a&&b.ended)return 0===b.length&&z(this),null;var d=b.needReadable;M("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,M("length less than watermark",d)),b.ended||b.reading?(d=!1,M("reading or ended",d)):d&&(M("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=j(c,b)));var e;return e=a>0?v(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&z(this)),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},f.prototype.pipe=function(a,b){function e(a){M("onunpipe"),a===m&&g()}function f(){M("onend"),a.end()}function g(){M("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",g),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){M("ondata"),t=!1;var c=a.write(b);!1!==c||t||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==C(n.pipes,a))&&!s&&(M("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,t=!0),m.pause())}function i(b){M("onerror",b),l(),a.removeListener("error",i),0===H(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){M("onfinish"),a.removeListener("close",j),l()}function l(){M("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,p=o?f:g;n.endEmitted?E(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1,t=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(M("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;d>e;e++)c[e].emit("unpipe",this);return this}var f=C(b.pipes,a);return-1===f?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=G.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&m(this,d):E(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(M("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(M("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(M("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return B(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){M("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(this,a("_process"))},{"./_stream_duplex":253,"./internal/streams/BufferList":258,_process:244,buffer:6,"buffer-shims":5,"core-util-is":10,events:14,inherits:19,isarray:251,"process-nextick-args":243,"string_decoder/":267,util:3}],256:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,
this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":253,"core-util-is":10,inherits:19}],257:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function f(b,c){x=x||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof x&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=b.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){o(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(b){return x=x||a("./_stream_duplex"),F.call(g,this)||this instanceof x?(this._writableState=new f(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),void B.call(this)):new g(b)}function h(a,b){var c=new Error("write after end");a.emit("error",c),y(b,c)}function i(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):D.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),y(d,f),e=!1),e}function j(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=E.from(b,c)),b}function k(a,b,c,d,f){c=j(b,c,d),D.isBuffer(c)&&(d="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;if(h||(b.needDrain=!0),b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest=new e(c,d,f),i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else l(a,b,!1,g,c,d,f);return h}function l(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function m(a,b,c,d,e){--b.pendingcb,c?y(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function n(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function o(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(n(c),b)m(a,c,d,b,e);else{var f=s(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||r(a,c),d?z(p,a,c,f,e):p(a,c,f,e)}}function p(a,b,c,d){c||q(a,b),b.pendingcb--,d(),u(a,b)}function q(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function r(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;l(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new w(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback,k=b.objectMode?1:h.length;if(l(a,b,!1,k,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function s(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function t(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function u(a,b){var c=s(b);return c&&(0===b.pendingcb?(t(a,b),b.finished=!0,a.emit("finish")):t(a,b)),c}function v(a,b,c){b.ending=!0,u(a,b),c&&(b.finished?y(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function w(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=g;var x,y=a("process-nextick-args"),z=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:y;g.WritableState=f;var A=a("core-util-is");A.inherits=a("inherits");var B,C={deprecate:a("util-deprecate")};!function(){try{B=a("stream")}catch(b){}finally{B||(B=a("events").EventEmitter)}}();var D=a("buffer").Buffer,E=a("buffer-shims");A.inherits(g,B),f.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(f.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var F;"function"==typeof Symbol&&Symbol.hasInstance?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(a){return F.call(this,a)?!0:a&&a._writableState instanceof f}})):F=function(a){return a instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(a,b,c){var e=this._writableState,f=!1;return"function"==typeof b&&(c=b,b=null),D.isBuffer(a)?b="buffer":b||(b=e.defaultEncoding),"function"!=typeof c&&(c=d),e.ended?h(this,c):i(this,e,a,c)&&(e.pendingcb++,f=k(this,e,a,b,c)),f},g.prototype.cork=function(){var a=this._writableState;a.corked++},g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||r(this,a))},g.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},g.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||v(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":253,_process:244,buffer:6,"buffer-shims":5,"core-util-is":10,events:14,inherits:19,"process-nextick-args":243,"util-deprecate":278}],258:[function(a,b,c){"use strict";function d(){this.head=null,this.tail=null,this.length=0}var e=(a("buffer").Buffer,a("buffer-shims"));b.exports=d,d.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},d.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},d.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},d.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},{buffer:6,"buffer-shims":5}],259:[function(a,b,c){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":254}],260:[function(a,b,c){(function(d){var e=function(){try{return a("stream")}catch(b){}}();c=b.exports=a("./lib/_stream_readable.js"),c.Stream=e||c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js"),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(b.exports=e)}).call(this,a("_process"))},{"./lib/_stream_duplex.js":253,"./lib/_stream_passthrough.js":254,"./lib/_stream_readable.js":255,"./lib/_stream_transform.js":256,"./lib/_stream_writable.js":257,_process:244}],261:[function(a,b,c){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":256}],262:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":257}],263:[function(a,b,c){var d=a("./lib/request"),e=a("xtend"),f=a("builtin-status-codes"),g=a("url"),h=c;h.request=function(a,b){a="string"==typeof a?g.parse(a):e(a);var c=a.protocol||"",f=a.hostname||a.host,h=a.port,i=a.path||"/";f&&-1!==f.indexOf(":")&&(f="["+f+"]"),a.url=(f?c+"//"+f:"")+(h?":"+h:"")+i,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var j=new d(a);return b&&j.on("response",b),j},h.get=function(a,b){var c=h.request(a,b);return c.end(),c},h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.STATUS_CODES=f,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},{"./lib/request":265,"builtin-status-codes":8,url:277,xtend:366}],264:[function(a,b,c){(function(a){"use strict";function b(a){try{return f.responseType=a,f.responseType===a}catch(b){}return!1}function d(a){return"function"==typeof a}c.fetch=d(a.fetch)&&d(a.ReadableByteStream),c.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),c.blobConstructor=!0}catch(e){}var f=new a.XMLHttpRequest;f.open("GET",a.location.host?"/":"https://example.com");var g="undefined"!=typeof a.ArrayBuffer,h=g&&d(a.ArrayBuffer.prototype.slice);c.arraybuffer=g&&b("arraybuffer"),c.msstream=!c.fetch&&h&&b("ms-stream"),c.mozchunkedarraybuffer=!c.fetch&&g&&b("moz-chunked-arraybuffer"),c.overrideMimeType=d(f.overrideMimeType),c.vbArray=d(a.VBArray),f=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],265:[function(a,b,c){(function(c,d,e){"use strict";function f(a){return h.fetch?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&a?"arraybuffer":h.vbArray&&a?"text:vbarray":"text"}function g(a){try{return null!==a.status}catch(b){return!1}}var h=a("./capability"),i=a("foreach"),j=a("indexof"),k=a("inherits"),l=a("object-keys"),m=a("./response"),n=a("stream"),o=m.IncomingMessage,p=m.readyStates,q=b.exports=function(a){var b=this;n.Writable.call(b),b._opts=a,b._body=[],b._headers={},a.auth&&b.setHeader("Authorization","Basic "+new e(a.auth).toString("base64")),i(l(a.headers),function(c){b.setHeader(c,a.headers[c])});var c;if("prefer-streaming"===a.mode)c=!1;else if("allow-wrong-content-type"===a.mode)c=!h.overrideMimeType;else{if(a.mode&&"default"!==a.mode&&"prefer-fast"!==a.mode)throw new Error("Invalid value for opts.mode");c=!0}b._mode=f(c),b.on("finish",function(){b._onFinish()})};k(q,n.Writable),q.prototype.setHeader=function(a,b){var c=this,d=a.toLowerCase();-1===j(r,d)&&(c._headers[d]={name:a,value:b})},q.prototype.getHeader=function(a){var b=this;return b._headers[a.toLowerCase()].value},q.prototype.removeHeader=function(a){var b=this;delete b._headers[a.toLowerCase()]},q.prototype._onFinish=function(){var a=this;if(!a._destroyed){var b,f=a._opts,g=a._headers;if(("POST"===f.method||"PUT"===f.method)&&(b=h.blobConstructor?new d.Blob(a._body.map(function(a){return a.toArrayBuffer()}),{type:(g["content-type"]||{}).value||""}):e.concat(a._body).toString()),"fetch"===a._mode){var j=l(g).map(function(a){return[g[a].name,g[a].value]});d.fetch(a._opts.url,{method:a._opts.method,headers:j,body:b,mode:"cors",credentials:f.withCredentials?"include":"same-origin"}).then(function(b){a._fetchResponse=b,a._connect()}).then(void 0,function(b){a.emit("error",b)})}else{var k=a._xhr=new d.XMLHttpRequest;try{k.open(a._opts.method,a._opts.url,!0)}catch(m){return void c.nextTick(function(){a.emit("error",m)})}"responseType"in k&&(k.responseType=a._mode.split(":")[0]),"withCredentials"in k&&(k.withCredentials=!!f.withCredentials),"text"===a._mode&&"overrideMimeType"in k&&k.overrideMimeType("text/plain; charset=x-user-defined"),i(l(g),function(a){k.setRequestHeader(g[a].name,g[a].value)}),a._response=null,k.onreadystatechange=function(){switch(k.readyState){case p.LOADING:case p.DONE:a._onXHRProgress()}},"moz-chunked-arraybuffer"===a._mode&&(k.onprogress=function(){a._onXHRProgress()}),k.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{k.send(b)}catch(m){return void c.nextTick(function(){a.emit("error",m)})}}}},q.prototype._onXHRProgress=function(){var a=this;g(a._xhr)&&!a._destroyed&&(a._response||a._connect(),a._response._onXHRProgress())},q.prototype._connect=function(){var a=this;a._destroyed||(a._response=new o(a._xhr,a._fetchResponse,a._mode),a.emit("response",a._response))},q.prototype._write=function(a,b,c){var d=this;d._body.push(a),c()},q.prototype.abort=q.prototype.destroy=function(){var a=this;a._destroyed=!0,a._response&&(a._response._destroyed=!0),a._xhr&&a._xhr.abort()},q.prototype.end=function(a,b,c){var d=this;"function"==typeof a&&(c=a,a=void 0),n.Writable.prototype.end.call(d,a,b,c)},q.prototype.flushHeaders=function(){},q.prototype.setTimeout=function(){},q.prototype.setNoDelay=function(){},q.prototype.setSocketKeepAlive=function(){};var r=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":264,"./response":266,_process:244,buffer:6,foreach:15,indexof:18,inherits:19,"object-keys":240,stream:250}],266:[function(a,b,c){(function(b,d,e){"use strict";var f=a("./capability"),g=a("foreach"),h=a("inherits"),i=a("stream"),j=c.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},k=c.IncomingMessage=function(a,c,d){var h=this;if(i.Readable.call(h),h._mode=d,h.headers={},h.rawHeaders=[],h.trailers={},h.rawTrailers=[],h.on("end",function(){b.nextTick(function(){h.emit("close")})}),"fetch"===d){var j,k,l,m;!function(){var a=function b(){m.read().then(function(a){if(!h._destroyed){if(a.done)return void h.push(null);h.push(new e(a.value)),b()}})};for(h._fetchResponse=c,h.statusCode=c.status,h.statusMessage=c.statusText,l=c.headers[Symbol.iterator]();j=(k=l.next()).value,!k.done;)h.headers[j[0].toLowerCase()]=j[1],h.rawHeaders.push(j[0],j[1]);m=c.body.getReader(),a()}()}else{h._xhr=a,h._pos=0,h.statusCode=a.status,h.statusMessage=a.statusText;var n=a.getAllResponseHeaders().split(/\r?\n/);if(g(n,function(a){var b=a.match(/^([^:]+):\s*(.*)/);if(b){var c=b[1].toLowerCase();void 0!==h.headers[c]?h.headers[c]+=", "+b[2]:h.headers[c]=b[2],h.rawHeaders.push(b[1],b[2])}}),h._charset="x-user-defined",!f.overrideMimeType){var o=h.rawHeaders["mime-type"];if(o){var p=o.match(/;\s*charset=([^;])(;|$)/);p&&(h._charset=p[1].toLowerCase())}h._charset||(h._charset="utf-8")}}};h(k,i.Readable),k.prototype._read=function(){},k.prototype._onXHRProgress=function(){var a=this,b=a._xhr,c=null;switch(a._mode){case"text:vbarray":if(b.readyState!==j.DONE)break;try{c=new d.VBArray(b.responseBody).toArray()}catch(f){}if(null!==c){a.push(new e(c));break}case"text":try{c=b.responseText}catch(f){a._mode="text:vbarray";break}if(c.length>a._pos){var g=c.substr(a._pos);if("x-user-defined"===a._charset){for(var h=new e(g.length),i=0;i<g.length;i++)h[i]=255&g.charCodeAt(i);a.push(h)}else a.push(g,a._charset);a._pos=c.length}break;case"arraybuffer":if(b.readyState!==j.DONE)break;c=b.response,a.push(new e(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=b.response,b.readyState!==j.LOADING||!c)break;a.push(new e(new Uint8Array(c)));break;case"ms-stream":if(c=b.response,b.readyState!==j.LOADING)break;var k=new d.MSStreamReader;k.onprogress=function(){k.result.byteLength>a._pos&&(a.push(new e(new Uint8Array(k.result.slice(a._pos)))),a._pos=k.result.byteLength)},k.onload=function(){a.push(null)},k.readAsArrayBuffer(c)}a._xhr.readyState===j.DONE&&"ms-stream"!==a._mode&&a.push(null)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":264,_process:244,buffer:6,foreach:15,inherits:19,stream:250}],267:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&56319>=d)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&56319>=d){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(2>=b&&c>>4==14){this.charLength=3;break}if(3>=b&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:6}],268:[function(a,b,c){"use strict";b.exports=["get","put","post","delete","options","head","patch"]},{}],269:[function(a,b,c){"use strict";function d(){n.apply(this,arguments)}function e(a){var b,c,d,e;return a=Array.prototype.slice.call(a),"function"==typeof a[a.length-1]&&(e=a.pop()),"string"==typeof a[0]?(b=a[0],"object"===f(a[2])?(c=a[1],d=a[2]):(c=void 0,d=a[1])):(b="",c=a[0],d=a[1]),d instanceof j||(d=new j(d)),{path:b,api:c,options:d,callback:e}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=a("./validate-schema"),h=a("./validate-spec"),i=a("./util"),j=a("./options"),k=a("./promise"),l=a("call-me-maybe"),m=a("ono"),n=a("json-schema-ref-parser"),o=a("json-schema-ref-parser/lib/dereference");b.exports=d,i.inherits(d,n),d.YAML=n.YAML,d.parse=n.parse,d.resolve=n.resolve,d.bundle=n.bundle,d.dereference=n.dereference,Object.defineProperty(d.prototype,"api",{configurable:!0,enumerable:!0,get:function(){return this.schema}}),d.prototype.parse=function(a,b,c){var d=e(arguments);return n.prototype.parse.call(this,d.path,d.api,d.options).then(function(a){var b=["2.0"];if(void 0===a.swagger||void 0===a.info||void 0===a.paths)throw m.syntax("%s is not a valid Swagger API definition",d.path||d.api);if("number"==typeof a.swagger)throw m.syntax('Swagger version number must be a string (e.g. "2.0") not a number.');if("number"==typeof a.info.version)throw m.syntax('API version number must be a string (e.g. "1.0.0") not a number.');if(-1===b.indexOf(a.swagger))throw m.syntax("Unsupported Swagger version: %d. Swagger Parser only supports version %s",a.swagger,b.join(", "));return l(d.callback,k.resolve(a))})["catch"](function(a){return l(d.callback,k.reject(a))})},d.validate=function(a,b,c){var d=this,e=new d;return e.validate.apply(e,arguments)},d.prototype.validate=function(a,b,c){var d=this,f=e(arguments),i=f.options.dereference.circular;return f.options.validate.schema&&(f.options.dereference.circular="ignore"),this.dereference(f.path,f.api,f.options).then(function(){if(f.options.dereference.circular=i,f.options.validate.schema&&(g(d.api),d.$refs.circular))if(i===!0)o(d,f.options);else if(i===!1)throw m.reference("The API contains circular references");return f.options.validate.spec&&h(d.api),l(f.callback,k.resolve(d.schema))})["catch"](function(a){return l(f.callback,k.reject(a))})}},{"./options":270,"./promise":271,"./util":272,"./validate-schema":273,"./validate-spec":274,"call-me-maybe":9,"json-schema-ref-parser":54,"json-schema-ref-parser/lib/dereference":53,ono:242}],270:[function(a,b,c){"use strict";function d(a){e.call(this,d.defaults),e.apply(this,arguments)}var e=a("json-schema-ref-parser/lib/options"),f=a("util");b.exports=d,d.defaults={validate:{schema:{order:1},spec:{order:2}}},f.inherits(d,e)},{"json-schema-ref-parser/lib/options":55,util:281}],271:[function(a,b,c){arguments[4][69][0].apply(c,arguments)},{dup:69,"es6-promise":13}],272:[function(a,b,c){"use strict";var d=a("debug"),e=a("util");c.format=e.format,c.inherits=e.inherits,c.debug=d("swagger:parser"),c.swaggerParamRegExp=/\{([^\/}]+)}/g},{debug:11,util:281}],273:[function(a,b,c){"use strict";function d(a){g.debug("Validating against the Swagger 2.0 schema");var b=i.validate(a,j);if(!b){var c=i.getLastError(),d="Swagger schema validation failed. \n"+f(c.details);throw h.syntax(c,{details:c.details},d)}g.debug("    Validated successfully")}function e(){i=new i({breakOnFirstError:!0,noExtraKeywords:!0,ignoreUnknownFormats:!1,reportPathAsArray:!0})}function f(a,b){b=b||"  ";var c="";return a.forEach(function(a,d){c+=g.format("%s%s at #/%s\n",b,a.message,a.path.join("/")),a.inner&&(c+=f(a.inner,b+"  "))}),c}var g=a("./util"),h=a("ono"),i=a("z-schema"),j=a("swagger-schema-official/schema");b.exports=d,e()},{"./util":272,ono:242,"swagger-schema-official/schema":275,"z-schema":376}],274:[function(a,b,c){"use strict";function d(a){m.debug("Validating against the Swagger 2.0 spec");var b=Object.keys(a.paths||{});b.forEach(function(b){var c=a.paths[b],d="/paths"+b;c&&0===b.indexOf("/")&&e(a,c,d)}),m.debug("    Validated successfully")}function e(a,b,c){o.forEach(function(d){var e=b[d],g=c+"/"+d;if(e){f(a,b,c,e,g);var h=Object.keys(e.responses||{});h.forEach(function(a){var b=e.responses[a],c=g+"/responses/"+a;k(a,b,c)})}})}function f(a,b,c,d,e){var f=b.parameters||[],k=d.parameters||[];try{j(f)}catch(l){throw n.syntax(l,"Validation failed. %s has duplicate parameters",c)}try{j(k)}catch(l){throw n.syntax(l,"Validation failed. %s has duplicate parameters",e)}var m=f.reduce(function(a,b){var c=a.some(function(a){return a["in"]===b["in"]&&a.name===b.name});return c||a.push(b),a},k.slice());g(m,e),h(m,c,e),i(m,a,d,e)}function g(a,b){var c=a.filter(function(a){return"body"===a["in"]}),d=a.filter(function(a){return"formData"===a["in"]});if(c.length>1)throw n.syntax("Validation failed. %s has %d body parameters. Only one is allowed.",b,c.length);if(c.length>0&&d.length>0)throw n.syntax("Validation failed. %s has body parameters and formData parameters. Only one or the other is allowed.",b)}function h(a,b,c){for(var d=b.match(m.swaggerParamRegExp)||[],e=0;e<d.length;e++)for(var f=e+1;f<d.length;f++)if(d[e]===d[f])throw n.syntax("Validation failed. %s has multiple path placeholders named %s",c,d[e]);if(a.filter(function(a){return"path"===a["in"]}).forEach(function(a){if(a.required!==!0)throw n.syntax('Validation failed. Path parameters cannot be optional. Set required=true for the "%s" parameter at %s',a.name,c);var b=d.indexOf("{"+a.name+"}");if(-1===b)throw n.syntax('Validation failed. %s has a path parameter named "%s", but there is no corresponding {%s} in the path string',c,a.name,a.name);d.splice(b,1)}),d.length>0)throw n.syntax("Validation failed. %s is missing path parameter(s) for %s",c,d)}function i(a,b,c,d){a.forEach(function(a){var e,f,g=d+"/parameters/"+a.name;switch(a["in"]){case"body":e=a.schema,f=q;break;case"formData":e=a,f=p.concat("file");break;default:e=a,f=p}if(l(e,g,f),"file"===e.type){var h=c.consumes||b.consumes||[];if(-1===h.indexOf("multipart/form-data")&&-1===h.indexOf("application/x-www-form-urlencoded"))throw n.syntax("Validation failed. %s has a file parameter, so it must consume multipart/form-data or application/x-www-form-urlencoded",d)}})}function j(a){for(var b=0;b<a.length-1;b++)for(var c=a[b],d=b+1;d<a.length;d++){var e=a[d];if(c.name===e.name&&c["in"]===e["in"])throw n.syntax('Validation failed. Found multiple %s parameters named "%s"',c["in"],c.name)}}function k(a,b,c){if("default"!==a&&(100>a||a>599))throw n.syntax("Validation failed. %s has an invalid response code (%s)",c,a);var d=Object.keys(b.headers||{});if(d.forEach(function(a){var d=b.headers[a],e=c+"/headers/"+a;l(d,e,p)}),b.schema){var e=q.concat("file");if(-1===e.indexOf(b.schema.type))throw n.syntax("Validation failed. %s has an invalid response schema type (%s)",c,b.schema.type)}}function l(a,b,c){if(-1===c.indexOf(a.type))throw n.syntax("Validation failed. %s has an invalid type (%s)",b,a.type);if("array"===a.type&&!a.items)throw n.syntax('Validation failed. %s is an array, so it must include an "items" schema',b)}var m=a("./util"),n=a("ono"),o=a("swagger-methods"),p=["array","boolean","integer","number","string"],q=["array","boolean","integer","number","string","object","null",void 0];b.exports=d},{"./util":272,ono:242,"swagger-methods":268}],275:[function(a,b,c){b.exports={title:"A JSON Schema for Swagger 2.0 API.",id:"http://swagger.io/v2/schema.json#",$schema:"http://json-schema.org/draft-04/schema#",type:"object",required:["swagger","info","paths"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{swagger:{type:"string","enum":["2.0"],description:"The Swagger version of this document."},info:{$ref:"#/definitions/info"},host:{type:"string",pattern:"^[^{}/ :\\\\]+(?::\\d+)?$",description:"The host (name or ip) of the API. Example: 'swagger.io'"},basePath:{type:"string",pattern:"^/",description:"The base path to the API. Example: '/api'."},schemes:{$ref:"#/definitions/schemesList"},consumes:{description:"A list of MIME types accepted by the API.",$ref:"#/definitions/mediaTypeList"},produces:{description:"A list of MIME types the API can produce.",$ref:"#/definitions/mediaTypeList"},paths:{$ref:"#/definitions/paths"},definitions:{$ref:"#/definitions/definitions"},parameters:{$ref:"#/definitions/parameterDefinitions"},responses:{$ref:"#/definitions/responseDefinitions"},security:{$ref:"#/definitions/security"},securityDefinitions:{$ref:"#/definitions/securityDefinitions"},tags:{type:"array",items:{$ref:"#/definitions/tag"},uniqueItems:!0},externalDocs:{$ref:"#/definitions/externalDocs"}},definitions:{info:{type:"object",description:"General information about the API.",required:["version","title"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{title:{type:"string",description:"A unique and precise title of the API."},version:{type:"string",description:"A semantic version number of the API."},description:{type:"string",description:"A longer description of the API. Should be different from the title.  GitHub Flavored Markdown is allowed."},termsOfService:{type:"string",description:"The terms of service for the API."},contact:{$ref:"#/definitions/contact"},license:{$ref:"#/definitions/license"}}},contact:{type:"object",description:"Contact information for the owners of the API.",additionalProperties:!1,properties:{name:{type:"string",description:"The identifying name of the contact person/organization."},url:{type:"string",description:"The URL pointing to the contact information.",format:"uri"},email:{type:"string",description:"The email address of the contact person/organization.",format:"email"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},license:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"The name of the license type. It's encouraged to use an OSI compatible license."},url:{type:"string",description:"The URL pointing to the license.",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},paths:{type:"object",description:"Relative paths to the individual endpoints. They must be relative to the 'basePath'.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"},"^/":{$ref:"#/definitions/pathItem"}},additionalProperties:!1},definitions:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},description:"One or more JSON objects describing the schemas being consumed and produced by the API."},parameterDefinitions:{type:"object",additionalProperties:{$ref:"#/definitions/parameter"},description:"One or more JSON representations for parameters"},responseDefinitions:{type:"object",additionalProperties:{$ref:"#/definitions/response"},description:"One or more JSON representations for parameters"},externalDocs:{type:"object",additionalProperties:!1,description:"information about external documentation",required:["url"],properties:{description:{type:"string"},url:{type:"string",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},examples:{type:"object",additionalProperties:!0},mimeType:{type:"string",description:"The MIME type of the HTTP message."},operation:{type:"object",required:["responses"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{tags:{type:"array",items:{type:"string"},uniqueItems:!0},summary:{type:"string",description:"A brief summary of the operation."},description:{type:"string",description:"A longer description of the operation, GitHub Flavored Markdown is allowed."},externalDocs:{$ref:"#/definitions/externalDocs"},operationId:{type:"string",description:"A unique identifier of the operation."},produces:{description:"A list of MIME types the API can produce.",$ref:"#/definitions/mediaTypeList"},consumes:{description:"A list of MIME types the API can consume.",
$ref:"#/definitions/mediaTypeList"},parameters:{$ref:"#/definitions/parametersList"},responses:{$ref:"#/definitions/responses"},schemes:{$ref:"#/definitions/schemesList"},deprecated:{type:"boolean","default":!1},security:{$ref:"#/definitions/security"}}},pathItem:{type:"object",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},get:{$ref:"#/definitions/operation"},put:{$ref:"#/definitions/operation"},post:{$ref:"#/definitions/operation"},"delete":{$ref:"#/definitions/operation"},options:{$ref:"#/definitions/operation"},head:{$ref:"#/definitions/operation"},patch:{$ref:"#/definitions/operation"},parameters:{$ref:"#/definitions/parametersList"}}},responses:{type:"object",description:"Response objects names can either be any valid HTTP status code or 'default'.",minProperties:1,additionalProperties:!1,patternProperties:{"^([0-9]{3})$|^(default)$":{$ref:"#/definitions/responseValue"},"^x-":{$ref:"#/definitions/vendorExtension"}},not:{type:"object",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}}},responseValue:{oneOf:[{$ref:"#/definitions/response"},{$ref:"#/definitions/jsonReference"}]},response:{type:"object",required:["description"],properties:{description:{type:"string"},schema:{oneOf:[{$ref:"#/definitions/schema"},{$ref:"#/definitions/fileSchema"}]},headers:{$ref:"#/definitions/headers"},examples:{$ref:"#/definitions/examples"}},additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},headers:{type:"object",additionalProperties:{$ref:"#/definitions/header"}},header:{type:"object",additionalProperties:!1,required:["type"],properties:{type:{type:"string","enum":["string","number","integer","boolean","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},vendorExtension:{description:"Any property starting with x- is valid.",additionalProperties:!0,additionalItems:!0},bodyParameter:{type:"object",required:["name","in","schema"],patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},"in":{type:"string",description:"Determines the location of the parameter.","enum":["body"]},required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},schema:{$ref:"#/definitions/schema"}},additionalProperties:!1},headerParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},"in":{type:"string",description:"Determines the location of the parameter.","enum":["header"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},queryParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},"in":{type:"string",description:"Determines the location of the parameter.","enum":["query"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},allowEmptyValue:{type:"boolean","default":!1,description:"allows sending a parameter by name only or with an empty value."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormatWithMulti"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},formDataParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.","default":!1},"in":{type:"string",description:"Determines the location of the parameter.","enum":["formData"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},allowEmptyValue:{type:"boolean","default":!1,description:"allows sending a parameter by name only or with an empty value."},type:{type:"string","enum":["string","number","boolean","integer","array","file"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormatWithMulti"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},pathParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},required:["required"],properties:{required:{type:"boolean","enum":[!0],description:"Determines whether or not this parameter is required or optional."},"in":{type:"string",description:"Determines the location of the parameter.","enum":["path"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},nonBodyParameter:{type:"object",required:["name","in","type"],oneOf:[{$ref:"#/definitions/headerParameterSubSchema"},{$ref:"#/definitions/formDataParameterSubSchema"},{$ref:"#/definitions/queryParameterSubSchema"},{$ref:"#/definitions/pathParameterSubSchema"}]},parameter:{oneOf:[{$ref:"#/definitions/bodyParameter"},{$ref:"#/definitions/nonBodyParameter"}]},schema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},maxProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},"enum":{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},additionalProperties:{anyOf:[{$ref:"#/definitions/schema"},{type:"boolean"}],"default":{}},type:{$ref:"http://json-schema.org/draft-04/schema#/properties/type"},items:{anyOf:[{$ref:"#/definitions/schema"},{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}}],"default":{}},allOf:{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}},properties:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},"default":{}},discriminator:{type:"string"},readOnly:{type:"boolean","default":!1},xml:{$ref:"#/definitions/xml"},externalDocs:{$ref:"#/definitions/externalDocs"},example:{}},additionalProperties:!1},fileSchema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},required:["type"],properties:{format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},type:{type:"string","enum":["file"]},readOnly:{type:"boolean","default":!1},externalDocs:{$ref:"#/definitions/externalDocs"},example:{}},additionalProperties:!1},primitivesItems:{type:"object",additionalProperties:!1,properties:{type:{type:"string","enum":["string","number","integer","boolean","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},"default":{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},"enum":{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},security:{type:"array",items:{$ref:"#/definitions/securityRequirement"},uniqueItems:!0},securityRequirement:{type:"object",additionalProperties:{type:"array",items:{type:"string"},uniqueItems:!0}},xml:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},namespace:{type:"string"},prefix:{type:"string"},attribute:{type:"boolean","default":!1},wrapped:{type:"boolean","default":!1}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},tag:{type:"object",additionalProperties:!1,required:["name"],properties:{name:{type:"string"},description:{type:"string"},externalDocs:{$ref:"#/definitions/externalDocs"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},securityDefinitions:{type:"object",additionalProperties:{oneOf:[{$ref:"#/definitions/basicAuthenticationSecurity"},{$ref:"#/definitions/apiKeySecurity"},{$ref:"#/definitions/oauth2ImplicitSecurity"},{$ref:"#/definitions/oauth2PasswordSecurity"},{$ref:"#/definitions/oauth2ApplicationSecurity"},{$ref:"#/definitions/oauth2AccessCodeSecurity"}]}},basicAuthenticationSecurity:{type:"object",additionalProperties:!1,required:["type"],properties:{type:{type:"string","enum":["basic"]},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},apiKeySecurity:{type:"object",additionalProperties:!1,required:["type","name","in"],properties:{type:{type:"string","enum":["apiKey"]},name:{type:"string"},"in":{type:"string","enum":["header","query"]},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2ImplicitSecurity:{type:"object",additionalProperties:!1,required:["type","flow","authorizationUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["implicit"]},scopes:{$ref:"#/definitions/oauth2Scopes"},authorizationUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2PasswordSecurity:{type:"object",additionalProperties:!1,required:["type","flow","tokenUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["password"]},scopes:{$ref:"#/definitions/oauth2Scopes"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2ApplicationSecurity:{type:"object",additionalProperties:!1,required:["type","flow","tokenUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["application"]},scopes:{$ref:"#/definitions/oauth2Scopes"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2AccessCodeSecurity:{type:"object",additionalProperties:!1,required:["type","flow","authorizationUrl","tokenUrl"],properties:{type:{type:"string","enum":["oauth2"]},flow:{type:"string","enum":["accessCode"]},scopes:{$ref:"#/definitions/oauth2Scopes"},authorizationUrl:{type:"string",format:"uri"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2Scopes:{type:"object",additionalProperties:{type:"string"}},mediaTypeList:{type:"array",items:{$ref:"#/definitions/mimeType"},uniqueItems:!0},parametersList:{type:"array",description:"The parameters needed to send a valid API call.",additionalItems:!1,items:{oneOf:[{$ref:"#/definitions/parameter"},{$ref:"#/definitions/jsonReference"}]},uniqueItems:!0},schemesList:{type:"array",description:"The transfer protocol of the API.",items:{type:"string","enum":["http","https","ws","wss"]},uniqueItems:!0},collectionFormat:{type:"string","enum":["csv","ssv","tsv","pipes"],"default":"csv"},collectionFormatWithMulti:{type:"string","enum":["csv","ssv","tsv","pipes","multi"],"default":"csv"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},"enum":{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},jsonReference:{type:"object",required:["$ref"],additionalProperties:!1,properties:{$ref:{type:"string"}}}}}},{}],276:[function(a,b,c){function d(a,b){this._id=a,this._clearFn=b}var e=a("process/browser.js").nextTick,f=Function.prototype.apply,g=Array.prototype.slice,h={},i=0;c.setTimeout=function(){return new d(f.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new d(f.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof setImmediate?setImmediate:function(a){var b=i++,d=arguments.length<2?!1:g.call(arguments,1);return h[b]=!0,e(function(){h[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(a){delete h[a]}},{"process/browser.js":244}],277:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:245,querystring:248}],278:[function(a,b,c){(function(a){"use strict";function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(c){return!1}var d=a.localStorage[b];return null==d?!1:"true"===String(d).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],279:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],280:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=function(a){return a&&"object"===("undefined"==typeof a?"undefined":d(a))&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],281:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a);
}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":280,_process:244,inherits:279}],282:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./lib/toDate"),f=d(e),g=a("./lib/toFloat"),h=d(g),i=a("./lib/toInt"),j=d(i),k=a("./lib/toBoolean"),l=d(k),m=a("./lib/equals"),n=d(m),o=a("./lib/contains"),p=d(o),q=a("./lib/matches"),r=d(q),s=a("./lib/isEmail"),t=d(s),u=a("./lib/isURL"),v=d(u),w=a("./lib/isMACAddress"),x=d(w),y=a("./lib/isIP"),z=d(y),A=a("./lib/isFQDN"),B=d(A),C=a("./lib/isBoolean"),D=d(C),E=a("./lib/isAlpha"),F=d(E),G=a("./lib/isAlphanumeric"),H=d(G),I=a("./lib/isNumeric"),J=d(I),K=a("./lib/isLowercase"),L=d(K),M=a("./lib/isUppercase"),N=d(M),O=a("./lib/isAscii"),P=d(O),Q=a("./lib/isFullWidth"),R=d(Q),S=a("./lib/isHalfWidth"),T=d(S),U=a("./lib/isVariableWidth"),V=d(U),W=a("./lib/isMultibyte"),X=d(W),Y=a("./lib/isSurrogatePair"),Z=d(Y),$=a("./lib/isInt"),_=d($),aa=a("./lib/isFloat"),ba=d(aa),ca=a("./lib/isDecimal"),da=d(ca),ea=a("./lib/isHexadecimal"),fa=d(ea),ga=a("./lib/isDivisibleBy"),ha=d(ga),ia=a("./lib/isHexColor"),ja=d(ia),ka=a("./lib/isMD5"),la=d(ka),ma=a("./lib/isJSON"),na=d(ma),oa=a("./lib/isNull"),pa=d(oa),qa=a("./lib/isLength"),ra=d(qa),sa=a("./lib/isByteLength"),ta=d(sa),ua=a("./lib/isUUID"),va=d(ua),wa=a("./lib/isMongoId"),xa=d(wa),ya=a("./lib/isDate"),za=d(ya),Aa=a("./lib/isAfter"),Ba=d(Aa),Ca=a("./lib/isBefore"),Da=d(Ca),Ea=a("./lib/isIn"),Fa=d(Ea),Ga=a("./lib/isCreditCard"),Ha=d(Ga),Ia=a("./lib/isISIN"),Ja=d(Ia),Ka=a("./lib/isISBN"),La=d(Ka),Ma=a("./lib/isMobilePhone"),Na=d(Ma),Oa=a("./lib/isCurrency"),Pa=d(Oa),Qa=a("./lib/isISO8601"),Ra=d(Qa),Sa=a("./lib/isBase64"),Ta=d(Sa),Ua=a("./lib/isDataURI"),Va=d(Ua),Wa=a("./lib/ltrim"),Xa=d(Wa),Ya=a("./lib/rtrim"),Za=d(Ya),$a=a("./lib/trim"),_a=d($a),ab=a("./lib/escape"),bb=d(ab),cb=a("./lib/unescape"),db=d(cb),eb=a("./lib/stripLow"),fb=d(eb),gb=a("./lib/whitelist"),hb=d(gb),ib=a("./lib/blacklist"),jb=d(ib),kb=a("./lib/isWhitelisted"),lb=d(kb),mb=a("./lib/normalizeEmail"),nb=d(mb),ob=a("./lib/util/toString"),pb=d(ob),qb="5.7.0",rb={version:qb,toDate:f["default"],toFloat:h["default"],toInt:j["default"],toBoolean:l["default"],equals:n["default"],contains:p["default"],matches:r["default"],isEmail:t["default"],isURL:v["default"],isMACAddress:x["default"],isIP:z["default"],isFQDN:B["default"],isBoolean:D["default"],isAlpha:F["default"],isAlphanumeric:H["default"],isNumeric:J["default"],isLowercase:L["default"],isUppercase:N["default"],isAscii:P["default"],isFullWidth:R["default"],isHalfWidth:T["default"],isVariableWidth:V["default"],isMultibyte:X["default"],isSurrogatePair:Z["default"],isInt:_["default"],isFloat:ba["default"],isDecimal:da["default"],isHexadecimal:fa["default"],isDivisibleBy:ha["default"],isHexColor:ja["default"],isMD5:la["default"],isJSON:na["default"],isNull:pa["default"],isLength:ra["default"],isByteLength:ta["default"],isUUID:va["default"],isMongoId:xa["default"],isDate:za["default"],isAfter:Ba["default"],isBefore:Da["default"],isIn:Fa["default"],isCreditCard:Ha["default"],isISIN:Ja["default"],isISBN:La["default"],isMobilePhone:Na["default"],isCurrency:Pa["default"],isISO8601:Ra["default"],isBase64:Ta["default"],isDataURI:Va["default"],ltrim:Xa["default"],rtrim:Za["default"],trim:_a["default"],escape:bb["default"],unescape:db["default"],stripLow:fb["default"],whitelist:hb["default"],blacklist:jb["default"],isWhitelisted:lb["default"],normalizeEmail:nb["default"],toString:pb["default"]};c["default"]=rb,b.exports=c["default"]},{"./lib/blacklist":284,"./lib/contains":285,"./lib/equals":286,"./lib/escape":287,"./lib/isAfter":288,"./lib/isAlpha":289,"./lib/isAlphanumeric":290,"./lib/isAscii":291,"./lib/isBase64":292,"./lib/isBefore":293,"./lib/isBoolean":294,"./lib/isByteLength":295,"./lib/isCreditCard":296,"./lib/isCurrency":297,"./lib/isDataURI":298,"./lib/isDate":299,"./lib/isDecimal":300,"./lib/isDivisibleBy":301,"./lib/isEmail":302,"./lib/isFQDN":303,"./lib/isFloat":304,"./lib/isFullWidth":305,"./lib/isHalfWidth":306,"./lib/isHexColor":307,"./lib/isHexadecimal":308,"./lib/isIP":309,"./lib/isISBN":310,"./lib/isISIN":311,"./lib/isISO8601":312,"./lib/isIn":313,"./lib/isInt":314,"./lib/isJSON":315,"./lib/isLength":316,"./lib/isLowercase":317,"./lib/isMACAddress":318,"./lib/isMD5":319,"./lib/isMobilePhone":320,"./lib/isMongoId":321,"./lib/isMultibyte":322,"./lib/isNull":323,"./lib/isNumeric":324,"./lib/isSurrogatePair":325,"./lib/isURL":326,"./lib/isUUID":327,"./lib/isUppercase":328,"./lib/isVariableWidth":329,"./lib/isWhitelisted":330,"./lib/ltrim":331,"./lib/matches":332,"./lib/normalizeEmail":333,"./lib/rtrim":334,"./lib/stripLow":335,"./lib/toBoolean":336,"./lib/toDate":337,"./lib/toFloat":338,"./lib/toInt":339,"./lib/trim":340,"./lib/unescape":341,"./lib/util/toString":344,"./lib/whitelist":345}],283:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});for(var d,e=c.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"nl-NL":/^[A-ZÉËÏÓÖÜ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},f=c.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nl-NL":/^[0-9A-ZÉËÏÓÖÜ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},g=c.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],h=0;h<g.length;h++)d="en-"+g[h],e[d]=e["en-US"],f[d]=f["en-US"];e["pt-BR"]=e["pt-PT"],f["pt-BR"]=f["pt-PT"];for(var i,j=c.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],k=0;k<j.length;k++)i="ar-"+j[k],e[i]=e.ar,f[i]=f.ar},{}],284:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a.replace(new RegExp("["+b+"]+","g"),"")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],285:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a.indexOf(i["default"](b))>=0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./util/toString"),i=d(h);b.exports=c["default"]},{"./util/assertString":342,"./util/toString":344}],286:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a===b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],287:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/`/g,"&#96;")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],288:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?String(new Date):arguments[1];g["default"](a);var c=i["default"](b),d=i["default"](a);return!!(d&&c&&d>c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./toDate"),i=d(h);b.exports=c["default"]},{"./toDate":337,"./util/assertString":342}],289:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?"en-US":arguments[1];if(g["default"](a),b in h.alpha)return h.alpha[b].test(a);throw new Error("Invalid locale '"+b+"'")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./alpha");b.exports=c["default"]},{"./alpha":283,"./util/assertString":342}],290:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?"en-US":arguments[1];if(g["default"](a),b in h.alphanumeric)return h.alphanumeric[b].test(a);throw new Error("Invalid locale '"+b+"'")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./alpha");b.exports=c["default"]},{"./alpha":283,"./util/assertString":342}],291:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[\x00-\x7F]+$/;b.exports=c["default"]},{"./util/assertString":342}],292:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a);var b=a.length;if(!b||b%4!==0||h.test(a))return!1;var c=a.indexOf("=");return-1===c||c===b-1||c===b-2&&"="===a[b-1]}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/[^A-Z0-9+\/=]/i;b.exports=c["default"]},{"./util/assertString":342}],293:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?String(new Date):arguments[1];g["default"](a);var c=i["default"](b),d=i["default"](a);return!!(d&&c&&c>d)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./toDate"),i=d(h);b.exports=c["default"]},{"./toDate":337,"./util/assertString":342}],294:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),["true","false","1","0"].indexOf(a)>=0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],295:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i["default"](a);var c=void 0,d=void 0;"object"===("undefined"==typeof b?"undefined":g(b))?(c=b.min||0,d=b.max):(c=arguments[1],d=arguments[2]);var e=encodeURI(a).split(/%..|./).length-1;return e>=c&&("undefined"==typeof d||d>=e)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h);b.exports=c["default"]},{"./util/assertString":342}],296:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a);var b=a.replace(/[^0-9]+/g,"");if(!h.test(b))return!1;for(var c=0,d=void 0,e=void 0,f=void 0,i=b.length-1;i>=0;i--)d=b.substring(i,i+1),e=parseInt(d,10),f?(e*=2,c+=e>=10?e%10+1:e):c+=e,f=!f;return!!(c%10===0?b:!1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;b.exports=c["default"]},{"./util/assertString":342}],297:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b="(\\"+a.symbol.replace(/\./g,"\\.")+")"+(a.require_symbol?"":"?"),c="-?",d="[1-9]\\d*",e="[1-9]\\d{0,2}(\\"+a.thousands_separator+"\\d{3})*",f=["0",d,e],g="("+f.join("|")+")?",h="(\\"+a.decimal_separator+"\\d{2})?",i=g+h;return a.allow_negatives&&!a.parens_for_negatives&&(a.negative_sign_after_digits?i+=c:a.negative_sign_before_digits&&(i=c+i)),a.allow_negative_sign_placeholder?i="( (?!\\-))?"+i:a.allow_space_after_symbol?i=" ?"+i:a.allow_space_after_digits&&(i+="( (?!$))?"),a.symbol_after_digits?i+=b:i=b+i,a.allow_negatives&&(a.parens_for_negatives?i="(\\("+i+"\\)|"+i+")":a.negative_sign_before_digits||a.negative_sign_after_digits||(i=c+i)),new RegExp("^(?!-? )(?=.*\\d)"+i+"$")}function f(a,b){return j["default"](a),b=h["default"](b,k),e(b).test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var g=a("./util/merge"),h=d(g),i=a("./util/assertString"),j=d(i),k={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};b.exports=c["default"]},{"./util/assertString":342,"./util/merge":343}],298:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9!\$&',\(\)\*\+,;=\-\._~:@\/\?%\s]*\s*$/i;b.exports=c["default"]},{"./util/assertString":342}],299:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.match(i.iso8601),c=void 0,d=void 0,e=void 0,f=void 0;if(b){if(c=b[21],!c)return b[12]?null:0;if("z"===c||"Z"===c)return 0;d=b[22],-1!==c.indexOf(":")?(e=parseInt(b[23],10),f=parseInt(b[24],10)):(e=0,f=parseInt(b[23],10))}else{if(a=a.toLowerCase(),c=a.match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/),!c)return-1!==a.indexOf("gmt")?0:null;d=c[1];var g=c[2];3===g.length&&(g="0"+g),g.length<=2?(e=0,f=parseInt(g,10)):(e=parseInt(g.slice(0,2),10),f=parseInt(g.slice(2,4),10))}return(60*e+f)*("-"===d?1:-1)}function f(a){h["default"](a);var b=new Date(Date.parse(a));if(isNaN(b))return!1;var c=e(a);if(null!==c){var d=b.getTimezoneOffset()-c;b=new Date(b.getTime()+6e4*d)}var f=String(b.getDate()),g=void 0,i=void 0,j=void 0;return(i=a.match(/(^|[^:\d])[23]\d([^T:\d]|$)/g))?(g=i.map(function(a){return a.match(/\d+/g)[0]}).join("/"),j=String(b.getFullYear()).slice(-2),g===f||g===j?!0:g===""+f/j||g===""+j/f?!0:!1):!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var g=a("./util/assertString"),h=d(g),i=a("./isISO8601");b.exports=c["default"]},{"./isISO8601":312,"./util/assertString":342}],300:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),""!==a&&h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/;b.exports=c["default"]},{"./util/assertString":342}],301:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),i["default"](a)%parseInt(b,10)===0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./toFloat"),i=d(h);b.exports=c["default"]},{"./toFloat":338,"./util/assertString":342}],302:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(g["default"](a),b=i["default"](b,n),b.allow_display_name){var c=a.match(o);c&&(a=c[1])}var d=a.split("@"),e=d.pop(),f=d.join("@"),h=e.toLowerCase();if(("gmail.com"===h||"googlemail.com"===h)&&(f=f.replace(/\./g,"").toLowerCase()),!k["default"](f,{max:64})||!k["default"](e,{max:256}))return!1;if(!m["default"](e,{require_tld:b.require_tld}))return!1;if('"'===f[0])return f=f.slice(1,f.length-1),b.allow_utf8_local_part?s.test(f):q.test(f);for(var j=b.allow_utf8_local_part?r:p,l=f.split("."),t=0;t<l.length;t++)if(!j.test(l[t]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./util/merge"),i=d(h),j=a("./isByteLength"),k=d(j),l=a("./isFQDN"),m=d(l),n={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,q=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,r=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,s=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;b.exports=c["default"]},{"./isByteLength":295,"./isFQDN":303,"./util/assertString":342,"./util/merge":343}],303:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a),b=i["default"](b,j),b.allow_trailing_dot&&"."===a[a.length-1]&&(a=a.substring(0,a.length-1));var c=a.split(".");if(b.require_tld){var d=c.pop();if(!c.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(d))return!1}for(var e,f=0;f<c.length;f++){if(e=c[f],b.allow_underscores&&(e=e.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(e))return!1;if(/[\uff01-\uff5e]/.test(e))return!1;if("-"===e[0]||"-"===e[e.length-1])return!1}return!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./util/merge"),i=d(h),j={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};b.exports=c["default"]},{"./util/assertString":342,"./util/merge":343}],304:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),b=b||{},""===a||"."===a?!1:h.test(a)&&(!b.hasOwnProperty("min")||a>=b.min)&&(!b.hasOwnProperty("max")||a<=b.max)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;b.exports=c["default"]},{"./util/assertString":342}],305:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.fullWidth=void 0,c["default"]=e;var f=a("./util/assertString"),g=d(f),h=c.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},{"./util/assertString":342}],306:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.halfWidth=void 0,c["default"]=e;var f=a("./util/assertString"),g=d(f),h=c.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},{"./util/assertString":342}],307:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;b.exports=c["default"]},{"./util/assertString":342}],308:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[0-9A-F]+$/i;b.exports=c["default"]},{"./util/assertString":342}],309:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(g["default"](a),b=String(b),!b)return e(a,4)||e(a,6);if("4"===b){if(!h.test(a))return!1;var c=a.split(".").sort(function(a,b){return a-b});return c[3]<=255}if("6"===b){var d=a.split(":"),f=!1,j=e(d[d.length-1],4),k=j?7:8;if(d.length>k)return!1;if("::"===a)return!0;"::"===a.substr(0,2)?(d.shift(),d.shift(),f=!0):"::"===a.substr(a.length-2)&&(d.pop(),d.pop(),f=!0);for(var l=0;l<d.length;++l)if(""===d[l]&&l>0&&l<d.length-1){if(f)return!1;f=!0}else if(j&&l===d.length-1);else if(!i.test(d[l]))return!1;return f?d.length>=1:d.length===k}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,i=/^[0-9A-F]{1,4}$/i;b.exports=c["default"]},{"./util/assertString":342}],310:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(g["default"](a),b=String(b),!b)return e(a,10)||e(a,13);var c=a.replace(/[\s-]+/g,""),d=0,f=void 0;if("10"===b){if(!h.test(c))return!1;for(f=0;9>f;f++)d+=(f+1)*c.charAt(f);if(d+="X"===c.charAt(9)?100:10*c.charAt(9),d%11===0)return!!c}else if("13"===b){if(!i.test(c))return!1;for(f=0;12>f;f++)d+=j[f%2]*c.charAt(f);if(c.charAt(12)-(10-d%10)%10===0)return!!c}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:[0-9]{9}X|[0-9]{10})$/,i=/^(?:[0-9]{13})$/,j=[1,3];b.exports=c["default"]},{"./util/assertString":342}],311:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(g["default"](a),!h.test(a))return!1;for(var b=a.replace(/[A-Z]/g,function(a){return parseInt(a,36)}),c=0,d=void 0,e=void 0,f=!0,i=b.length-2;i>=0;i--)d=b.substring(i,i+1),e=parseInt(d,10),f?(e*=2,c+=e>=10?e+1:e):c+=e,f=!f;return parseInt(a.substr(a.length-1),10)===(1e4-c)%10}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;b.exports=c["default"]},{"./util/assertString":342}],312:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.iso8601=void 0,c["default"]=function(a){return f["default"](a),g.test(a)};var e=a("./util/assertString"),f=d(e),g=c.iso8601=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/},{"./util/assertString":342}],313:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i["default"](a);var c=void 0;if("[object Array]"===Object.prototype.toString.call(b)){var d=[];for(c in b)({}).hasOwnProperty.call(b,c)&&(d[c]=k["default"](b[c]));return d.indexOf(a)>=0}return"object"===("undefined"==typeof b?"undefined":g(b))?b.hasOwnProperty(a):b&&"function"==typeof b.indexOf?b.indexOf(a)>=0:!1}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h),j=a("./util/toString"),k=d(j);b.exports=c["default"]},{"./util/assertString":342,"./util/toString":344}],314:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a),b=b||{};var c=b.hasOwnProperty("allow_leading_zeroes")&&b.allow_leading_zeroes?i:h,d=!b.hasOwnProperty("min")||a>=b.min,e=!b.hasOwnProperty("max")||a<=b.max;return c.test(a)&&d&&e}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,i=/^[-+]?[0-9]+$/;b.exports=c["default"]},{"./util/assertString":342}],315:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){i["default"](a);try{var b=JSON.parse(a);return!!b&&"object"===("undefined"==typeof b?"undefined":g(b))}catch(c){}return!1}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h);b.exports=c["default"]},{"./util/assertString":342}],316:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i["default"](a);var c=void 0,d=void 0;"object"===("undefined"==typeof b?"undefined":g(b))?(c=b.min||0,d=b.max):(c=arguments[1],d=arguments[2]);var e=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],f=a.length-e.length;return f>=c&&("undefined"==typeof d||d>=f)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":f(a)};c["default"]=e;var h=a("./util/assertString"),i=d(h);b.exports=c["default"]},{"./util/assertString":342}],317:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a===a.toLowerCase()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],318:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;b.exports=c["default"]},{"./util/assertString":342}],319:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[a-f0-9]{32}$/;b.exports=c["default"]},{"./util/assertString":342}],320:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),b in h?h[b].test(a):!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h={"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"da-DK":/^(\+?45)?(\d{8})$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)\d{1,4}[ \-]?\d{1,4}[ \-]?\d{4}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};h["en-CA"]=h["en-US"],h["fr-BE"]=h["nl-BE"],b.exports=c["default"]},{"./util/assertString":342}],321:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),i["default"](a)&&24===a.length}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./isHexadecimal"),i=d(h);b.exports=c["default"]},{"./isHexadecimal":308,"./util/assertString":342}],322:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/[^\x00-\x7F]/;b.exports=c["default"]},{"./util/assertString":342}],323:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),
0===a.length}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],324:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/^[-+]?[0-9]+$/;b.exports=c["default"]},{"./util/assertString":342}],325:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;b.exports=c["default"]},{"./util/assertString":342}],326:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(a===d||e(d)&&d.test(a))return!0}return!1}function g(a,b){if(i["default"](a),!a||a.length>=2083||/\s/.test(a))return!1;if(0===a.indexOf("mailto:"))return!1;b=o["default"](b,p);var c=void 0,d=void 0,e=void 0,g=void 0,h=void 0,j=void 0,l=void 0,n=void 0;if(l=a.split("#"),a=l.shift(),l=a.split("?"),a=l.shift(),l=a.split("://"),l.length>1){if(c=l.shift(),b.require_valid_protocol&&-1===b.protocols.indexOf(c))return!1}else{if(b.require_protocol)return!1;b.allow_protocol_relative_urls&&"//"===a.substr(0,2)&&(l[0]=a.substr(2))}if(a=l.join("://"),l=a.split("/"),a=l.shift(),""===a&&!b.require_host)return!0;if(l=a.split("@"),l.length>1&&(d=l.shift(),d.indexOf(":")>=0&&d.split(":").length>2))return!1;g=l.join("@"),j=n=null;var r=g.match(q);return r?(e="",n=r[1],j=r[2]||null):(l=g.split(":"),e=l.shift(),l.length&&(j=l.join(":"))),null!==j&&(h=parseInt(j,10),!/^[0-9]+$/.test(j)||0>=h||h>65535)?!1:m["default"](e)||k["default"](e,b)||n&&m["default"](n,6)||"localhost"===e?(e=e||n,b.host_whitelist&&!f(e,b.host_whitelist)?!1:b.host_blacklist&&f(e,b.host_blacklist)?!1:!0):!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=g;var h=a("./util/assertString"),i=d(h),j=a("./isFQDN"),k=d(j),l=a("./isIP"),m=d(l),n=a("./util/merge"),o=d(n),p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},q=/^\[([^\]]+)\](?::([0-9]+))?$/;b.exports=c["default"]},{"./isFQDN":303,"./isIP":309,"./util/assertString":342,"./util/merge":343}],327:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=arguments.length<=1||void 0===arguments[1]?"all":arguments[1];g["default"](a);var c=h[b];return c&&c.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};b.exports=c["default"]},{"./util/assertString":342}],328:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a===a.toUpperCase()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],329:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),h.fullWidth.test(a)&&i.halfWidth.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./isFullWidth"),i=a("./isHalfWidth");b.exports=c["default"]},{"./isFullWidth":305,"./isHalfWidth":306,"./util/assertString":342}],330:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);for(var c=a.length-1;c>=0;c--)if(-1===b.indexOf(a[c]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],331:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);var c=b?new RegExp("^["+b+"]+","g"):/^\s+/g;return a.replace(c,"")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],332:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){return g["default"](a),"[object RegExp]"!==Object.prototype.toString.call(b)&&(b=new RegExp(b,c)),b.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],333:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(b=i["default"](b,j),!g["default"](a))return!1;var c=a.split("@",2);if(c[1]=c[1].toLowerCase(),"gmail.com"===c[1]||"googlemail.com"===c[1]){if(b.remove_extension&&(c[0]=c[0].split("+")[0]),b.remove_dots&&(c[0]=c[0].replace(/\./g,"")),!c[0].length)return!1;c[0]=c[0].toLowerCase(),c[1]="gmail.com"}else b.lowercase&&(c[0]=c[0].toLowerCase());return c.join("@")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./isEmail"),g=d(f),h=a("./util/merge"),i=d(h),j={lowercase:!0,remove_dots:!0,remove_extension:!0};b.exports=c["default"]},{"./isEmail":302,"./util/merge":343}],334:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);for(var c=b?new RegExp("["+b+"]"):/\s/,d=a.length-1;d>=0&&c.test(a[d]);)d--;return d<a.length?a.substr(0,d+1):a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],335:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"](a);var c=b?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return i["default"](a,c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f),h=a("./blacklist"),i=d(h);b.exports=c["default"]},{"./blacklist":284,"./util/assertString":342}],336:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),b?"1"===a||"true"===a:"0"!==a&&"false"!==a&&""!==a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],337:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a=Date.parse(a),isNaN(a)?null:new Date(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],338:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),parseFloat(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],339:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),parseInt(a,b||10)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],340:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](i["default"](a,b),b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./rtrim"),g=d(f),h=a("./ltrim"),i=d(h);b.exports=c["default"]},{"./ltrim":331,"./rtrim":334}],341:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return g["default"](a),a.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],342:[function(a,b,c){"use strict";function d(a){if("string"!=typeof a)throw new TypeError("This library (validator.js) validates strings only")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],343:[function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=arguments[1];for(var c in b)"undefined"==typeof a[c]&&(a[c]=b[c]);return a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],344:[function(a,b,c){"use strict";function d(a){return"object"===("undefined"==typeof a?"undefined":f(a))&&null!==a?a="function"==typeof a.toString?a.toString():"[object Object]":(null===a||"undefined"==typeof a||isNaN(a)&&!a.length)&&(a=""),String(a)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":e(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":e(a)};c["default"]=d,b.exports=c["default"]},{}],345:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g["default"](a),a.replace(new RegExp("[^"+b+"]+","g"),"")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("./util/assertString"),g=d(f);b.exports=c["default"]},{"./util/assertString":342}],346:[function(a,b,c){"use strict";(function(){c.stripBOM=function(a){return"\ufeff"===a[0]?a.substring(1):a}}).call(void 0)},{}],347:[function(a,b,c){"use strict";(function(){var a;a=new RegExp(/(?!xmlns)^.*:/),c.normalize=function(a){return a.toLowerCase()},c.firstCharLowerCase=function(a){return a.charAt(0).toLowerCase()+a.slice(1)},c.stripPrefix=function(b){return b.replace(a,"")},c.parseNumbers=function(a){return isNaN(a)||(a=a%1===0?parseInt(a,10):parseFloat(a)),a},c.parseBooleans=function(a){return/^(?:true|false)$/i.test(a)&&(a="true"===a.toLowerCase()),a}}).call(void 0)},{}],348:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var b,e,f,g,h,i,j,k,l,m,n,o=function(a,b){function c(){this.constructor=a}for(var d in b)p.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},p={}.hasOwnProperty,q=function(a,b){return function(){return a.apply(b,arguments)}};l=a("sax"),g=a("events"),e=a("xmlbuilder"),b=a("./bom"),j=a("./processors"),m=a("timers").setImmediate,h=function(a){return"object"===("undefined"==typeof a?"undefined":d(a))&&null!=a&&0===Object.keys(a).length},i=function(a,b){var c,d,e;for(c=0,d=a.length;d>c;c++)e=a[c],b=e(b);return b},k=function(a){return a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0},n=function(a){return"<![CDATA["+f(a)+"]]>"},f=function(a){return a.replace("]]>","]]]]><![CDATA[>")},c.processors=j,c.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}},c.ValidationError=function(a){function b(a){this.message=a}return o(b,a),b}(Error),c.Builder=function(){function a(a){var b,d,e;this.options={},d=c.defaults[.2];for(b in d)p.call(d,b)&&(e=d[b],this.options[b]=e);for(b in a)p.call(a,b)&&(e=a[b],this.options[b]=e)}return a.prototype.buildObject=function(a){var b,f,g,h,i;return b=this.options.attrkey,f=this.options.charkey,1===Object.keys(a).length&&this.options.rootName===c.defaults[.2].rootName?(i=Object.keys(a)[0],a=a[i]):i=this.options.rootName,g=function(a){return function(c,e){var h,i,j,l,m,o;if("object"!==("undefined"==typeof e?"undefined":d(e)))a.options.cdata&&k(e)?c.raw(n(e)):c.txt(e);else for(m in e)if(p.call(e,m))if(i=e[m],m===b){if("object"===("undefined"==typeof i?"undefined":d(i)))for(h in i)o=i[h],c=c.att(h,o)}else if(m===f)c=a.options.cdata&&k(i)?c.raw(n(i)):c.txt(i);else if(Array.isArray(i))for(l in i)p.call(i,l)&&(j=i[l],c="string"==typeof j?a.options.cdata&&k(j)?c.ele(m).raw(n(j)).up():c.ele(m,j).up():g(c.ele(m),j).up());else"object"===("undefined"==typeof i?"undefined":d(i))?c=g(c.ele(m),i).up():"string"==typeof i&&a.options.cdata&&k(i)?c=c.ele(m).raw(n(i)).up():(null==i&&(i=""),c=c.ele(m,i.toString()).up());return c}}(this),h=e.create(i,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),g(h,a).end(this.options.renderOpts)},a}(),c.Parser=function(a){function e(a){this.parseString=q(this.parseString,this),this.reset=q(this.reset,this),this.assignOrPush=q(this.assignOrPush,this),this.processAsync=q(this.processAsync,this);var b,d,e;if(!(this instanceof c.Parser))return new c.Parser(a);this.options={},d=c.defaults[.2];for(b in d)p.call(d,b)&&(e=d[b],this.options[b]=e);for(b in a)p.call(a,b)&&(e=a[b],this.options[b]=e);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(j.normalize)),this.reset()}return o(e,a),e.prototype.processAsync=function(){var a,b,c;try{return this.remaining.length<=this.options.chunkSize?(a=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(a),this.saxParser.close()):(a=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(a),m(this.processAsync))}catch(c){if(b=c,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(b)}},e.prototype.assignOrPush=function(a,b,c){return b in a?(a[b]instanceof Array||(a[b]=[a[b]]),a[b].push(c)):this.options.explicitArray?a[b]=[c]:a[b]=c},e.prototype.reset=function(){var a,b,c,e;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(a){return function(b){return a.saxParser.resume(),a.saxParser.errThrown?void 0:(a.saxParser.errThrown=!0,a.emit("error",b))}}(this),this.saxParser.onend=function(a){return function(){return a.saxParser.ended?void 0:(a.saxParser.ended=!0,a.emit("end",a.resultObject))}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,e=[],a=this.options.attrkey,b=this.options.charkey,this.saxParser.onopentag=function(c){return function(d){var f,g,h,j,k;if(h={},h[b]="",!c.options.ignoreAttrs){k=d.attributes;for(f in k)p.call(k,f)&&(a in h||c.options.mergeAttrs||(h[a]={}),g=c.options.attrValueProcessors?i(c.options.attrValueProcessors,d.attributes[f]):d.attributes[f],j=c.options.attrNameProcessors?i(c.options.attrNameProcessors,f):f,c.options.mergeAttrs?c.assignOrPush(h,j,g):h[a][j]=g)}return h["#name"]=c.options.tagNameProcessors?i(c.options.tagNameProcessors,d.name):d.name,c.options.xmlns&&(h[c.options.xmlnskey]={uri:d.uri,local:d.local}),e.push(h)}}(this),this.saxParser.onclosetag=function(a){return function(){var c,f,g,j,k,l,m,n,o,q,r,s;if(n=e.pop(),m=n["#name"],a.options.explicitChildren&&a.options.preserveChildrenOrder||delete n["#name"],n.cdata===!0&&(c=n.cdata,delete n.cdata),r=e[e.length-1],n[b].match(/^\s*$/)&&!c?(f=n[b],delete n[b]):(a.options.trim&&(n[b]=n[b].trim()),a.options.normalize&&(n[b]=n[b].replace(/\s{2,}/g," ").trim()),n[b]=a.options.valueProcessors?i(a.options.valueProcessors,n[b]):n[b],1===Object.keys(n).length&&b in n&&!a.EXPLICIT_CHARKEY&&(n=n[b])),h(n)&&(n=""!==a.options.emptyTag?a.options.emptyTag:f),null!=a.options.validator){s="/"+function(){var a,b,c;for(c=[],a=0,b=e.length;b>a;a++)l=e[a],c.push(l["#name"]);return c}().concat(m).join("/");try{n=a.options.validator(s,r&&r[m],n)}catch(j){g=j,a.emit("error",g)}}if(a.options.explicitChildren&&!a.options.mergeAttrs&&"object"===("undefined"==typeof n?"undefined":d(n)))if(a.options.preserveChildrenOrder){if(r){r[a.options.childkey]=r[a.options.childkey]||[],o={};for(k in n)p.call(n,k)&&(o[k]=n[k]);r[a.options.childkey].push(o),delete n["#name"],1===Object.keys(n).length&&b in n&&!a.EXPLICIT_CHARKEY&&(n=n[b])}}else l={},a.options.attrkey in n&&(l[a.options.attrkey]=n[a.options.attrkey],delete n[a.options.attrkey]),!a.options.charsAsChildren&&a.options.charkey in n&&(l[a.options.charkey]=n[a.options.charkey],delete n[a.options.charkey]),Object.getOwnPropertyNames(n).length>0&&(l[a.options.childkey]=n),n=l;return e.length>0?a.assignOrPush(r,m,n):(a.options.explicitRoot&&(q=n,n={},n[m]=q),a.resultObject=n,a.saxParser.ended=!0,a.emit("end",a.resultObject))}}(this),c=function(a){return function(c){var d,f;return f=e[e.length-1],f?(f[b]+=c,a.options.explicitChildren&&a.options.preserveChildrenOrder&&a.options.charsAsChildren&&(a.options.includeWhiteChars||""!==c.replace(/\\n/g,"").trim())&&(f[a.options.childkey]=f[a.options.childkey]||[],d={"#name":"__text__"},d[b]=c,a.options.normalize&&(d[b]=d[b].replace(/\s{2,}/g," ").trim()),f[a.options.childkey].push(d)),f):void 0}}(this),this.saxParser.ontext=c,this.saxParser.oncdata=function(a){return function(a){var b;return b=c(a),b?b.cdata=!0:void 0}}(this)},e.prototype.parseString=function(a,c){var d,e;null!=c&&"function"==typeof c&&(this.on("end",function(a){return this.reset(),c(null,a)}),this.on("error",function(a){return this.reset(),c(a)}));try{return a=a.toString(),""===a.trim()?(this.emit("end",null),!0):(a=b.stripBOM(a),this.options.async?(this.remaining=a,m(this.processAsync),this.saxParser):this.saxParser.write(a).close())}catch(e){if(d=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",d),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw d}},e}(g.EventEmitter),c.parseString=function(a,b,e){var f,g,h;return null!=e?("function"==typeof e&&(f=e),"object"===("undefined"==typeof b?"undefined":d(b))&&(g=b)):("function"==typeof b&&(f=b),g={}),h=new c.Parser(g),h.parseString(a,f)}}).call(void 0)},{"./bom":346,"./processors":347,events:14,sax:249,timers:276,xmlbuilder:365}],349:[function(a,b,c){"use strict";(function(){var c,d;d=a("lodash/create"),b.exports=c=function(){function a(a,b,c){if(this.stringify=a.stringify,null==b)throw new Error("Missing attribute name of element "+a.name);if(null==c)throw new Error("Missing attribute value for attribute "+b+" of element "+a.name);this.name=this.stringify.attName(b),this.value=this.stringify.attValue(c)}return a.prototype.clone=function(){return d(a.prototype,this)},a.prototype.toString=function(a,b){return" "+this.name+'="'+this.value+'"'},a}()}).call(void 0)},{"lodash/create":186}],350:[function(a,b,c){"use strict";(function(){var c,d,e,f,g;g=a("./XMLStringifier"),d=a("./XMLDeclaration"),e=a("./XMLDocType"),f=a("./XMLElement"),b.exports=c=function(){function a(a,b){var c,d;if(null==a)throw new Error("Root element needs a name");null==b&&(b={}),this.options=b,this.stringify=new g(b),d=new f(this,"doc"),c=d.element(a),c.isRoot=!0,c.documentObject=this,this.rootObject=c,b.headless||(c.declaration(b),(null!=b.pubID||null!=b.sysID)&&c.doctype(b))}return a.prototype.root=function(){return this.rootObject},a.prototype.end=function(a){return this.toString(a)},a.prototype.toString=function(a){var b,c,d,e,f,g,h,i;return e=(null!=a?a.pretty:void 0)||!1,b=null!=(g=null!=a?a.indent:void 0)?g:"  ",d=null!=(h=null!=a?a.offset:void 0)?h:0,c=null!=(i=null!=a?a.newline:void 0)?i:"\n",f="",null!=this.xmldec&&(f+=this.xmldec.toString(a)),null!=this.doctype&&(f+=this.doctype.toString(a)),f+=this.rootObject.toString(a),e&&f.slice(-c.length)===c&&(f=f.slice(0,-c.length)),f},a}()}).call(void 0)},{"./XMLDeclaration":357,"./XMLDocType":358,"./XMLElement":359,"./XMLStringifier":363}],351:[function(a,b,c){"use strict";(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("lodash/create"),d=a("./XMLNode"),b.exports=c=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(c)}return f(b,a),b.prototype.clone=function(){return e(b.prototype,this)},b.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<![CDATA["+this.text+"]]>",f&&(g+=d),g},b}(d)}).call(void 0)},{"./XMLNode":360,"lodash/create":186}],352:[function(a,b,c){"use strict";(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("lodash/create"),d=a("./XMLNode"),b.exports=c=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing comment text");this.text=this.stringify.comment(c)}return f(b,a),b.prototype.clone=function(){return e(b.prototype,this)},b.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<!-- "+this.text+" -->",f&&(g+=d),g},b}(d)}).call(void 0)},{"./XMLNode":360,"lodash/create":186}],353:[function(a,b,c){"use strict";(function(){var c,d;d=a("lodash/create"),b.exports=c=function(){function a(a,b,c,d,e,f){if(this.stringify=a.stringify,null==b)throw new Error("Missing DTD element name");if(null==c)throw new Error("Missing DTD attribute name");if(!d)throw new Error("Missing DTD attribute type");if(!e)throw new Error("Missing DTD attribute default");if(0!==e.indexOf("#")&&(e="#"+e),!e.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(f&&!e.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(b),this.attributeName=this.stringify.attName(c),this.attributeType=this.stringify.dtdAttType(d),this.defaultValue=this.stringify.dtdAttDefault(f),this.defaultValueType=e}return a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<!ATTLIST "+this.elementName+" "+this.attributeName+" "+this.attributeType,"#DEFAULT"!==this.defaultValueType&&(g+=" "+this.defaultValueType),this.defaultValue&&(g+=' "'+this.defaultValue+'"'),g+=">",f&&(g+=d),g},a}()}).call(void 0)},{"lodash/create":186}],354:[function(a,b,c){"use strict";(function(){var c,d;d=a("lodash/create"),b.exports=c=function(){function a(a,b,c){if(this.stringify=a.stringify,null==b)throw new Error("Missing DTD element name");c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.eleName(b),this.value=this.stringify.dtdElementValue(c)}return a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<!ELEMENT "+this.name+" "+this.value+">",f&&(g+=d),g},a}()}).call(void 0)},{"lodash/create":186}],355:[function(a,b,c){"use strict";(function(){var c,d,e;d=a("lodash/create"),e=a("lodash/isObject"),b.exports=c=function(){function a(a,b,c,d){if(this.stringify=a.stringify,null==c)throw new Error("Missing entity name");if(null==d)throw new Error("Missing entity value");if(this.pe=!!b,this.name=this.stringify.eleName(c),e(d)){if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity");if(null!=d.pubID&&(this.pubID=this.stringify.dtdPubID(d.pubID)),null!=d.sysID&&(this.sysID=this.stringify.dtdSysID(d.sysID)),null!=d.nData&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(d)}return a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<!ENTITY",this.pe&&(g+=" %"),g+=" "+this.name,this.value?g+=' "'+this.value+'"':(this.pubID&&this.sysID?g+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(g+=' SYSTEM "'+this.sysID+'"'),this.nData&&(g+=" NDATA "+this.nData)),g+=">",f&&(g+=d),g},a}()}).call(void 0)},{"lodash/create":186,"lodash/isObject":199}],356:[function(a,b,c){"use strict";(function(){var c,d;d=a("lodash/create"),b.exports=c=function(){function a(a,b,c){if(this.stringify=a.stringify,null==b)throw new Error("Missing notation name");if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(b),null!=c.pubID&&(this.pubID=this.stringify.dtdPubID(c.pubID)),null!=c.sysID&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<!NOTATION "+this.name,this.pubID&&this.sysID?g+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.pubID?g+=' PUBLIC "'+this.pubID+'"':this.sysID&&(g+=' SYSTEM "'+this.sysID+'"'),g+=">",f&&(g+=d),g},a}()}).call(void 0)},{"lodash/create":186}],357:[function(a,b,c){"use strict";(function(){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;e=a("lodash/create"),f=a("lodash/isObject"),d=a("./XMLNode"),b.exports=c=function(a){function b(a,c,d,e){var g;b.__super__.constructor.call(this,a),f(c)&&(g=c,c=g.version,d=g.encoding,e=g.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),null!=d&&(this.encoding=this.stringify.xmlEncoding(d)),null!=e&&(this.standalone=this.stringify.xmlStandalone(e))}return g(b,a),b.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<?xml",g+=' version="'+this.version+'"',null!=this.encoding&&(g+=' encoding="'+this.encoding+'"'),null!=this.standalone&&(g+=' standalone="'+this.standalone+'"'),g+="?>",f&&(g+=d),g},b}(d)}).call(void 0)},{"./XMLNode":360,"lodash/create":186,"lodash/isObject":199}],358:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l;k=a("lodash/create"),l=a("lodash/isObject"),c=a("./XMLCData"),d=a("./XMLComment"),e=a("./XMLDTDAttList"),g=a("./XMLDTDEntity"),f=a("./XMLDTDElement"),h=a("./XMLDTDNotation"),j=a("./XMLProcessingInstruction"),b.exports=i=function(){function a(a,b,c){var d,e;this.documentObject=a,this.stringify=this.documentObject.stringify,this.children=[],l(b)&&(d=b,b=d.pubID,c=d.sysID),null==c&&(e=[b,c],c=e[0],b=e[1]),null!=b&&(this.pubID=this.stringify.dtdPubID(b)),null!=c&&(this.sysID=this.stringify.dtdSysID(c))}return a.prototype.element=function(a,b){var c;return c=new f(this,a,b),this.children.push(c),this},a.prototype.attList=function(a,b,c,d,f){var g;return g=new e(this,a,b,c,d,f),this.children.push(g),this},a.prototype.entity=function(a,b){var c;return c=new g(this,!1,a,b),this.children.push(c),this},a.prototype.pEntity=function(a,b){var c;return c=new g(this,!0,a,b),this.children.push(c),this},a.prototype.notation=function(a,b){var c;return c=new h(this,a,b),this.children.push(c),this},a.prototype.cdata=function(a){var b;return b=new c(this,a),this.children.push(b),this},a.prototype.comment=function(a){var b;return b=new d(this,a),this.children.push(b),this},a.prototype.instruction=function(a,b){var c;return c=new j(this,a,b),this.children.push(c),this},a.prototype.root=function(){return this.documentObject.root()},a.prototype.document=function(){return this.documentObject},a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(i=(null!=a?a.pretty:void 0)||!1,e=null!=(k=null!=a?a.indent:void 0)?k:"  ",h=null!=(l=null!=a?a.offset:void 0)?l:0,g=null!=(m=null!=a?a.newline:void 0)?m:"\n",b||(b=0),o=new Array(b+h+1).join(e),j="",i&&(j+=o),j+="<!DOCTYPE "+this.root().name,this.pubID&&this.sysID?j+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(j+=' SYSTEM "'+this.sysID+'"'),this.children.length>0){for(j+=" [",i&&(j+=g),n=this.children,d=0,f=n.length;f>d;d++)c=n[d],j+=c.toString(a,b+1);j+="]"}return j+=">",i&&(j+=g),j},a.prototype.ele=function(a,b){return this.element(a,b)},a.prototype.att=function(a,b,c,d,e){return this.attList(a,b,c,d,e)},a.prototype.ent=function(a,b){return this.entity(a,b)},a.prototype.pent=function(a,b){return this.pEntity(a,b)},a.prototype.not=function(a,b){return this.notation(a,b)},a.prototype.dat=function(a){return this.cdata(a)},a.prototype.com=function(a){return this.comment(a)},a.prototype.ins=function(a,b){return this.instruction(a,b)},a.prototype.up=function(){return this.root()},a.prototype.doc=function(){return this.document()},a}()}).call(void 0)},{"./XMLCData":351,"./XMLComment":352,"./XMLDTDAttList":353,"./XMLDTDElement":354,"./XMLDTDEntity":355,"./XMLDTDNotation":356,"./XMLProcessingInstruction":361,"lodash/create":186,"lodash/isObject":199}],359:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},l={}.hasOwnProperty;g=a("lodash/create"),j=a("lodash/isObject"),i=a("lodash/isFunction"),h=a("lodash/every"),e=a("./XMLNode"),c=a("./XMLAttribute"),f=a("./XMLProcessingInstruction"),
b.exports=d=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing element name");this.name=this.stringify.eleName(c),this.children=[],this.instructions=[],this.attributes={},null!=d&&this.attribute(d)}return k(b,a),b.prototype.clone=function(){var a,c,d,e,f,h,i,j;d=g(b.prototype,this),d.isRoot&&(d.documentObject=null),d.attributes={},i=this.attributes;for(c in i)l.call(i,c)&&(a=i[c],d.attributes[c]=a.clone());for(d.instructions=[],j=this.instructions,e=0,f=j.length;f>e;e++)h=j[e],d.instructions.push(h.clone());return d.children=[],this.children.forEach(function(a){var b;return b=a.clone(),b.parent=d,d.children.push(b)}),d},b.prototype.attribute=function(a,b){var d,e;if(null!=a&&(a=a.valueOf()),j(a))for(d in a)l.call(a,d)&&(e=a[d],this.attribute(d,e));else i(b)&&(b=b.apply()),this.options.skipNullAttributes&&null==b||(this.attributes[a]=new c(this,a,b));return this},b.prototype.removeAttribute=function(a){var b,c,d;if(null==a)throw new Error("Missing attribute name");if(a=a.valueOf(),Array.isArray(a))for(c=0,d=a.length;d>c;c++)b=a[c],delete this.attributes[b];else delete this.attributes[a];return this},b.prototype.instruction=function(a,b){var c,d,e,g,h;if(null!=a&&(a=a.valueOf()),null!=b&&(b=b.valueOf()),Array.isArray(a))for(c=0,h=a.length;h>c;c++)d=a[c],this.instruction(d);else if(j(a))for(d in a)l.call(a,d)&&(e=a[d],this.instruction(d,e));else i(b)&&(b=b.apply()),g=new f(this,a,b),this.instructions.push(g);return this},b.prototype.toString=function(a,b){var c,d,e,f,g,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x;for(p=(null!=a?a.pretty:void 0)||!1,f=null!=(r=null!=a?a.indent:void 0)?r:"  ",o=null!=(s=null!=a?a.offset:void 0)?s:0,n=null!=(t=null!=a?a.newline:void 0)?t:"\n",b||(b=0),x=new Array(b+o+1).join(f),q="",u=this.instructions,e=0,j=u.length;j>e;e++)g=u[e],q+=g.toString(a,b);p&&(q+=x),q+="<"+this.name,v=this.attributes;for(m in v)l.call(v,m)&&(c=v[m],q+=c.toString(a));if(0===this.children.length||h(this.children,function(a){return""===a.value}))q+="/>",p&&(q+=n);else if(p&&1===this.children.length&&null!=this.children[0].value)q+=">",q+=this.children[0].value,q+="</"+this.name+">",q+=n;else{for(q+=">",p&&(q+=n),w=this.children,i=0,k=w.length;k>i;i++)d=w[i],q+=d.toString(a,b+1);p&&(q+=x),q+="</"+this.name+">",p&&(q+=n)}return q},b.prototype.att=function(a,b){return this.attribute(a,b)},b.prototype.ins=function(a,b){return this.instruction(a,b)},b.prototype.a=function(a,b){return this.attribute(a,b)},b.prototype.i=function(a,b){return this.instruction(a,b)},b}(e)}).call(void 0)},{"./XMLAttribute":349,"./XMLNode":360,"./XMLProcessingInstruction":361,"lodash/create":186,"lodash/every":188,"lodash/isFunction":197,"lodash/isObject":199}],360:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n={}.hasOwnProperty;m=a("lodash/isObject"),l=a("lodash/isFunction"),k=a("lodash/isEmpty"),g=null,c=null,d=null,e=null,f=null,i=null,j=null,b.exports=h=function(){function b(b){this.parent=b,this.options=this.parent.options,this.stringify=this.parent.stringify,null===g&&(g=a("./XMLElement"),c=a("./XMLCData"),d=a("./XMLComment"),e=a("./XMLDeclaration"),f=a("./XMLDocType"),i=a("./XMLRaw"),j=a("./XMLText"))}return b.prototype.element=function(a,b,c){var d,e,f,g,h,i,j,o,p,q;if(i=null,null==b&&(b={}),b=b.valueOf(),m(b)||(p=[b,c],c=p[0],b=p[1]),null!=a&&(a=a.valueOf()),Array.isArray(a))for(f=0,j=a.length;j>f;f++)e=a[f],i=this.element(e);else if(l(a))i=this.element(a.apply());else if(m(a)){for(h in a)if(n.call(a,h))if(q=a[h],l(q)&&(q=q.apply()),m(q)&&k(q)&&(q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===h.indexOf(this.stringify.convertAttKey))i=this.attribute(h.substr(this.stringify.convertAttKey.length),q);else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===h.indexOf(this.stringify.convertPIKey))i=this.instruction(h.substr(this.stringify.convertPIKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q))for(g=0,o=q.length;o>g;g++)e=q[g],d={},d[h]=e,i=this.element(d);else m(q)?(i=this.element(h),i.element(q)):i=this.element(h,q)}else i=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?this.text(c):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===a.indexOf(this.stringify.convertCDataKey)?this.cdata(c):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===a.indexOf(this.stringify.convertCommentKey)?this.comment(c):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===a.indexOf(this.stringify.convertRawKey)?this.raw(c):this.node(a,b,c);if(null==i)throw new Error("Could not create any elements with: "+a);return i},b.prototype.insertBefore=function(a,b,c){var d,e,f;if(this.isRoot)throw new Error("Cannot insert elements at root level");return e=this.parent.children.indexOf(this),f=this.parent.children.splice(e),d=this.parent.element(a,b,c),Array.prototype.push.apply(this.parent.children,f),d},b.prototype.insertAfter=function(a,b,c){var d,e,f;if(this.isRoot)throw new Error("Cannot insert elements at root level");return e=this.parent.children.indexOf(this),f=this.parent.children.splice(e+1),d=this.parent.element(a,b,c),Array.prototype.push.apply(this.parent.children,f),d},b.prototype.remove=function(){var a,b;if(this.isRoot)throw new Error("Cannot remove the root element");return a=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[a,a-a+1].concat(b=[])),b,this.parent},b.prototype.node=function(a,b,c){var d,e;return null!=a&&(a=a.valueOf()),null==b&&(b={}),b=b.valueOf(),m(b)||(e=[b,c],c=e[0],b=e[1]),d=new g(this,a,b),null!=c&&d.text(c),this.children.push(d),d},b.prototype.text=function(a){var b;return b=new j(this,a),this.children.push(b),this},b.prototype.cdata=function(a){var b;return b=new c(this,a),this.children.push(b),this},b.prototype.comment=function(a){var b;return b=new d(this,a),this.children.push(b),this},b.prototype.raw=function(a){var b;return b=new i(this,a),this.children.push(b),this},b.prototype.declaration=function(a,b,c){var d,f;return d=this.document(),f=new e(d,a,b,c),d.xmldec=f,d.root()},b.prototype.doctype=function(a,b){var c,d;return c=this.document(),d=new f(c,a,b),c.doctype=d,d},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){var a;if(this.isRoot)return this;for(a=this.parent;!a.isRoot;)a=a.parent;return a},b.prototype.document=function(){return this.root().documentObject},b.prototype.end=function(a){return this.document().toString(a)},b.prototype.prev=function(){var a;if(this.isRoot)throw new Error("Root node has no siblings");if(a=this.parent.children.indexOf(this),1>a)throw new Error("Already at the first node");return this.parent.children[a-1]},b.prototype.next=function(){var a;if(this.isRoot)throw new Error("Root node has no siblings");if(a=this.parent.children.indexOf(this),-1===a||a===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[a+1]},b.prototype.importXMLBuilder=function(a){var b;return b=a.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},b.prototype.ele=function(a,b,c){return this.element(a,b,c)},b.prototype.nod=function(a,b,c){return this.node(a,b,c)},b.prototype.txt=function(a){return this.text(a)},b.prototype.dat=function(a){return this.cdata(a)},b.prototype.com=function(a){return this.comment(a)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(a,b,c){return this.declaration(a,b,c)},b.prototype.dtd=function(a,b){return this.doctype(a,b)},b.prototype.e=function(a,b,c){return this.element(a,b,c)},b.prototype.n=function(a,b,c){return this.node(a,b,c)},b.prototype.t=function(a){return this.text(a)},b.prototype.d=function(a){return this.cdata(a)},b.prototype.c=function(a){return this.comment(a)},b.prototype.r=function(a){return this.raw(a)},b.prototype.u=function(){return this.up()},b}()}).call(void 0)},{"./XMLCData":351,"./XMLComment":352,"./XMLDeclaration":357,"./XMLDocType":358,"./XMLElement":359,"./XMLRaw":362,"./XMLText":364,"lodash/isEmpty":196,"lodash/isFunction":197,"lodash/isObject":199}],361:[function(a,b,c){"use strict";(function(){var c,d;d=a("lodash/create"),b.exports=c=function(){function a(a,b,c){if(this.stringify=a.stringify,null==b)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(b),c&&(this.value=this.stringify.insValue(c))}return a.prototype.clone=function(){return d(a.prototype,this)},a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+="<?",g+=this.target,this.value&&(g+=" "+this.value),g+="?>",f&&(g+=d),g},a}()}).call(void 0)},{"lodash/create":186}],362:[function(a,b,c){"use strict";(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("lodash/create"),c=a("./XMLNode"),b.exports=d=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing raw text");this.value=this.stringify.raw(c)}return f(b,a),b.prototype.clone=function(){return e(b.prototype,this)},b.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+=this.value,f&&(g+=d),g},b}(c)}).call(void 0)},{"./XMLNode":360,"lodash/create":186}],363:[function(a,b,c){"use strict";(function(){var a,c=function(a,b){return function(){return a.apply(b,arguments)}},d={}.hasOwnProperty;b.exports=a=function(){function a(a){this.assertLegalChar=c(this.assertLegalChar,this);var b,e,f;this.allowSurrogateChars=null!=a?a.allowSurrogateChars:void 0,this.noDoubleEncoding=null!=a?a.noDoubleEncoding:void 0,e=(null!=a?a.stringify:void 0)||{};for(b in e)d.call(e,b)&&(f=e[b],this[b]=f)}return a.prototype.eleName=function(a){return a=""+a||"",this.assertLegalChar(a)},a.prototype.eleText=function(a){return a=""+a||"",this.assertLegalChar(this.elEscape(a))},a.prototype.cdata=function(a){if(a=""+a||"",a.match(/]]>/))throw new Error("Invalid CDATA text: "+a);return this.assertLegalChar(a)},a.prototype.comment=function(a){if(a=""+a||"",a.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+a);return this.assertLegalChar(a)},a.prototype.raw=function(a){return""+a||""},a.prototype.attName=function(a){return""+a||""},a.prototype.attValue=function(a){return a=""+a||"",this.attEscape(a)},a.prototype.insTarget=function(a){return""+a||""},a.prototype.insValue=function(a){if(a=""+a||"",a.match(/\?>/))throw new Error("Invalid processing instruction value: "+a);return a},a.prototype.xmlVersion=function(a){if(a=""+a||"",!a.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+a);return a},a.prototype.xmlEncoding=function(a){if(a=""+a||"",!a.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+a);return a},a.prototype.xmlStandalone=function(a){return a?"yes":"no"},a.prototype.dtdPubID=function(a){return""+a||""},a.prototype.dtdSysID=function(a){return""+a||""},a.prototype.dtdElementValue=function(a){return""+a||""},a.prototype.dtdAttType=function(a){return""+a||""},a.prototype.dtdAttDefault=function(a){return null!=a?""+a||"":a},a.prototype.dtdEntityValue=function(a){return""+a||""},a.prototype.dtdNData=function(a){return""+a||""},a.prototype.convertAttKey="@",a.prototype.convertPIKey="?",a.prototype.convertTextKey="#text",a.prototype.convertCDataKey="#cdata",a.prototype.convertCommentKey="#comment",a.prototype.convertRawKey="#raw",a.prototype.assertLegalChar=function(a){var b,c;if(b=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,c=a.match(b))throw new Error("Invalid character ("+c+") in string: "+a+" at index "+c.index);return a},a.prototype.elEscape=function(a){var b;return b=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(b,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},a.prototype.attEscape=function(a){var b;return b=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(b,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},a}()}).call(void 0)},{}],364:[function(a,b,c){"use strict";(function(){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;e=a("lodash/create"),c=a("./XMLNode"),b.exports=d=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing element text");this.value=this.stringify.eleText(c)}return f(b,a),b.prototype.clone=function(){return e(b.prototype,this)},b.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k;return f=(null!=a?a.pretty:void 0)||!1,c=null!=(h=null!=a?a.indent:void 0)?h:"  ",e=null!=(i=null!=a?a.offset:void 0)?i:0,d=null!=(j=null!=a?a.newline:void 0)?j:"\n",b||(b=0),k=new Array(b+e+1).join(c),g="",f&&(g+=k),g+=this.value,f&&(g+=d),g},b}(c)}).call(void 0)},{"./XMLNode":360,"lodash/create":186}],365:[function(a,b,c){"use strict";(function(){var c,d;d=a("lodash/assign"),c=a("./XMLBuilder"),b.exports.create=function(a,b,e,f){return f=d({},b,e,f),new c(a,f).root()}}).call(void 0)},{"./XMLBuilder":350,"lodash/assign":184}],366:[function(a,b,c){"use strict";function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}],367:[function(a,b,c){"use strict";b.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},{}],368:[function(a,b,c){"use strict";var d=a("validator"),e={date:function(a){if("string"!=typeof a)return!0;var b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(a);return null===b?!1:b[2]<"01"||b[2]>"12"||b[3]<"01"||b[3]>"31"?!1:!0},"date-time":function(a){if("string"!=typeof a)return!0;var b=a.toLowerCase().split("t");if(!e.date(b[0]))return!1;var c=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(b[1]);return null===c?!1:c[1]>"23"||c[2]>"59"||c[3]>"59"?!1:!0},email:function(a){return"string"!=typeof a?!0:d.isEmail(a,{require_tld:!0})},hostname:function(a){if("string"!=typeof a)return!0;var b=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(a);if(b){if(a.length>255)return!1;for(var c=a.split("."),d=0;d<c.length;d++)if(c[d].length>63)return!1}return b},"host-name":function(a){return e.hostname.call(this,a)},ipv4:function(a){return"string"!=typeof a?!0:d.isIP(a,4)},ipv6:function(a){return"string"!=typeof a?!0:d.isIP(a,6)},regex:function(a){try{return RegExp(a),!0}catch(b){return!1}},uri:function(a){return this.options.strictUris?e["strict-uri"].apply(this,arguments):"string"!=typeof a||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(a)},"strict-uri":function(a){return"string"!=typeof a||d.isURL(a)}};b.exports=e},{validator:282}],369:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("./FormatValidators"),f=a("./Report"),g=a("./Utils"),h={multipleOf:function(a,b,c){"number"==typeof c&&"integer"!==g.whatIs(c/b.multipleOf)&&a.addError("MULTIPLE_OF",[c,b.multipleOf],null,b.description)},maximum:function(a,b,c){"number"==typeof c&&(b.exclusiveMaximum!==!0?c>b.maximum&&a.addError("MAXIMUM",[c,b.maximum],null,b.description):c>=b.maximum&&a.addError("MAXIMUM_EXCLUSIVE",[c,b.maximum],null,b.description))},exclusiveMaximum:function(){},minimum:function(a,b,c){"number"==typeof c&&(b.exclusiveMinimum!==!0?c<b.minimum&&a.addError("MINIMUM",[c,b.minimum],null,b.description):c<=b.minimum&&a.addError("MINIMUM_EXCLUSIVE",[c,b.minimum],null,b.description))},exclusiveMinimum:function(){},maxLength:function(a,b,c){"string"==typeof c&&g.ucs2decode(c).length>b.maxLength&&a.addError("MAX_LENGTH",[c.length,b.maxLength],null,b.description)},minLength:function(a,b,c){"string"==typeof c&&g.ucs2decode(c).length<b.minLength&&a.addError("MIN_LENGTH",[c.length,b.minLength],null,b.description)},pattern:function(a,b,c){"string"==typeof c&&RegExp(b.pattern).test(c)===!1&&a.addError("PATTERN",[b.pattern,c],null,b.description)},additionalItems:function(a,b,c){Array.isArray(c)&&b.additionalItems===!1&&Array.isArray(b.items)&&c.length>b.items.length&&a.addError("ARRAY_ADDITIONAL_ITEMS",null,null,b.description)},items:function(){},maxItems:function(a,b,c){Array.isArray(c)&&c.length>b.maxItems&&a.addError("ARRAY_LENGTH_LONG",[c.length,b.maxItems],null,b.description)},minItems:function(a,b,c){Array.isArray(c)&&c.length<b.minItems&&a.addError("ARRAY_LENGTH_SHORT",[c.length,b.minItems],null,b.description)},uniqueItems:function(a,b,c){if(Array.isArray(c)&&b.uniqueItems===!0){var d=[];g.isUniqueArray(c,d)===!1&&a.addError("ARRAY_UNIQUE",d,null,b.description)}},maxProperties:function(a,b,c){if("object"===g.whatIs(c)){var d=Object.keys(c).length;d>b.maxProperties&&a.addError("OBJECT_PROPERTIES_MAXIMUM",[d,b.maxProperties],null,b.description)}},minProperties:function(a,b,c){if("object"===g.whatIs(c)){var d=Object.keys(c).length;d<b.minProperties&&a.addError("OBJECT_PROPERTIES_MINIMUM",[d,b.minProperties],null,b.description)}},required:function(a,b,c){if("object"===g.whatIs(c))for(var d=b.required.length;d--;){var e=b.required[d];void 0===c[e]&&a.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[e],null,b.description)}},additionalProperties:function(a,b,c){return void 0===b.properties&&void 0===b.patternProperties?h.properties.call(this,a,b,c):void 0},patternProperties:function(a,b,c){return void 0===b.properties?h.properties.call(this,a,b,c):void 0},properties:function k(a,b,c){if("object"===g.whatIs(c)){var k=void 0!==b.properties?b.properties:{},d=void 0!==b.patternProperties?b.patternProperties:{};if(b.additionalProperties===!1){var e=Object.keys(c),f=Object.keys(k),h=Object.keys(d);e=g.difference(e,f);for(var i=h.length;i--;)for(var j=RegExp(h[i]),l=e.length;l--;)j.test(e[l])===!0&&e.splice(l,1);if(e.length>0){var m=this.options.assumeAdditional.length;if(m)for(;m--;){var n=e.indexOf(this.options.assumeAdditional[m]);-1!==n&&e.splice(n,1)}e.length>0&&a.addError("OBJECT_ADDITIONAL_PROPERTIES",[e],null,b.description)}}}},dependencies:function(a,b,d){if("object"===g.whatIs(d))for(var e=Object.keys(b.dependencies),f=e.length;f--;){var h=e[f];if(d[h]){var i=b.dependencies[h];if("object"===g.whatIs(i))c.validate.call(this,a,i,d);else for(var j=i.length;j--;){var k=i[j];void 0===d[k]&&a.addError("OBJECT_DEPENDENCY_KEY",[k,h],null,b.description)}}}},"enum":function(a,b,c){for(var d=!1,e=b["enum"].length;e--;)if(g.areEqual(c,b["enum"][e])){d=!0;break}d===!1&&a.addError("ENUM_MISMATCH",[c],null,b.description)},allOf:function(a,b,d){for(var e=b.allOf.length;e--;){var f=c.validate.call(this,a,b.allOf[e],d);if(this.options.breakOnFirstError&&f===!1)break}},anyOf:function(a,b,d){for(var e=[],g=!1,h=b.anyOf.length;h--&&g===!1;){var i=new f(a);e.push(i),g=c.validate.call(this,i,b.anyOf[h],d)}g===!1&&a.addError("ANY_OF_MISSING",void 0,e,b.description)},oneOf:function(a,b,d){for(var e=0,g=[],h=b.oneOf.length;h--;){var i=new f(a,{maxErrors:1});g.push(i),c.validate.call(this,i,b.oneOf[h],d)===!0&&e++}0===e?a.addError("ONE_OF_MISSING",void 0,g,b.description):e>1&&a.addError("ONE_OF_MULTIPLE",null,null,b.description)},not:function(a,b,d){var e=new f(a);c.validate.call(this,e,b.not,d)===!0&&a.addError("NOT_PASSED",null,null,b.description)},definitions:function(){},format:function(a,b,c){var d=e[b.format];"function"==typeof d?2===d.length?a.addAsyncTask(d,[c],function(d){d!==!0&&a.addError("INVALID_FORMAT",[b.format,c],null,b.description)}):d.call(this,c)!==!0&&a.addError("INVALID_FORMAT",[b.format,c],null,b.description):this.options.ignoreUnknownFormats!==!0&&a.addError("UNKNOWN_FORMAT",[b.format],null,b.description)}},i=function(a,b,e){var f=e.length;if(Array.isArray(b.items))for(;f--;)f<b.items.length?(a.path.push(f.toString()),c.validate.call(this,a,b.items[f],e[f]),a.path.pop()):"object"===d(b.additionalItems)&&(a.path.push(f.toString()),c.validate.call(this,a,b.additionalItems,e[f]),a.path.pop());else if("object"===d(b.items))for(;f--;)a.path.push(f.toString()),c.validate.call(this,a,b.items,e[f]),a.path.pop()},j=function(a,b,d){var e=b.additionalProperties;(e===!0||void 0===e)&&(e={});for(var f=b.properties?Object.keys(b.properties):[],g=b.patternProperties?Object.keys(b.patternProperties):[],h=Object.keys(d),i=h.length;i--;){var j=h[i],k=d[j],l=[];-1!==f.indexOf(j)&&l.push(b.properties[j]);for(var m=g.length;m--;){var n=g[m];RegExp(n).test(j)===!0&&l.push(b.patternProperties[n])}for(0===l.length&&e!==!1&&l.push(e),m=l.length;m--;)a.path.push(j),c.validate.call(this,a,l[m],k),a.path.pop()}};c.validate=function(a,b,c){a.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var d=g.whatIs(b);if("object"!==d)return a.addError("SCHEMA_NOT_AN_OBJECT",[d],null,b.description),!1;var e=Object.keys(b);if(0===e.length)return!0;var f=!1;if(a.rootSchema||(a.rootSchema=b,f=!0),void 0!==b.$ref){for(var k=99;b.$ref&&k>0;){if(!b.__$refResolved){a.addError("REF_UNRESOLVED",[b.$ref],null,b.description);break}if(b.__$refResolved===b)break;b=b.__$refResolved,e=Object.keys(b),k--}if(0===k)throw new Error("Circular dependency by $ref references!")}var l=g.whatIs(c);if(b.type)if("string"==typeof b.type){if(l!==b.type&&("integer"!==l||"number"!==b.type)&&(a.addError("INVALID_TYPE",[b.type,l],null,b.description),this.options.breakOnFirstError))return!1}else if(-1===b.type.indexOf(l)&&("integer"!==l||-1===b.type.indexOf("number"))&&(a.addError("INVALID_TYPE",[b.type,l],null,b.description),this.options.breakOnFirstError))return!1;for(var m=e.length;m--&&!(h[e[m]]&&(h[e[m]].call(this,a,b,c),a.errors.length&&this.options.breakOnFirstError)););return(0===a.errors.length||this.options.breakOnFirstError===!1)&&("array"===l?i.call(this,a,b,c):"object"===l&&j.call(this,a,b,c)),"function"==typeof this.options.customValidator&&this.options.customValidator(a,b,c),f&&(a.rootSchema=void 0),0===a.errors.length}},{"./FormatValidators":368,"./Report":371,"./Utils":375}],370:[function(a,b,c){"use strict";"function"!=typeof Number.isFinite&&(Number.isFinite=function(a){return"number"!=typeof a?!1:a!==a||a===1/0||a===-(1/0)?!1:!0})},{}],371:[function(a,b,c){(function(c){"use strict";function d(a,b){this.parentReport=a instanceof d?a:void 0,this.options=a instanceof d?a.options:a||{},this.reportOptions=b||{},this.errors=[],this.path=[],this.asyncTasks=[]}var e=a("lodash.get"),f=a("./Errors"),g=a("./Utils");d.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},d.prototype.addAsyncTask=function(a,b,c){this.asyncTasks.push([a,b,c])},d.prototype.processAsyncTasks=function(a,b){function d(){c.nextTick(function(){var a=0===j.errors.length,c=a?void 0:j.errors;b(c,a)})}function e(a){return function(b){i||(a(b),0===--g&&d())}}var f=a||2e3,g=this.asyncTasks.length,h=g,i=!1,j=this;if(0===g||this.errors.length>0)return void d();for(;h--;){var k=this.asyncTasks[h];k[0].apply(null,k[1].concat(e(k[2])))}setTimeout(function(){g>0&&(i=!0,j.addError("ASYNC_TIMEOUT",[g,f]),b(j.errors,!1))},f)},d.prototype.getPath=function(a){var b=[];return this.parentReport&&(b=b.concat(this.parentReport.path)),b=b.concat(this.path),a!==!0&&(b="#/"+b.map(function(a){return g.isAbsoluteUri(a)?"uri("+a+")":a.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),b},d.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var a=[];for(this.parentReport&&(a=a.concat(this.parentReport.path)),a=a.concat(this.path);a.length>0;){var b=e(this.rootSchema,a);if(b&&b.id)return b.id;a.pop()}return this.rootSchema.id},d.prototype.hasError=function(a,b){for(var c=this.errors.length;c--;)if(this.errors[c].code===a){for(var d=!0,e=this.errors[c].params.length;e--;)this.errors[c].params[e]!==b[e]&&(d=!1);if(d)return d}return!1},d.prototype.addError=function(a,b,c,d){if(!a)throw new Error("No errorCode passed into addError()");this.addCustomError(a,f[a],b,c,d)},d.prototype.addCustomError=function(a,b,c,d,e){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!b)throw new Error("No errorMessage known for code "+a);c=c||[];for(var f=c.length;f--;){var h=g.whatIs(c[f]),i="object"===h||"null"===h?JSON.stringify(c[f]):c[f];b=b.replace("{"+f+"}",i)}var j={code:a,params:c,message:b,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(e&&(j.description=e),null!=d){for(Array.isArray(d)||(d=[d]),j.inner=[],f=d.length;f--;)for(var k=d[f],l=k.errors.length;l--;)j.inner.push(k.errors[l]);0===j.inner.length&&(j.inner=void 0)}this.errors.push(j)}},b.exports=d}).call(this,a("_process"))},{"./Errors":367,"./Utils":375,_process:244,"lodash.get":73}],372:[function(a,b,c){"use strict";function d(a){return decodeURIComponent(a).replace(/~[0-1]/g,function(a){return"~1"===a?"/":"~"})}function e(a){var b=a.indexOf("#");return-1===b?a:a.slice(0,b)}function f(a){var b=a.indexOf("#"),c=-1===b?void 0:a.slice(b+1);return c}function g(a,b){if("object"===("undefined"==typeof a?"undefined":h(a))&&null!==a){if(!b)return a;if(a.id&&(a.id===b||"#"===a.id[0]&&a.id.substring(1)===b))return a;var c,d;if(Array.isArray(a)){for(c=a.length;c--;)if(d=g(a[c],b))return d}else{var e=Object.keys(a);for(c=e.length;c--;){var f=e[c];if(0!==f.indexOf("__$")&&(d=g(a[f],b)))return d}}}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("./Report"),j=a("./SchemaCompilation"),k=a("./SchemaValidation"),l=a("./Utils");c.cacheSchemaByUri=function(a,b){var c=e(a);c&&(this.cache[c]=b)},c.removeFromCacheByUri=function(a){var b=e(a);b&&delete this.cache[b]},c.checkCacheForUri=function(a){var b=e(a);return b?null!=this.cache[b]:!1},c.getSchema=function(a,b){return"object"===("undefined"==typeof b?"undefined":h(b))&&(b=c.getSchemaByReference.call(this,a,b)),"string"==typeof b&&(b=c.getSchemaByUri.call(this,a,b)),b},c.getSchemaByReference=function(a,b){for(var c=this.referenceCache.length;c--;)if(this.referenceCache[c][0]===b)return this.referenceCache[c][1];var d=l.cloneDeep(b);return this.referenceCache.push([b,d]),d},c.getSchemaByUri=function(a,b,c){var h=e(b),l=f(b),m=h?this.cache[h]:c;if(m&&h){var n=m!==c;if(n){a.path.push(h);var o=new i(a);j.compileSchema.call(this,o,m)&&k.validateSchema.call(this,o,m);var p=o.isValid();if(p||a.addError("REMOTE_NOT_VALID",[b],o),a.path.pop(),!p)return void 0}}if(m&&l)for(var q=l.split("/"),r=0,s=q.length;m&&s>r;r++){var t=d(q[r]);m=0===r?g(m,t):m[t]}return m},c.getRemotePath=e},{"./Report":371,"./SchemaCompilation":373,"./SchemaValidation":374,"./Utils":375}],373:[function(a,b,c){"use strict";function d(a,b){if(j.isAbsoluteUri(b))return b;var c,d=a.join(""),e=j.isAbsoluteUri(d),f=j.isRelativeUri(d),g=j.isRelativeUri(b);e&&g?(c=d.match(/\/[^\/]*$/),c&&(d=d.slice(0,c.index+1))):f&&g?d="":(c=d.match(/[^#\/]+$/),c&&(d=d.slice(0,c.index)));var h=d+b;return h=h.replace(/##/,"#")}function e(a,b,c,f){if(b=b||[],c=c||[],f=f||[],"object"!==("undefined"==typeof a?"undefined":g(a))||null===a)return b;"string"==typeof a.id&&c.push(a.id),"string"==typeof a.$ref&&"undefined"==typeof a.__$refResolved&&b.push({ref:d(c,a.$ref),key:"$ref",obj:a,path:f.slice(0)}),"string"==typeof a.$schema&&"undefined"==typeof a.__$schemaResolved&&b.push({ref:d(c,a.$schema),key:"$schema",obj:a,path:f.slice(0)});var h;if(Array.isArray(a))for(h=a.length;h--;)f.push(h.toString()),e(a[h],b,c,f),f.pop();else{var i=Object.keys(a);for(h=i.length;h--;)0!==i[h].indexOf("__$")&&(f.push(i[h]),e(a[i[h]],b,c,f),f.pop())}return"string"==typeof a.id&&c.pop(),b}function f(a,b){for(var c=a.length;c--;)if(a[c].id===b)return a[c];return null}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./Report"),i=a("./SchemaCache"),j=a("./Utils"),k=function(a,b){for(var d=b.length,e=0;d--;){var f=new h(a),g=c.compileSchema.call(this,f,b[d]);g&&e++,a.errors=a.errors.concat(f.errors)}return e},l=function(a,b){var c,d=0;do{for(var e=a.errors.length;e--;)"UNRESOLVABLE_REFERENCE"===a.errors[e].code&&a.errors.splice(e,1);for(c=d,d=k.call(this,a,b),e=b.length;e--;){var g=b[e];if(g.__$missingReferences){for(var h=g.__$missingReferences.length;h--;){var i=g.__$missingReferences[h],j=f(b,i.ref);j&&(i.obj["__"+i.key+"Resolved"]=j,g.__$missingReferences.splice(h,1))}0===g.__$missingReferences.length&&delete g.__$missingReferences}}}while(d!==b.length&&d!==c);return a.isValid()};c.compileSchema=function(a,b){if(a.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof b){
var d=i.getSchemaByUri.call(this,a,b);if(!d)return a.addError("SCHEMA_NOT_REACHABLE",[b]),!1;b=d}if(Array.isArray(b))return l.call(this,a,b);if(b.__$compiled&&b.id&&i.checkCacheForUri.call(this,b.id)===!1&&(b.__$compiled=void 0),b.__$compiled)return!0;b.id&&"string"==typeof b.id&&i.cacheSchemaByUri.call(this,b.id,b);var f=!1;a.rootSchema||(a.rootSchema=b,f=!0);var g=a.isValid();delete b.__$missingReferences;for(var k=e.call(this,b),m=k.length;m--;){var n=k[m],o=i.getSchemaByUri.call(this,a,n.ref,b);if(!o){var p=this.getSchemaReader();if(p){var q=p(n.ref);if(q){q.id=n.ref;var r=new h(a);c.compileSchema.call(this,r,q)?o=i.getSchemaByUri.call(this,a,n.ref,b):a.errors=a.errors.concat(r.errors)}}}if(!o){var s=a.hasError("REMOTE_NOT_VALID",[n.ref]),t=j.isAbsoluteUri(n.ref),u=!1,v=this.options.ignoreUnresolvableReferences===!0;t&&(u=i.checkCacheForUri.call(this,n.ref)),s||v&&t||u||(Array.prototype.push.apply(a.path,n.path),a.addError("UNRESOLVABLE_REFERENCE",[n.ref]),a.path=a.path.slice(0,-n.path.length),g&&(b.__$missingReferences=b.__$missingReferences||[],b.__$missingReferences.push(n)))}n.obj["__"+n.key+"Resolved"]=o}var w=a.isValid();return w?b.__$compiled=!0:b.id&&"string"==typeof b.id&&i.removeFromCacheByUri.call(this,b.id),f&&(a.rootSchema=void 0),w}},{"./Report":371,"./SchemaCache":372,"./Utils":375}],374:[function(a,b,c){"use strict";var d=a("./FormatValidators"),e=a("./JsonValidation"),f=a("./Report"),g=a("./Utils"),h={$ref:function(a,b){"string"!=typeof b.$ref&&a.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(a,b){"string"!=typeof b.$schema&&a.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(a,b){"number"!=typeof b.multipleOf?a.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):b.multipleOf<=0&&a.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(a,b){"number"!=typeof b.maximum&&a.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(a,b){"boolean"!=typeof b.exclusiveMaximum?a.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===b.maximum&&a.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(a,b){"number"!=typeof b.minimum&&a.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(a,b){"boolean"!=typeof b.exclusiveMinimum?a.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===b.minimum&&a.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(a,b){"integer"!==g.whatIs(b.maxLength)?a.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):b.maxLength<0&&a.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(a,b){"integer"!==g.whatIs(b.minLength)?a.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):b.minLength<0&&a.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(a,b){if("string"!=typeof b.pattern)a.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(b.pattern)}catch(c){a.addError("KEYWORD_PATTERN",["pattern",b.pattern])}},additionalItems:function(a,b){var d=g.whatIs(b.additionalItems);"boolean"!==d&&"object"!==d?a.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===d&&(a.path.push("additionalItems"),c.validateSchema.call(this,a,b.additionalItems),a.path.pop())},items:function(a,b){var d=g.whatIs(b.items);if("object"===d)a.path.push("items"),c.validateSchema.call(this,a,b.items),a.path.pop();else if("array"===d)for(var e=b.items.length;e--;)a.path.push("items"),a.path.push(e.toString()),c.validateSchema.call(this,a,b.items[e]),a.path.pop(),a.path.pop();else a.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);this.options.forceAdditional===!0&&void 0===b.additionalItems&&Array.isArray(b.items)&&a.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===b.additionalItems&&Array.isArray(b.items)&&(b.additionalItems=!1)},maxItems:function(a,b){"number"!=typeof b.maxItems?a.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):b.maxItems<0&&a.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(a,b){"integer"!==g.whatIs(b.minItems)?a.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):b.minItems<0&&a.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(a,b){"boolean"!=typeof b.uniqueItems&&a.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(a,b){"integer"!==g.whatIs(b.maxProperties)?a.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):b.maxProperties<0&&a.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(a,b){"integer"!==g.whatIs(b.minProperties)?a.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):b.minProperties<0&&a.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(a,b){if("array"!==g.whatIs(b.required))a.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===b.required.length)a.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var c=b.required.length;c--;)"string"!=typeof b.required[c]&&a.addError("KEYWORD_VALUE_TYPE",["required","string"]);g.isUniqueArray(b.required)===!1&&a.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(a,b){var d=g.whatIs(b.additionalProperties);"boolean"!==d&&"object"!==d?a.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===d&&(a.path.push("additionalProperties"),c.validateSchema.call(this,a,b.additionalProperties),a.path.pop())},properties:function(a,b){if("object"!==g.whatIs(b.properties))return void a.addError("KEYWORD_TYPE_EXPECTED",["properties","object"]);for(var d=Object.keys(b.properties),e=d.length;e--;){var f=d[e],h=b.properties[f];a.path.push("properties"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}this.options.forceAdditional===!0&&void 0===b.additionalProperties&&a.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===b.additionalProperties&&(b.additionalProperties=!1),this.options.forceProperties===!0&&0===d.length&&a.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])},patternProperties:function(a,b){if("object"!==g.whatIs(b.patternProperties))return void a.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"]);for(var d=Object.keys(b.patternProperties),e=d.length;e--;){var f=d[e],h=b.patternProperties[f];try{RegExp(f)}catch(i){a.addError("KEYWORD_PATTERN",["patternProperties",f])}a.path.push("patternProperties"),a.path.push(f.toString()),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}this.options.forceProperties===!0&&0===d.length&&a.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])},dependencies:function(a,b){if("object"!==g.whatIs(b.dependencies))a.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var d=Object.keys(b.dependencies),e=d.length;e--;){var f=d[e],h=b.dependencies[f],i=g.whatIs(h);if("object"===i)a.path.push("dependencies"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop();else if("array"===i){var j=h.length;for(0===j&&a.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);j--;)"string"!=typeof h[j]&&a.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);g.isUniqueArray(h)===!1&&a.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else a.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},"enum":function(a,b){Array.isArray(b["enum"])===!1?a.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===b["enum"].length?a.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):g.isUniqueArray(b["enum"])===!1&&a.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(a,b){var c=["array","boolean","integer","number","null","object","string"],d=c.join(","),e=Array.isArray(b.type);if(e){for(var f=b.type.length;f--;)-1===c.indexOf(b.type[f])&&a.addError("KEYWORD_TYPE_EXPECTED",["type",d]);g.isUniqueArray(b.type)===!1&&a.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof b.type?-1===c.indexOf(b.type)&&a.addError("KEYWORD_TYPE_EXPECTED",["type",d]):a.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);this.options.noEmptyStrings===!0&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.minLength&&void 0===b["enum"]&&void 0===b.format&&(b.minLength=1),this.options.noEmptyArrays===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.minItems&&(b.minItems=1),this.options.forceProperties===!0&&("object"===b.type||e&&-1!==b.type.indexOf("object"))&&void 0===b.properties&&void 0===b.patternProperties&&a.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),this.options.forceItems===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.items&&a.addError("KEYWORD_UNDEFINED_STRICT",["items"]),this.options.forceMinItems===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.minItems&&a.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),this.options.forceMaxItems===!0&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.maxItems&&a.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),this.options.forceMinLength===!0&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.minLength&&void 0===b.format&&void 0===b["enum"]&&void 0===b.pattern&&a.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),this.options.forceMaxLength===!0&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.maxLength&&void 0===b.format&&void 0===b["enum"]&&void 0===b.pattern&&a.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(a,b){if(Array.isArray(b.allOf)===!1)a.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===b.allOf.length)a.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var d=b.allOf.length;d--;)a.path.push("allOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.allOf[d]),a.path.pop(),a.path.pop()},anyOf:function(a,b){if(Array.isArray(b.anyOf)===!1)a.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===b.anyOf.length)a.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var d=b.anyOf.length;d--;)a.path.push("anyOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.anyOf[d]),a.path.pop(),a.path.pop()},oneOf:function(a,b){if(Array.isArray(b.oneOf)===!1)a.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===b.oneOf.length)a.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var d=b.oneOf.length;d--;)a.path.push("oneOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.oneOf[d]),a.path.pop(),a.path.pop()},not:function(a,b){"object"!==g.whatIs(b.not)?a.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(a.path.push("not"),c.validateSchema.call(this,a,b.not),a.path.pop())},definitions:function(a,b){if("object"!==g.whatIs(b.definitions))a.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var d=Object.keys(b.definitions),e=d.length;e--;){var f=d[e],h=b.definitions[f];a.path.push("definitions"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}},format:function(a,b){"string"!=typeof b.format?a.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===d[b.format]&&this.options.ignoreUnknownFormats!==!0&&a.addError("UNKNOWN_FORMAT",[b.format])},id:function(a,b){"string"!=typeof b.id&&a.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(a,b){"string"!=typeof b.title&&a.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(a,b){"string"!=typeof b.description&&a.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},"default":function(){}},i=function(a,b){for(var d=b.length;d--;)c.validateSchema.call(this,a,b[d]);return a.isValid()};c.validateSchema=function(a,b){if(a.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(b))return i.call(this,a,b);if(b.__$validated)return!0;var c=b.$schema&&b.id!==b.$schema;if(c)if(b.__$schemaResolved&&b.__$schemaResolved!==b){var d=new f(a),j=e.validate.call(this,d,b.__$schemaResolved,b);j===!1&&a.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,d)}else this.options.ignoreUnresolvableReferences!==!0&&a.addError("REF_UNRESOLVED",[b.$schema]);if(this.options.noTypeless===!0){if(void 0!==b.type){var k=[];Array.isArray(b.anyOf)&&(k=k.concat(b.anyOf)),Array.isArray(b.oneOf)&&(k=k.concat(b.oneOf)),Array.isArray(b.allOf)&&(k=k.concat(b.allOf)),k.forEach(function(a){a.type||(a.type=b.type)})}void 0===b["enum"]&&void 0===b.type&&void 0===b.anyOf&&void 0===b.oneOf&&void 0===b.not&&void 0===b.$ref&&a.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var l=Object.keys(b),m=l.length;m--;){var n=l[m];0!==n.indexOf("__")&&(void 0!==h[n]?h[n].call(this,a,b):c||this.options.noExtraKeywords===!0&&a.addError("KEYWORD_UNEXPECTED",[n]))}if(this.options.pedanticCheck===!0){if(b["enum"]){var o=g.clone(b);for(delete o["enum"],delete o["default"],a.path.push("enum"),m=b["enum"].length;m--;)a.path.push(m.toString()),e.validate.call(this,a,o,b["enum"][m]),a.path.pop();a.path.pop()}b["default"]&&(a.path.push("default"),e.validate.call(this,a,b,b["default"]),a.path.pop())}var p=a.isValid();return p&&(b.__$validated=!0),p}},{"./FormatValidators":368,"./JsonValidation":369,"./Report":371,"./Utils":375}],375:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.isAbsoluteUri=function(a){return/^https?:\/\//.test(a)},c.isRelativeUri=function(a){return/.+#/.test(a)},c.whatIs=function(a){var b="undefined"==typeof a?"undefined":d(a);return"object"===b?null===a?"null":Array.isArray(a)?"array":"object":"number"===b?Number.isFinite(a)?a%1===0?"integer":"number":Number.isNaN(a)?"not-a-number":"unknown-number":b},c.areEqual=function e(a,b){if(a===b)return!0;var d,f;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(f=a.length,d=0;f>d;d++)if(!e(a[d],b[d]))return!1;return!0}if("object"===c.whatIs(a)&&"object"===c.whatIs(b)){var g=Object.keys(a),h=Object.keys(b);if(!e(g,h))return!1;for(f=g.length,d=0;f>d;d++)if(!e(a[g[d]],b[g[d]]))return!1;return!0}return!1},c.isUniqueArray=function(a,b){var d,e,f=a.length;for(d=0;f>d;d++)for(e=d+1;f>e;e++)if(c.areEqual(a[d],a[e]))return b&&b.push(d,e),!1;return!0},c.difference=function(a,b){for(var c=[],d=a.length;d--;)-1===b.indexOf(a[d])&&c.push(a[d]);return c},c.clone=function(a){if("undefined"==typeof a)return void 0;if("object"!==("undefined"==typeof a?"undefined":d(a))||null===a)return a;var b,c;if(Array.isArray(a))for(b=[],c=a.length;c--;)b[c]=a[c];else{b={};var e=Object.keys(a);for(c=e.length;c--;){var f=e[c];b[f]=a[f]}}return b},c.cloneDeep=function(a){function b(a){if("object"!==("undefined"==typeof a?"undefined":d(a))||null===a)return a;var f,g,h;if(h=c.indexOf(a),-1!==h)return e[h];if(c.push(a),Array.isArray(a))for(f=[],e.push(f),g=a.length;g--;)f[g]=b(a[g]);else{f={},e.push(f);var i=Object.keys(a);for(g=i.length;g--;){var j=i[g];f[j]=b(a[j])}}return f}var c=[],e=[];return b(a)},c.ucs2decode=function(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}},{}],376:[function(a,b,c){(function(c){"use strict";function d(a){if(this.cache={},this.referenceCache=[],this.setRemoteReference("http://json-schema.org/draft-04/schema",n),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",o),"object"===("undefined"==typeof a?"undefined":e(a))){for(var b,c=Object.keys(a),d=c.length;d--;)if(b=c[d],void 0===p[b])throw new Error("Unexpected option passed to constructor: "+b);for(c=Object.keys(p),d=c.length;d--;)b=c[d],void 0===a[b]&&(a[b]=m.clone(p[b]));this.options=a}else this.options=m.clone(p);this.options.strictMode===!0&&(this.options.forceAdditional=!0,this.options.forceItems=!0,this.options.forceMaxLength=!0,this.options.forceProperties=!0,this.options.noExtraKeywords=!0,this.options.noTypeless=!0,this.options.noEmptyStrings=!0,this.options.noEmptyArrays=!0)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a("./Polyfills");var f=a("lodash.get"),g=a("./Report"),h=a("./FormatValidators"),i=a("./JsonValidation"),j=a("./SchemaCache"),k=a("./SchemaCompilation"),l=a("./SchemaValidation"),m=a("./Utils"),n=a("./schemas/schema.json"),o=a("./schemas/hyper-schema.json"),p={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};d.prototype.compileSchema=function(a){var b=new g(this.options);return a=j.getSchema.call(this,b,a),k.compileSchema.call(this,b,a),this.lastReport=b,b.isValid()},d.prototype.validateSchema=function(a){if(Array.isArray(a)&&0===a.length)throw new Error(".validateSchema was called with an empty array");var b=new g(this.options);a=j.getSchema.call(this,b,a);var c=k.compileSchema.call(this,b,a);return c&&l.validateSchema.call(this,b,a),this.lastReport=b,b.isValid()},d.prototype.validate=function(a,b,d,e){"function"===m.whatIs(d)&&(e=d,d={}),d||(d={});var h=m.whatIs(b);if("string"!==h&&"object"!==h){var n=new Error("Invalid .validate call - schema must be an string or object but "+h+" was passed!");if(e)return void c.nextTick(function(){e(n,!1)});throw n}var o=!1,p=new g(this.options);if("string"==typeof b){var q=b;if(b=j.getSchema.call(this,p,q),!b)throw new Error("Schema with id '"+q+"' wasn't found in the validator cache!")}else b=j.getSchema.call(this,p,b);var r=!1;o||(r=k.compileSchema.call(this,p,b)),r||(this.lastReport=p,o=!0);var s=!1;if(o||(s=l.validateSchema.call(this,p,b)),s||(this.lastReport=p,o=!0),d.schemaPath&&(p.rootSchema=b,b=f(b,d.schemaPath),!b))throw new Error("Schema path '"+d.schemaPath+"' wasn't found in the schema!");if(o||i.validate.call(this,p,b,a),e)return void p.processAsyncTasks(this.options.asyncTimeout,e);if(p.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=p,p.isValid()},d.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var a=new Error;return a.name="z-schema validation error",a.message=this.lastReport.commonErrorMessage,a.details=this.lastReport.errors,a},d.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:void 0},d.prototype.getMissingReferences=function(a){a=a||this.lastReport.errors;for(var b=[],c=a.length;c--;){var d=a[c];if("UNRESOLVABLE_REFERENCE"===d.code){var e=d.params[0];-1===b.indexOf(e)&&b.push(e)}d.inner&&(b=b.concat(this.getMissingReferences(d.inner)))}return b},d.prototype.getMissingRemoteReferences=function(){for(var a=this.getMissingReferences(),b=[],c=a.length;c--;){var d=j.getRemotePath(a[c]);d&&-1===b.indexOf(d)&&b.push(d)}return b},d.prototype.setRemoteReference=function(a,b){b="string"==typeof b?JSON.parse(b):m.cloneDeep(b),j.cacheSchemaByUri.call(this,a,b)},d.prototype.getResolvedSchema=function(a){var b=new g(this.options);a=j.getSchema.call(this,b,a),a=m.cloneDeep(a);var c=[],d=function e(a){var b,d=m.whatIs(a);if(("object"===d||"array"===d)&&!a.___$visited){if(a.___$visited=!0,c.push(a),a.$ref&&a.__$refResolved){var f=a.__$refResolved,g=a;delete a.$ref,delete a.__$refResolved;for(b in f)f.hasOwnProperty(b)&&(g[b]=f[b])}for(b in a)a.hasOwnProperty(b)&&(0===b.indexOf("__$")?delete a[b]:e(a[b]))}};if(d(a),c.forEach(function(a){delete a.___$visited}),this.lastReport=b,b.isValid())return a;throw this.getLastError()},d.prototype.setSchemaReader=function(a){return d.setSchemaReader(a)},d.prototype.getSchemaReader=function(){return d.schemaReader},d.setSchemaReader=function(a){d.schemaReader=a},d.registerFormat=function(a,b){h[a]=b},d.unregisterFormat=function(a){delete h[a]},d.getRegisteredFormats=function(){return Object.keys(h)},d.getDefaultOptions=function(){return m.cloneDeep(p)},b.exports=d}).call(this,a("_process"))},{"./FormatValidators":368,"./JsonValidation":369,"./Polyfills":370,"./Report":371,"./SchemaCache":372,"./SchemaCompilation":373,"./SchemaValidation":374,"./Utils":375,"./schemas/hyper-schema.json":377,"./schemas/schema.json":378,_process:244,"lodash.get":73}],377:[function(a,b,c){b.exports={$schema:"http://json-schema.org/draft-04/hyper-schema#",id:"http://json-schema.org/draft-04/hyper-schema#",title:"JSON Hyper-Schema",allOf:[{$ref:"http://json-schema.org/draft-04/schema#"}],properties:{additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}]},dependencies:{additionalProperties:{anyOf:[{$ref:"#"},{type:"array"}]}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}]},definitions:{additionalProperties:{$ref:"#"}},patternProperties:{additionalProperties:{$ref:"#"}},properties:{additionalProperties:{$ref:"#"}},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},links:{type:"array",items:{$ref:"#/definitions/linkDescription"}},fragmentResolution:{type:"string"},media:{type:"object",properties:{type:{description:"A media type, as described in RFC 2046",type:"string"},binaryEncoding:{description:"A content encoding scheme, as described in RFC 2045",type:"string"}}},pathStart:{description:"Instances' URIs must start with this value for this schema to apply to them",type:"string",format:"uri"}},definitions:{schemaArray:{type:"array",items:{$ref:"#"}},linkDescription:{title:"Link Description Object",type:"object",required:["href","rel"],properties:{href:{description:"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing",type:"string"},rel:{description:"relation to the target resource of the link",type:"string"},title:{description:"a title for the link",type:"string"},targetSchema:{description:"JSON Schema describing the link target",$ref:"#"},mediaType:{description:"media type (as defined by RFC 2046) describing the link target",type:"string"},method:{description:'method for requesting the target of the link (e.g. for HTTP this might be "GET" or "DELETE")',type:"string"},encType:{description:"The media type in which to submit data along with the request",type:"string","default":"application/json"},schema:{description:"Schema describing the data to submit along with the request",$ref:"#"}}}}}},{}],378:[function(a,b,c){b.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},{}]},{},[210])(210)}),window.CodeMirror=function(){"use strict";function a(c,d){if(!(this instanceof a))return new a(c,d);this.options=d=d||{};for(var e in ce)!d.hasOwnProperty(e)&&ce.hasOwnProperty(e)&&(d[e]=ce[e]);m(d);var f="string"==typeof d.value?0:d.value.first,g=this.display=b(c,f);g.wrapper.CodeMirror=this,j(this),d.autofocus&&!Kd&&na(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Sc},h(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var i=d.value;"string"==typeof i&&(i=new qe(d.value,d.mode)),fa(this,jc)(this,i),xd&&setTimeout(_c(ma,this,!0),20),pa(this);var k;try{k=document.activeElement==g.input}catch(l){}k||d.autofocus&&!Kd?setTimeout(_c(Fa,this),20):Ga(this),fa(this,function(){for(var a in be)be.propertyIsEnumerable(a)&&be[a](this,d[a],de);for(var b=0;b<he.length;++b)he[b](this)})()}function b(a,b){var c={},d=c.input=cd("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return Ad?d.style.width="1000px":d.setAttribute("wrap","off"),Jd&&(d.style.border="1px solid black"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck","false"),c.inputDiv=cd("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),c.scrollbarH=cd("div",[cd("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),c.scrollbarV=cd("div",[cd("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),c.scrollbarFiller=cd("div",null,"CodeMirror-scrollbar-filler"),c.gutterFiller=cd("div",null,"CodeMirror-gutter-filler"),c.lineDiv=cd("div",null,"CodeMirror-code"),c.selectionDiv=cd("div",null,null,"position: relative; z-index: 1"),c.cursor=cd("div"," ","CodeMirror-cursor"),c.otherCursor=cd("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),c.measure=cd("div",null,"CodeMirror-measure"),c.lineSpace=cd("div",[c.measure,c.selectionDiv,c.lineDiv,c.cursor,c.otherCursor],null,"position: relative; outline: none"),c.mover=cd("div",[cd("div",[c.lineSpace],"CodeMirror-lines")],null,"position: relative"),c.sizer=cd("div",[c.mover],"CodeMirror-sizer"),c.heightForcer=cd("div",null,null,"position: absolute; height: "+ve+"px; width: 1px;"),c.gutters=cd("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=cd("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=cd("div",[c.inputDiv,c.scrollbarH,c.scrollbarV,c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),yd&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),a.appendChild?a.appendChild(c.wrapper):a(c.wrapper),Jd&&(d.style.width="0px"),Ad||(c.scroller.draggable=!0),Fd?(c.inputDiv.style.height="1px",c.inputDiv.style.position="absolute"):yd&&(c.scrollbarH.style.minWidth=c.scrollbarV.style.minWidth="18px"),c.viewOffset=c.lastSizeC=0,c.showingFrom=c.showingTo=b,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.prevInput="",c.alignWidgets=!1,c.pollingFast=!1,c.poll=new Sc,c.cachedCharWidth=c.cachedTextHeight=null,c.measureLineCache=[],c.measureLineCachePos=0,c.inaccurateSelection=!1,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c}function c(b){b.doc.mode=a.getMode(b.options,b.doc.modeOption),b.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),b.doc.frontier=b.doc.first,G(b,100),b.state.modeGen++,b.curOp&&ia(b)}function d(a){a.options.lineWrapping?(a.display.wrapper.className+=" CodeMirror-wrap",a.display.sizer.style.minWidth=""):(a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-wrap",""),l(a)),f(a),ia(a),T(a),setTimeout(function(){n(a)},100)}function e(a){var b=ba(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/ca(a.display)-3);return function(e){return Nb(a.doc,e)?0:c?(Math.ceil(e.text.length/d)||1)*b:b}}function f(a){var b=a.doc,c=e(a);b.iter(function(a){var b=c(a);b!=a.height&&nc(a,b)})}function g(a){var b=ke[a.options.keyMap],c=b.style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(c?" cm-keymap-"+c:""),a.state.disableInput=b.disableInput}function h(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),T(a)}function i(a){j(a),ia(a),setTimeout(function(){p(a)},20)}function j(a){var b=a.display.gutters,c=a.options.gutters;dd(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(cd("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none"}function k(a,b){if(0==b.height)return 0;for(var c,d=b.text.length,e=b;c=Kb(e);){var f=c.find();e=kc(a,f.from.line),d+=f.from.ch-f.to.ch}for(e=b;c=Lb(e);){var f=c.find();d-=e.text.length-f.from.ch,e=kc(a,f.to.line),d+=e.text.length-f.to.ch}return d}function l(a){var b=a.display,c=a.doc;b.maxLine=kc(c,c.first),b.maxLineLength=k(c,b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var d=k(c,a);d>b.maxLineLength&&(b.maxLineLength=d,b.maxLine=a)})}function m(a){for(var b=!1,c=0;c<a.gutters.length;++c)"CodeMirror-linenumbers"==a.gutters[c]&&(a.lineNumbers?b=!0:a.gutters.splice(c--,1));!b&&a.lineNumbers&&a.gutters.push("CodeMirror-linenumbers")}function n(a){var b=a.display,c=a.doc.height,d=c+L(b);b.sizer.style.minHeight=b.heightForcer.style.top=d+"px",b.gutters.style.height=Math.max(d,b.scroller.clientHeight-ve)+"px";var e=Math.max(d,b.scroller.scrollHeight),f=b.scroller.scrollWidth>b.scroller.clientWidth+1,g=e>b.scroller.clientHeight+1;g?(b.scrollbarV.style.display="block",b.scrollbarV.style.bottom=f?id(b.measure)+"px":"0",b.scrollbarV.firstChild.style.height=e-b.scroller.clientHeight+b.scrollbarV.clientHeight+"px"):b.scrollbarV.style.display="",f?(b.scrollbarH.style.display="block",b.scrollbarH.style.right=g?id(b.measure)+"px":"0",b.scrollbarH.firstChild.style.width=b.scroller.scrollWidth-b.scroller.clientWidth+b.scrollbarH.clientWidth+"px"):b.scrollbarH.style.display="",f&&g?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=b.scrollbarFiller.style.width=id(b.measure)+"px"):b.scrollbarFiller.style.display="",f&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(b.gutterFiller.style.display="block",b.gutterFiller.style.height=id(b.measure)+"px",
b.gutterFiller.style.width=b.gutters.offsetWidth+"px"):b.gutterFiller.style.display="",Gd&&0===id(b.measure)&&(b.scrollbarV.style.minWidth=b.scrollbarH.style.minHeight=Hd?"18px":"12px")}function o(a,b,c){var d=a.scroller.scrollTop,e=a.wrapper.clientHeight;"number"==typeof c?d=c:c&&(d=c.top,e=c.bottom-c.top),d=Math.floor(d-K(a));var f=Math.ceil(d+e);return{from:pc(b,d),to:pc(b,f)}}function p(a){var b=a.display;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var c=s(b)-b.scroller.scrollLeft+a.doc.scrollLeft,d=b.gutters.offsetWidth,e=c+"px",f=b.lineDiv.firstChild;f;f=f.nextSibling)if(f.alignable)for(var g=0,h=f.alignable;g<h.length;++g)h[g].style.left=e;a.options.fixedGutter&&(b.gutters.style.left=c+d+"px")}}function q(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=r(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(cd("div",[cd("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g),d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",!0}return!1}function r(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function s(a){return gd(a.scroller).left-gd(a.sizer).left}function t(a,b,c,d){for(var e,f=a.display.showingFrom,g=a.display.showingTo,h=o(a.display,a.doc,c);u(a,b,h,d)&&(d=!1,e=!0,C(a),n(a),c&&(c=Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,"number"==typeof c?c:c.top)),h=o(a.display,a.doc,c),!(h.from>=a.display.showingFrom&&h.to<=a.display.showingTo));)b=[];return e&&(Nc(a,"update",a),(a.display.showingFrom!=f||a.display.showingTo!=g)&&Nc(a,"viewportChange",a,a.display.showingFrom,a.display.showingTo)),e}function u(a,b,c,d){var e=a.display,f=a.doc;if(!e.wrapper.clientWidth)return e.showingFrom=e.showingTo=f.first,void(e.viewOffset=0);if(!(!d&&0==b.length&&c.from>e.showingFrom&&c.to<e.showingTo)){q(a)&&(b=[{from:f.first,to:f.first+f.size}]);var g=e.sizer.style.marginLeft=e.gutters.offsetWidth+"px";e.scrollbarH.style.left=a.options.fixedGutter?g:"0";var h=1/0;if(a.options.lineNumbers)for(var i=0;i<b.length;++i)if(b[i].diff){h=b[i].from;break}var j=f.first+f.size,k=Math.max(c.from-a.options.viewportMargin,f.first),l=Math.min(j,c.to+a.options.viewportMargin);if(e.showingFrom<k&&k-e.showingFrom<20&&(k=Math.max(f.first,e.showingFrom)),e.showingTo>l&&e.showingTo-l<20&&(l=Math.min(j,e.showingTo)),Ud)for(k=oc(Mb(f,kc(f,k)));j>l&&Nb(f,kc(f,l));)++l;var m=[{from:Math.max(e.showingFrom,f.first),to:Math.min(e.showingTo,j)}];if(m=m[0].from>=m[0].to?[]:x(m,b),Ud)for(var i=0;i<m.length;++i)for(var n,o=m[i];n=Lb(kc(f,o.to-1));){var p=n.find().from.line;if(!(p>o.from)){m.splice(i--,1);break}o.to=p}for(var r=0,i=0;i<m.length;++i){var o=m[i];o.from<k&&(o.from=k),o.to>l&&(o.to=l),o.from>=o.to?m.splice(i--,1):r+=o.to-o.from}if(!d&&r==l-k&&k==e.showingFrom&&l==e.showingTo)return void w(a);m.sort(function(a,b){return a.from-b.from});try{var s=document.activeElement}catch(t){}.7*(l-k)>r&&(e.lineDiv.style.display="none"),z(a,k,l,m,h),e.lineDiv.style.display="",s&&document.activeElement!=s&&s.offsetHeight&&s.focus();var u=k!=e.showingFrom||l!=e.showingTo||e.lastSizeC!=e.wrapper.clientHeight;return u&&(e.lastSizeC=e.wrapper.clientHeight,G(a,400)),e.showingFrom=k,e.showingTo=l,v(a),w(a),!0}}function v(a){for(var b,c=a.display,d=c.lineDiv.offsetTop,e=c.lineDiv.firstChild;e;e=e.nextSibling)if(e.lineObj){if(yd){var f=e.offsetTop+e.offsetHeight;b=f-d,d=f}else{var g=gd(e);b=g.bottom-g.top}var h=e.lineObj.height-b;if(2>b&&(b=ba(c)),h>.001||-.001>h){nc(e.lineObj,b);var i=e.lineObj.widgets;if(i)for(var j=0;j<i.length;++j)i[j].height=i[j].node.offsetHeight}}}function w(a){var b=a.display.viewOffset=qc(a,kc(a.doc,a.display.showingFrom));a.display.mover.style.top=b+"px"}function x(a,b){for(var c=0,d=b.length||0;d>c;++c){for(var e=b[c],f=[],g=e.diff||0,h=0,i=a.length;i>h;++h){var j=a[h];e.to<=j.from&&e.diff?f.push({from:j.from+g,to:j.to+g}):e.to<=j.from||e.from>=j.to?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g}))}a=f}return a}function y(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:s(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function z(a,b,c,d,e){function f(b){var c=b.nextSibling;return Ad&&Ld&&a.display.currentWheelTarget==b?(b.style.display="none",b.lineObj=null):b.parentNode.removeChild(b),c}var g=y(a),h=a.display,i=a.options.lineNumbers;d.length||Ad&&a.display.currentWheelTarget||dd(h.lineDiv);var j=h.lineDiv,k=j.firstChild,l=d.shift(),m=b;for(a.doc.iter(b,c,function(b){if(l&&l.to==m&&(l=d.shift()),Nb(a.doc,b)){if(0!=b.height&&nc(b,0),b.widgets&&k.previousSibling)for(var c=0;c<b.widgets.length;++c){var h=b.widgets[c];if(h.showIfHidden){var n=k.previousSibling;if(/pre/i.test(n.nodeName)){var o=cd("div",null,null,"position: relative");n.parentNode.replaceChild(o,n),o.appendChild(n),n=o}var p=n.appendChild(cd("div",[h.node],"CodeMirror-linewidget"));h.handleMouseEvents||(p.ignoreEvents=!0),B(h,p,n,g)}}}else if(l&&l.from<=m&&l.to>m){for(;k.lineObj!=b;)k=f(k);i&&m>=e&&k.lineNumber&&fd(k.lineNumber,r(a.options,m)),k=k.nextSibling}else{if(b.widgets)for(var q,s=0,t=k;t&&20>s;++s,t=t.nextSibling)if(t.lineObj==b&&/div/i.test(t.nodeName)){q=t;break}var u=A(a,b,m,g,q);if(u!=q)j.insertBefore(u,k);else{for(;k!=q;)k=f(k);k=k.nextSibling}u.lineObj=b}++m});k;)k=f(k)}function A(a,b,c,d,e){var f,g=_b(a,b),h=b.gutterMarkers,i=a.display;if(!(a.options.lineNumbers||h||b.bgClass||b.wrapClass||b.widgets))return g;if(e){e.alignable=null;for(var j,k=!0,l=0,m=null,n=e.firstChild;n;n=j)if(j=n.nextSibling,/\bCodeMirror-linewidget\b/.test(n.className)){for(var o=0;o<b.widgets.length;++o){var p=b.widgets[o];if(p.node==n.firstChild){p.above||m||(m=n),B(p,n,e,d),++l;break}}if(o==b.widgets.length){k=!1;break}}else e.removeChild(n);e.insertBefore(g,m),k&&l==b.widgets.length&&(f=e,e.className=b.wrapClass||"")}if(f||(f=cd("div",null,b.wrapClass,"position: relative"),f.appendChild(g)),b.bgClass&&f.insertBefore(cd("div",null,b.bgClass+" CodeMirror-linebackground"),f.firstChild),a.options.lineNumbers||h){var q=f.insertBefore(cd("div",null,null,"position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),f.firstChild);if(a.options.fixedGutter&&(f.alignable||(f.alignable=[])).push(q),!a.options.lineNumbers||h&&h["CodeMirror-linenumbers"]||(f.lineNumber=q.appendChild(cd("div",r(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.lineNumInnerWidth+"px"))),h)for(var s=0;s<a.options.gutters.length;++s){var t=a.options.gutters[s],u=h.hasOwnProperty(t)&&h[t];u&&q.appendChild(cd("div",[u],"CodeMirror-gutter-elt","left: "+d.gutterLeft[t]+"px; width: "+d.gutterWidth[t]+"px"))}}if(yd&&(f.style.zIndex=2),b.widgets&&f!=e)for(var o=0,v=b.widgets;o<v.length;++o){var p=v[o],w=cd("div",[p.node],"CodeMirror-linewidget");p.handleMouseEvents||(w.ignoreEvents=!0),B(p,w,f,d),p.above?f.insertBefore(w,a.options.lineNumbers&&0!=b.height?q:g):f.appendChild(w),Nc(p,"redraw")}return f}function B(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function C(a){var b=a.display,c=Ta(a.doc.sel.from,a.doc.sel.to);if(c||a.options.showCursorWhenSelecting?D(a):b.cursor.style.display=b.otherCursor.style.display="none",c?b.selectionDiv.style.display="none":E(a),a.options.moveInputWithCursor){var d=Z(a,a.doc.sel.head,"div"),e=gd(b.wrapper),f=gd(b.lineDiv);b.inputDiv.style.top=Math.max(0,Math.min(b.wrapper.clientHeight-10,d.top+f.top-e.top))+"px",b.inputDiv.style.left=Math.max(0,Math.min(b.wrapper.clientWidth-10,d.left+f.left-e.left))+"px"}}function D(a){var b=a.display,c=Z(a,a.doc.sel.head,"div");b.cursor.style.left=c.left+"px",b.cursor.style.top=c.top+"px",b.cursor.style.height=Math.max(0,c.bottom-c.top)*a.options.cursorHeight+"px",b.cursor.style.display="",c.other?(b.otherCursor.style.display="",b.otherCursor.style.left=c.other.left+"px",b.otherCursor.style.top=c.other.top+"px",b.otherCursor.style.height=.85*(c.other.bottom-c.other.top)+"px"):b.otherCursor.style.display="none"}function E(a){function b(a,b,c,d){0>b&&(b=0),g.appendChild(cd("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?h-a:c)+"px; height: "+(d-b)+"px"))}function c(c,d,f){function g(b,d){return Y(a,Sa(c,b),"div",l,d)}var j,k,l=kc(e,c),m=l.text.length;return kd(rc(l),d||0,null==f?m:f,function(a,c,e){var l,n,o,p=g(a,"left");if(a==c)l=p,n=o=p.left;else{if(l=g(c-1,"right"),"rtl"==e){var q=p;p=l,l=q}n=p.left,o=l.right}null==d&&0==a&&(n=i),l.top-p.top>3&&(b(n,p.top,null,p.bottom),n=i,p.bottom<l.top&&b(n,p.bottom,null,l.top)),null==f&&c==m&&(o=h),(!j||p.top<j.top||p.top==j.top&&p.left<j.left)&&(j=p),(!k||l.bottom>k.bottom||l.bottom==k.bottom&&l.right>k.right)&&(k=l),i+1>n&&(n=i),b(n,l.top,o-n,l.bottom)}),{start:j,end:k}}var d=a.display,e=a.doc,f=a.doc.sel,g=document.createDocumentFragment(),h=d.lineSpace.offsetWidth,i=M(a.display);if(f.from.line==f.to.line)c(f.from.line,f.from.ch,f.to.ch);else{var j=kc(e,f.from.line),k=kc(e,f.to.line),l=Mb(e,j)==Mb(e,k),m=c(f.from.line,f.from.ch,l?j.text.length:null).end,n=c(f.to.line,l?0:null,f.to.ch).start;l&&(m.top<n.top-2?(b(m.right,m.top,null,m.bottom),b(i,n.top,n.left,n.bottom)):b(m.right,m.top,n.left-m.right,m.bottom)),m.bottom<n.top&&b(i,m.bottom,null,n.top)}ed(d.selectionDiv,g),d.selectionDiv.style.display=""}function F(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursor.style.visibility=b.otherCursor.style.visibility="",b.blinker=setInterval(function(){b.cursor.style.visibility=b.otherCursor.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate)}}function G(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.showingTo&&a.state.highlight.set(b,_c(H,a))}function H(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.showingTo)){var c,d=+new Date+a.options.workTime,e=qb(b.mode,J(a,b.frontier)),f=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.showingTo+500),function(g){if(b.frontier>=a.display.showingFrom){var h=g.styles;g.styles=Xb(a,g,e);for(var i=!h||h.length!=g.styles.length,j=0;!i&&j<h.length;++j)i=h[j]!=g.styles[j];i&&(c&&c.end==b.frontier?c.end++:f.push(c={start:b.frontier,end:b.frontier+1})),g.stateAfter=qb(b.mode,e)}else Zb(a,g,e),g.stateAfter=b.frontier%5==0?qb(b.mode,e):null;return++b.frontier,+new Date>d?(G(a,a.options.workDelay),!0):void 0}),f.length&&fa(a,function(){for(var a=0;a<f.length;++a)ia(this,f[a].start,f[a].end)})()}}function I(a,b,c){for(var d,e,f=a.doc,g=b,h=b-100;g>h;--g){if(g<=f.first)return f.first;var i=kc(f,g-1);if(i.stateAfter&&(!c||g<=f.frontier))return g;var j=Tc(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=g-1,d=j)}return e}function J(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=I(a,b,c),g=f>d.first&&kc(d,f-1).stateAfter;return g=g?qb(d.mode,g):rb(d.mode),d.iter(f,b,function(c){Zb(a,c,g);var h=f==b-1||f%5==0||f>=e.showingFrom&&f<e.showingTo;c.stateAfter=h?qb(d.mode,g):null,++f}),g}function K(a){return a.lineSpace.offsetTop}function L(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function M(a){var b=ed(a.measure,cd("pre",null,null,"text-align: left")).appendChild(cd("span","x"));return b.offsetLeft}function N(a,b,c,d,e){var f=-1;d=d||Q(a,b);for(var g=c;;g+=f){var h=d[g];if(h)break;0>f&&0==g&&(f=1)}return e=g>c?"left":c>g?"right":e,"left"==e&&h.leftSide?h=h.leftSide:"right"==e&&h.rightSide&&(h=h.rightSide),{left:c>g?h.right:h.left,right:g>c?h.left:h.right,top:h.top,bottom:h.bottom}}function O(a,b){for(var c=a.display.measureLineCache,d=0;d<c.length;++d){var e=c[d];if(e.text==b.text&&e.markedSpans==b.markedSpans&&a.display.scroller.clientWidth==e.width&&e.classes==b.textClass+"|"+b.bgClass+"|"+b.wrapClass)return e}}function P(a,b){var c=O(a,b);c&&(c.text=c.measure=c.markedSpans=null)}function Q(a,b){var c=O(a,b);if(c)return c.measure;var d=R(a,b),e=a.display.measureLineCache,f={text:b.text,width:a.display.scroller.clientWidth,markedSpans:b.markedSpans,measure:d,classes:b.textClass+"|"+b.bgClass+"|"+b.wrapClass};return 16==e.length?e[++a.display.measureLineCachePos%16]=f:e.push(f),d}function R(a,b){function c(a){var b=a.top-o.top,c=a.bottom-o.top;c>r&&(c=r),0>b&&(b=0);for(var d=p.length-2;d>=0;d-=2){var e=p[d],f=p[d+1];if(!(e>c||b>f)&&(b>=e&&f>=c||e>=b&&c>=f||Math.min(c,f)-Math.max(b,e)>=c-b>>1)){p[d]=Math.min(b,e),p[d+1]=Math.max(c,f);break}}return 0>d&&(d=p.length,p.push(b,c)),{left:a.left-o.left,right:a.right-o.left,top:d,bottom:null}}function d(a){a.bottom=p[a.top+1],a.top=p[a.top]}var e=a.display,f=$c(b.text.length),g=_b(a,b,f,!0);if(xd&&!yd&&!a.options.lineWrapping&&g.childNodes.length>100){for(var h=document.createDocumentFragment(),i=10,j=g.childNodes.length,k=0,l=Math.ceil(j/i);l>k;++k){for(var m=cd("div",null,null,"display: inline-block"),n=0;i>n&&j;++n)m.appendChild(g.firstChild),--j;h.appendChild(m)}g.appendChild(h)}ed(e.measure,g);var o=gd(e.lineDiv),p=[],q=$c(b.text.length),r=g.offsetHeight;zd&&e.measure.first!=g&&ed(e.measure,g);for(var s,k=0;k<f.length;++k)if(s=f[k]){var t=s,u=null;if(/\bCodeMirror-widget\b/.test(s.className)&&s.getClientRects){1==s.firstChild.nodeType&&(t=s.firstChild);var v=t.getClientRects();v.length>1&&(u=q[k]=c(v[0]),u.rightSide=c(v[v.length-1]))}u||(u=q[k]=c(gd(t))),s.measureRight&&(u.right=gd(s.measureRight).left),s.leftSide&&(u.leftSide=c(gd(s.leftSide)))}for(var s,k=0;k<q.length;++k)(s=q[k])&&(d(s),s.leftSide&&d(s.leftSide),s.rightSide&&d(s.rightSide));return q}function S(a,b){var c=!1;if(b.markedSpans)for(var d=0;d<b.markedSpans;++d){var e=b.markedSpans[d];!e.collapsed||null!=e.to&&e.to!=b.text.length||(c=!0)}var f=!c&&O(a,b);if(f)return N(a,b,b.text.length,f.measure,"right").right;var g=_b(a,b,null,!0),h=g.appendChild(jd(a.display.measure));return ed(a.display.measure,g),gd(h).right-gd(a.display.lineDiv).left}function T(a){a.display.measureLineCache.length=a.display.measureLineCachePos=0,a.display.cachedCharWidth=a.display.cachedTextHeight=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function U(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function V(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function W(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Sb(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=qc(a,b);if("local"==d?g+=K(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=gd(a.display.lineSpace);g+=h.top+("window"==d?0:V());var i=h.left+("window"==d?0:U());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function X(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=U(),e-=V();else if("local"==c||!c){var f=gd(a.display.sizer);d+=f.left,e+=f.top}var g=gd(a.display.lineSpace);return{left:d-g.left,top:e-g.top}}function Y(a,b,c,d,e){return d||(d=kc(a.doc,b.line)),W(a,d,N(a,d,b.ch,null,e),c)}function Z(a,b,c,d,e){function f(b,f){var g=N(a,d,b,e,f?"right":"left");return f?g.left=g.right:g.right=g.left,W(a,d,g,c)}function g(a,b){var c=h[b],d=c.level%2;return a==ld(c)&&b&&c.level<h[b-1].level?(c=h[--b],a=md(c)-(c.level%2?0:1),d=!0):a==md(c)&&b<h.length-1&&c.level<h[b+1].level&&(c=h[++b],a=ld(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?f(a-1):f(a,d)}d=d||kc(a.doc,b.line),e||(e=Q(a,d));var h=rc(d),i=b.ch;if(!h)return f(i);var j=sd(h,i),k=g(i,j);return null!=He&&(k.other=g(i,He)),k}function $(a,b,c,d){var e=new Sa(a,b);return e.xRel=d,c&&(e.outside=!0),e}function _(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,0>c)return $(d.first,0,!0,-1);var e=pc(d,c),f=d.first+d.size-1;if(e>f)return $(d.first+d.size-1,kc(d,f).text.length,!0,1);for(0>b&&(b=0);;){var g=kc(d,e),h=aa(a,g,e,b,c),i=Lb(g),j=i&&i.find();if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=j.to.line}}function aa(a,b,c,d,e){function f(d){var e=Z(a,Sa(c,d),"line",b,j);return h=!0,g>e.bottom?e.left-i:g<e.top?e.left+i:(h=!1,e.left)}var g=e-qc(a,b),h=!1,i=2*a.display.wrapper.clientWidth,j=Q(a,b),k=rc(b),l=b.text.length,m=nd(b),n=od(b),o=f(m),p=h,q=f(n),r=h;if(d>q)return $(c,n,r,1);for(;;){if(k?n==m||n==ud(b,m,1):1>=n-m){for(var s=o>d||q-d>=d-o?m:n,t=d-(s==m?o:q);ze.test(b.text.charAt(s));)++s;var u=$(c,s,s==m?p:r,0>t?-1:t?1:0);return u}var v=Math.ceil(l/2),w=m+v;if(k){w=m;for(var x=0;v>x;++x)w=ud(b,w,1)}var y=f(w);y>d?(n=w,q=y,(r=h)&&(q+=1e3),l=v):(m=w,o=y,p=h,l-=v)}}function ba(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Od){Od=cd("pre");for(var b=0;49>b;++b)Od.appendChild(document.createTextNode("x")),Od.appendChild(cd("br"));Od.appendChild(document.createTextNode("x"))}ed(a.measure,Od);var c=Od.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),dd(a.measure),c||1}function ca(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=cd("span","x"),c=cd("pre",[b]);ed(a.measure,c);var d=b.offsetWidth;return d>2&&(a.cachedCharWidth=d),d||10}function da(a){a.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Vd},ue++||(te=[])}function ea(a){var b=a.curOp,c=a.doc,d=a.display;if(a.curOp=null,b.updateMaxLine&&l(a),d.maxLineChanged&&!a.options.lineWrapping&&d.maxLine){var e=S(a,d.maxLine);d.sizer.style.minWidth=Math.max(0,e+3+ve)+"px",d.maxLineChanged=!1;var f=Math.max(0,d.sizer.offsetLeft+d.sizer.offsetWidth-d.scroller.clientWidth);f<c.scrollLeft&&!b.updateScrollPos&&xa(a,Math.min(d.scroller.scrollLeft,f),!0)}var g,h;if(b.updateScrollPos)g=b.updateScrollPos;else if(b.selectionChanged&&d.scroller.clientHeight){var i=Z(a,c.sel.head);g=gb(a,i.left,i.top,i.left,i.bottom)}(b.changes.length||b.forceUpdate||g&&null!=g.scrollTop)&&(h=t(a,b.changes,g&&g.scrollTop,b.forceUpdate),a.display.scroller.offsetHeight&&(a.doc.scrollTop=a.display.scroller.scrollTop)),!h&&b.selectionChanged&&C(a),b.updateScrollPos?(d.scroller.scrollTop=d.scrollbarV.scrollTop=c.scrollTop=g.scrollTop,d.scroller.scrollLeft=d.scrollbarH.scrollLeft=c.scrollLeft=g.scrollLeft,p(a),b.scrollToPos&&eb(a,Xa(a.doc,b.scrollToPos),b.scrollToPosMargin)):g&&db(a),b.selectionChanged&&F(a),a.state.focused&&b.updateInput&&ma(a,b.userSelChange);var j=b.maybeHiddenMarkers,k=b.maybeUnhiddenMarkers;if(j)for(var m=0;m<j.length;++m)j[m].lines.length||Mc(j[m],"hide");if(k)for(var m=0;m<k.length;++m)k[m].lines.length&&Mc(k[m],"unhide");var n;if(--ue||(n=te,te=null),b.textChanged&&Mc(a,"change",a,b.textChanged),b.cursorActivity&&Mc(a,"cursorActivity",a),n)for(var m=0;m<n.length;++m)n[m]()}function fa(a,b){return function(){var c=a||this,d=!c.curOp;d&&da(c);try{var e=b.apply(c,arguments)}finally{d&&ea(c)}return e}}function ga(a){return function(){var b,c=this.cm&&!this.cm.curOp;c&&da(this.cm);try{b=a.apply(this,arguments)}finally{c&&ea(this.cm)}return b}}function ha(a,b){var c,d=!a.curOp;d&&da(a);try{c=b()}finally{d&&ea(a)}return c}function ia(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),a.curOp.changes.push({from:b,to:c,diff:d})}function ja(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){la(a),a.state.focused&&ja(a)})}function ka(a){function b(){var d=la(a);d||c?(a.display.pollingFast=!1,ja(a)):(c=!0,a.display.poll.set(60,b))}var c=!1;a.display.pollingFast=!0,a.display.poll.set(20,b)}function la(a){var b=a.display.input,c=a.display.prevInput,d=a.doc,e=d.sel;if(!a.state.focused||Ee(b)||oa(a)||a.state.disableInput)return!1;var f=b.value;if(f==c&&Ta(e.from,e.to))return!1;if(xd&&!zd&&a.display.inputHasSelection===f)return ma(a,!0),!1;var g=!a.curOp;g&&da(a),e.shift=!1;for(var h=0,i=Math.min(c.length,f.length);i>h&&c.charCodeAt(h)==f.charCodeAt(h);)++h;var j=e.from,k=e.to;h<c.length?j=Sa(j.line,j.ch-(c.length-h)):a.state.overwrite&&Ta(j,k)&&!a.state.pasteIncoming&&(k=Sa(k.line,Math.min(kc(d,k.line).text.length,k.ch+(f.length-h))));var l=a.curOp.updateInput,m={from:j,to:k,text:De(f.slice(h)),origin:a.state.pasteIncoming?"paste":"+input"};return La(a.doc,m,"end"),a.curOp.updateInput=l,Nc(a,"inputRead",a,m),f.length>1e3||f.indexOf("\n")>-1?b.value=a.display.prevInput="":a.display.prevInput=f,g&&ea(a),a.state.pasteIncoming=!1,!0}function ma(a,b){var c,d,e=a.doc;if(Ta(e.sel.from,e.sel.to))b&&(a.display.prevInput=a.display.input.value="",xd&&!zd&&(a.display.inputHasSelection=null));else{a.display.prevInput="",c=Fe&&(e.sel.to.line-e.sel.from.line>100||(d=a.getSelection()).length>1e3);var f=c?"-":d||a.getSelection();a.display.input.value=f,a.state.focused&&Wc(a.display.input),xd&&!zd&&(a.display.inputHasSelection=f)}a.display.inaccurateSelection=c}function na(a){"nocursor"==a.options.readOnly||Kd&&document.activeElement==a.display.input||a.display.input.focus()}function oa(a){return a.options.readOnly||a.doc.cantEdit}function pa(a){function b(){a.state.focused&&setTimeout(_c(na,a),0)}function c(){null==h&&(h=setTimeout(function(){h=null,g.cachedCharWidth=g.cachedTextHeight=Be=null,T(a),ha(a,_c(ia,a))},100))}function d(){for(var a=g.wrapper.parentNode;a&&a!=document.body;a=a.parentNode);a?setTimeout(d,5e3):Lc(window,"resize",c)}function e(b){Oc(a,b)||a.options.onDragEvent&&a.options.onDragEvent(a,Dc(b))||Hc(b)}function f(){g.inaccurateSelection&&(g.prevInput="",g.inaccurateSelection=!1,g.input.value=a.getSelection(),Wc(g.input))}var g=a.display;Kc(g.scroller,"mousedown",fa(a,sa)),xd?Kc(g.scroller,"dblclick",fa(a,function(b){if(!Oc(a,b)){var c=ra(a,b);if(c&&!ta(a,b)&&!qa(a.display,b)){Ec(b);var d=nb(kc(a.doc,c.line).text,c);$a(a.doc,d.from,d.to)}}})):Kc(g.scroller,"dblclick",function(b){Oc(a,b)||Ec(b)}),Kc(g.lineSpace,"selectstart",function(a){qa(g,a)||Ec(a)}),Sd||Kc(g.scroller,"contextmenu",function(b){Ha(a,b)}),Kc(g.scroller,"scroll",function(){g.scroller.clientHeight&&(wa(a,g.scroller.scrollTop),xa(a,g.scroller.scrollLeft,!0),Mc(a,"scroll",a))}),Kc(g.scrollbarV,"scroll",function(){g.scroller.clientHeight&&wa(a,g.scrollbarV.scrollTop)}),Kc(g.scrollbarH,"scroll",function(){g.scroller.clientHeight&&xa(a,g.scrollbarH.scrollLeft)}),Kc(g.scroller,"mousewheel",function(b){ya(a,b)}),Kc(g.scroller,"DOMMouseScroll",function(b){ya(a,b)}),Kc(g.scrollbarH,"mousedown",b),Kc(g.scrollbarV,"mousedown",b),Kc(g.wrapper,"scroll",function(){g.wrapper.scrollTop=g.wrapper.scrollLeft=0});var h;Kc(window,"resize",c),setTimeout(d,5e3),Kc(g.input,"keyup",fa(a,function(b){Oc(a,b)||a.options.onKeyEvent&&a.options.onKeyEvent(a,Dc(b))||16==b.keyCode&&(a.doc.sel.shift=!1)})),Kc(g.input,"input",_c(ka,a)),Kc(g.input,"keydown",fa(a,Da)),Kc(g.input,"keypress",fa(a,Ea)),Kc(g.input,"focus",_c(Fa,a)),Kc(g.input,"blur",_c(Ga,a)),a.options.dragDrop&&(Kc(g.scroller,"dragstart",function(b){va(a,b)}),Kc(g.scroller,"dragenter",e),Kc(g.scroller,"dragover",e),Kc(g.scroller,"drop",fa(a,ua))),Kc(g.scroller,"paste",function(b){qa(g,b)||(na(a),ka(a))}),Kc(g.input,"paste",function(){a.state.pasteIncoming=!0,ka(a)}),Kc(g.input,"cut",f),Kc(g.input,"copy",f),Fd&&Kc(g.sizer,"mouseup",function(){document.activeElement==g.input&&g.input.blur(),na(a)})}function qa(a,b){for(var c=Ic(b);c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function ra(a,b,c){var d=a.display;if(!c){var e=Ic(b);if(e==d.scrollbarH||e==d.scrollbarH.firstChild||e==d.scrollbarV||e==d.scrollbarV.firstChild||e==d.scrollbarFiller||e==d.gutterFiller)return null}var f,g,h=gd(d.lineSpace);try{f=b.clientX,g=b.clientY}catch(b){return null}return _(a,f-h.left,g-h.top)}function sa(a){function b(a){if(!Ta(r,a)){if(r=a,"single"==k)return void $a(e.doc,Xa(g,i),a);if(p=Xa(g,p),q=Xa(g,q),"double"==k){var b=nb(kc(g,a.line).text,a);Ua(a,p)?$a(e.doc,b.from,q):$a(e.doc,p,b.to)}else"triple"==k&&(Ua(a,p)?$a(e.doc,q,Xa(g,Sa(a.line,0))):$a(e.doc,p,Xa(g,Sa(a.line+1,0))))}}function c(a){var d=++t,h=ra(e,a,!0);if(h)if(Ta(h,m)){var i=a.clientY<s.top?-20:a.clientY>s.bottom?20:0;i&&setTimeout(fa(e,function(){t==d&&(f.scroller.scrollTop+=i,c(a))}),50)}else{e.state.focused||Fa(e),m=h,b(h);var j=o(f,g);(h.line>=j.to||h.line<j.from)&&setTimeout(fa(e,function(){t==d&&c(a)}),150)}}function d(a){t=1/0,Ec(a),na(e),Lc(document,"mousemove",u),Lc(document,"mouseup",v)}if(!Oc(this,a)){var e=this,f=e.display,g=e.doc,h=g.sel;if(h.shift=a.shiftKey,qa(f,a))return void(Ad||(f.scroller.draggable=!1,setTimeout(function(){f.scroller.draggable=!0},100)));if(!ta(e,a)){var i=ra(e,a);switch(Jc(a)){case 3:return void(Sd&&Ha.call(e,e,a));case 2:return i&&$a(e.doc,i),setTimeout(_c(na,e),20),void Ec(a)}if(!i)return void(Ic(a)==f.scroller&&Ec(a));e.state.focused||Fa(e);var j=+new Date,k="single";if(Qd&&Qd.time>j-400&&Ta(Qd.pos,i))k="triple",Ec(a),setTimeout(_c(na,e),20),ob(e,i.line);else if(Pd&&Pd.time>j-400&&Ta(Pd.pos,i)){k="double",Qd={time:j,pos:i},Ec(a);var l=nb(kc(g,i.line).text,i);$a(e.doc,l.from,l.to)}else Pd={time:j,pos:i};var m=i;if(e.options.dragDrop&&Ae&&!oa(e)&&!Ta(h.from,h.to)&&!Ua(i,h.from)&&!Ua(h.to,i)&&"single"==k){var n=fa(e,function(b){Ad&&(f.scroller.draggable=!1),e.state.draggingText=!1,Lc(document,"mouseup",n),Lc(f.scroller,"drop",n),Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)<10&&(Ec(b),$a(e.doc,i),na(e))});return Ad&&(f.scroller.draggable=!0),e.state.draggingText=n,f.scroller.dragDrop&&f.scroller.dragDrop(),Kc(document,"mouseup",n),void Kc(f.scroller,"drop",n)}Ec(a),"single"==k&&$a(e.doc,Xa(g,i));var p=h.from,q=h.to,r=i,s=gd(f.wrapper),t=0,u=fa(e,function(a){xd||Jc(a)?c(a):d(a)}),v=fa(e,d);Kc(document,"mousemove",u),Kc(document,"mouseup",v)}}}function ta(a,b){var c=a.display;try{var d=b.clientX,e=b.clientY}catch(b){return!1}if(d>=Math.floor(gd(c.gutters).right))return!1;if(Ec(b),!Qc(a,"gutterClick"))return!0;var f=gd(c.lineDiv);if(e>f.bottom)return!0;e-=f.top-c.viewOffset;for(var g=0;g<a.options.gutters.length;++g){var h=c.gutters.childNodes[g];if(h&&gd(h).right>=d){var i=pc(a.doc,e),j=a.options.gutters[g];Nc(a,"gutterClick",a,i,j,b);break}}return!0}function ua(a){var b=this;if(!(Oc(b,a)||qa(b.display,a)||b.options.onDragEvent&&b.options.onDragEvent(b,Dc(a)))){Ec(a),xd&&(Wd=+new Date);var c=ra(b,a,!0),d=a.dataTransfer.files;if(c&&!oa(b))if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){var h=new FileReader;h.onload=function(){f[d]=h.result,++g==e&&(c=Xa(b.doc,c),La(b.doc,{from:c,to:c,text:De(f.join("\n")),origin:"paste"},"around"))},h.readAsText(a)},i=0;e>i;++i)h(d[i],i);else{if(b.state.draggingText&&!Ua(c,b.doc.sel.from)&&!Ua(b.doc.sel.to,c))return b.state.draggingText(a),void setTimeout(_c(na,b),20);try{var f=a.dataTransfer.getData("Text");if(f){var j=b.doc.sel.from,k=b.doc.sel.to;ab(b.doc,c,c),b.state.draggingText&&Ra(b.doc,"",j,k,"paste"),b.replaceSelection(f,null,"paste"),na(b),Fa(b)}}catch(a){}}}}function va(a,b){if(xd&&(!a.state.draggingText||+new Date-Wd<100))return void Hc(b);if(!Oc(a,b)&&!qa(a.display,b)){var c=a.getSelection();if(b.dataTransfer.setData("Text",c),b.dataTransfer.setDragImage&&!Ed){var d=cd("img",null,null,"position: fixed; left: 0; top: 0;");Dd&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop),b.dataTransfer.setDragImage(d,0,0),Dd&&d.parentNode.removeChild(d)}}}function wa(a,b){Math.abs(a.doc.scrollTop-b)<2||(a.doc.scrollTop=b,wd||t(a,[],b),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),wd&&t(a,[]),G(a,100))}function xa(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,p(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function ya(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(c=b.detail),null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=a.display,f=e.scroller;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&Ld&&Ad)for(var g=b.target;g!=f;g=g.parentNode)if(g.lineObj){a.display.currentWheelTarget=g;break}if(c&&!wd&&!Dd&&null!=Yd)return d&&wa(a,Math.max(0,Math.min(f.scrollTop+d*Yd,f.scrollHeight-f.clientHeight))),xa(a,Math.max(0,Math.min(f.scrollLeft+c*Yd,f.scrollWidth-f.clientWidth))),Ec(b),void(e.wheelStartX=null);if(d&&null!=Yd){var h=d*Yd,i=a.doc.scrollTop,j=i+e.wrapper.clientHeight;0>h?i=Math.max(0,i+h-50):j=Math.min(a.doc.height,j+h+50),t(a,[],{top:i,bottom:j})}20>Xd&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,e.wheelDX=c,e.wheelDY=d,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,c=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null,c&&(Yd=(Yd*Xd+c)/(Xd+1),++Xd)}},200)):(e.wheelDX+=c,e.wheelDY+=d))}}function za(a,b,c){if("string"==typeof b&&(b=je[b],!b))return!1;a.display.pollingFast&&la(a)&&(a.display.pollingFast=!1);var d=a.doc,e=d.sel.shift,f=!1;try{oa(a)&&(a.state.suppressEdits=!0),c&&(d.sel.shift=!1),f=b(a)!=we}finally{d.sel.shift=e,a.state.suppressEdits=!1}return f}function Aa(a){var b=a.state.keyMaps.slice(0);return a.options.extraKeys&&b.push(a.options.extraKeys),b.push(a.options.keyMap),b}function Ba(a,b){var c=sb(a.options.keyMap),d=c.auto;clearTimeout(Zd),d&&!ub(b)&&(Zd=setTimeout(function(){sb(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d,g(a))},50));var e=vb(b,!0),f=!1;if(!e)return!1;var h=Aa(a);return f=b.shiftKey?tb("Shift-"+e,h,function(b){return za(a,b,!0)})||tb(e,h,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?za(a,b):void 0}):tb(e,h,function(b){return za(a,b)}),f&&(Ec(b),F(a),zd&&(b.oldKeyCode=b.keyCode,b.keyCode=0),Nc(a,"keyHandled",a,e,b)),f}function Ca(a,b,c){var d=tb("'"+c+"'",Aa(a),function(b){return za(a,b,!0)});return d&&(Ec(b),F(a),Nc(a,"keyHandled",a,"'"+c+"'",b)),d}function Da(a){var b=this;if(b.state.focused||Fa(b),xd&&27==a.keyCode&&(a.returnValue=!1),!(Oc(b,a)||b.options.onKeyEvent&&b.options.onKeyEvent(b,Dc(a)))){var c=a.keyCode;b.doc.sel.shift=16==c||a.shiftKey;var d=Ba(b,a);Dd&&(_d=d?c:null,!d&&88==c&&!Fe&&(Ld?a.metaKey:a.ctrlKey)&&b.replaceSelection(""))}}function Ea(a){var b=this;if(!(Oc(b,a)||b.options.onKeyEvent&&b.options.onKeyEvent(b,Dc(a)))){var c=a.keyCode,d=a.charCode;if(Dd&&c==_d)return _d=null,void Ec(a);if(!(Dd&&(!a.which||a.which<10)||Fd)||!Ba(b,a)){var e=String.fromCharCode(null==d?c:d);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!oa(this)&&this.doc.mode.electricChars.indexOf(e)>-1&&setTimeout(fa(b,function(){jb(b,b.doc.sel.to.line,"smart")}),75),Ca(b,a,e)||(xd&&!zd&&(b.display.inputHasSelection=null),ka(b))}}}function Fa(a){"nocursor"!=a.options.readOnly&&(a.state.focused||(Mc(a,"focus",a),a.state.focused=!0,-1==a.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(a.display.wrapper.className+=" CodeMirror-focused"),ma(a,!0)),ja(a),F(a))}function Ga(a){a.state.focused&&(Mc(a,"blur",a),a.state.focused=!1,a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.doc.sel.shift=!1)},150)}function Ha(a,b){function c(){if(null!=e.input.selectionStart){var a=e.input.value=" "+(Ta(f.from,f.to)?"":e.input.value);e.prevInput=" ",e.input.selectionStart=1,e.input.selectionEnd=a.length}}function d(){if(e.inputDiv.style.position="relative",e.input.style.cssText=i,
zd&&(e.scrollbarV.scrollTop=e.scroller.scrollTop=h),ja(a),null!=e.input.selectionStart){(!xd||zd)&&c(),clearTimeout($d);var b=0,d=function(){" "==e.prevInput&&0==e.input.selectionStart?fa(a,je.selectAll)(a):b++<10?$d=setTimeout(d,500):ma(a)};$d=setTimeout(d,200)}}if(!Oc(a,b,"contextmenu")){var e=a.display,f=a.doc.sel;if(!qa(e,b)){var g=ra(a,b),h=e.scroller.scrollTop;if(g&&!Dd){(Ta(f.from,f.to)||Ua(g,f.from)||!Ua(g,f.to))&&fa(a,ab)(a.doc,g,g);var i=e.input.style.cssText;if(e.inputDiv.style.position="absolute",e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",na(a),ma(a,!0),Ta(f.from,f.to)&&(e.input.value=e.prevInput=" "),xd&&!zd&&c(),Sd){Hc(b);var j=function(){Lc(window,"mouseup",j),setTimeout(d,20)};Kc(window,"mouseup",j)}else setTimeout(d,50)}}}}function Ia(a,b,c){if(!Ua(b.from,c))return Xa(a,c);var d=b.text.length-1-(b.to.line-b.from.line);if(c.line>b.to.line+d){var e=c.line-d,f=a.first+a.size-1;return e>f?Sa(f,kc(a,f).text.length):Ya(c,kc(a,e).text.length)}if(c.line==b.to.line+d)return Ya(c,Vc(b.text).length+(1==b.text.length?b.from.ch:0)+kc(a,b.to.line).text.length-b.to.ch);var g=c.line-b.from.line;return Ya(c,b.text[g].length+(g?0:b.from.ch))}function Ja(a,b,c){if(c&&"object"==typeof c)return{anchor:Ia(a,b,c.anchor),head:Ia(a,b,c.head)};if("start"==c)return{anchor:b.from,head:b.from};var d=ae(b);if("around"==c)return{anchor:b.from,head:d};if("end"==c)return{anchor:d,head:d};var e=function(a){if(Ua(a,b.from))return a;if(!Ua(b.to,a))return d;var c=a.line+b.text.length-(b.to.line-b.from.line)-1,e=a.ch;return a.line==b.to.line&&(e+=d.ch-b.to.ch),Sa(c,e)};return{anchor:e(a.sel.anchor),head:e(a.sel.head)}}function Ka(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=Xa(a,b)),c&&(this.to=Xa(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),Mc(a,"beforeChange",a,d),a.cm&&Mc(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function La(a,b,c,d){if(a.cm){if(!a.cm.curOp)return fa(a.cm,La)(a,b,c,d);if(a.cm.state.suppressEdits)return}if(!(Qc(a,"beforeChange")||a.cm&&Qc(a.cm,"beforeChange"))||(b=Ka(a,b,!0))){var e=Td&&!d&&Ib(a,b.from,b.to);if(e){for(var f=e.length-1;f>=1;--f)Ma(a,{from:e[f].from,to:e[f].to,text:[""]});e.length&&Ma(a,{from:e[0].from,to:e[0].to,text:b.text},c)}else Ma(a,b,c)}}function Ma(a,b,c){var d=Ja(a,b,c);vc(a,b,d,a.cm?a.cm.curOp.id:NaN),Pa(a,b,d,Gb(a,b));var e=[];ic(a,function(a,c){c||-1!=Xc(e,a.history)||(Bc(a.history,b),e.push(a.history)),Pa(a,b,null,Gb(a,b))})}function Na(a,b){if(!a.cm||!a.cm.state.suppressEdits){var c=a.history,d=("undo"==b?c.done:c.undone).pop();if(d){var e={changes:[],anchorBefore:d.anchorAfter,headBefore:d.headAfter,anchorAfter:d.anchorBefore,headAfter:d.headBefore,generation:c.generation};("undo"==b?c.undone:c.done).push(e),c.generation=d.generation||++c.maxGeneration;for(var f=Qc(a,"beforeChange")||a.cm&&Qc(a.cm,"beforeChange"),g=d.changes.length-1;g>=0;--g){var h=d.changes[g];if(h.origin=b,f&&!Ka(a,h,!1))return void(("undo"==b?c.done:c.undone).length=0);e.changes.push(uc(a,h));var i=g?Ja(a,h,null):{anchor:d.anchorBefore,head:d.headBefore};Pa(a,h,i,Hb(a,h));var j=[];ic(a,function(a,b){b||-1!=Xc(j,a.history)||(Bc(a.history,h),j.push(a.history)),Pa(a,h,null,Hb(a,h))})}}}}function Oa(a,b){function c(a){return Sa(a.line+b,a.ch)}a.first+=b,a.cm&&ia(a.cm,a.first,a.first,b),a.sel.head=c(a.sel.head),a.sel.anchor=c(a.sel.anchor),a.sel.from=c(a.sel.from),a.sel.to=c(a.sel.to)}function Pa(a,b,c,d){if(a.cm&&!a.cm.curOp)return fa(a.cm,Pa)(a,b,c,d);if(b.to.line<a.first)return void Oa(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Oa(a,e),b={from:Sa(a.first,0),to:Sa(b.to.line+e,b.to.ch),text:[Vc(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:Sa(f,kc(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=lc(a,b.from,b.to),c||(c=Ja(a,b,null)),a.cm?Qa(a.cm,b,d,c):fc(a,b,d,c)}}function Qa(a,b,c,d){var f=a.doc,g=a.display,h=b.from,i=b.to,j=!1,l=h.line;a.options.lineWrapping||(l=oc(Mb(f,kc(f,h.line))),f.iter(l,i.line+1,function(a){return a==g.maxLine?(j=!0,!0):void 0})),Ua(f.sel.head,b.from)||Ua(b.to,f.sel.head)||(a.curOp.cursorActivity=!0),fc(f,b,c,d,e(a)),a.options.lineWrapping||(f.iter(l,h.line+b.text.length,function(a){var b=k(f,a);b>g.maxLineLength&&(g.maxLine=a,g.maxLineLength=b,g.maxLineChanged=!0,j=!1)}),j&&(a.curOp.updateMaxLine=!0)),f.frontier=Math.min(f.frontier,h.line),G(a,400);var m=b.text.length-(i.line-h.line)-1;if(ia(a,h.line,i.line+1,m),Qc(a,"change")){var n={from:h,to:i,text:b.text,removed:b.removed,origin:b.origin};if(a.curOp.textChanged){for(var o=a.curOp.textChanged;o.next;o=o.next);o.next=n}else a.curOp.textChanged=n}}function Ra(a,b,c,d,e){if(d||(d=c),Ua(d,c)){var f=d;d=c,c=f}"string"==typeof b&&(b=De(b)),La(a,{from:c,to:d,text:b,origin:e},null)}function Sa(a,b){return this instanceof Sa?(this.line=a,void(this.ch=b)):new Sa(a,b)}function Ta(a,b){return a.line==b.line&&a.ch==b.ch}function Ua(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function Va(a){return Sa(a.line,a.ch)}function Wa(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function Xa(a,b){if(b.line<a.first)return Sa(a.first,0);var c=a.first+a.size-1;return b.line>c?Sa(c,kc(a,c).text.length):Ya(b,kc(a,b.line).text.length)}function Ya(a,b){var c=a.ch;return null==c||c>b?Sa(a.line,b):0>c?Sa(a.line,0):a}function Za(a,b){return b>=a.first&&b<a.first+a.size}function $a(a,b,c,d){if(a.sel.shift||a.sel.extend){var e=a.sel.anchor;if(c){var f=Ua(b,e);f!=Ua(c,e)?(e=b,b=c):f!=Ua(b,c)&&(b=c)}ab(a,e,b,d)}else ab(a,b,c||b,d);a.cm&&(a.cm.curOp.userSelChange=!0)}function _a(a,b,c){var d={anchor:b,head:c};return Mc(a,"beforeSelectionChange",a,d),a.cm&&Mc(a.cm,"beforeSelectionChange",a.cm,d),d.anchor=Xa(a,d.anchor),d.head=Xa(a,d.head),d}function ab(a,b,c,d,e){if(!e&&Qc(a,"beforeSelectionChange")||a.cm&&Qc(a.cm,"beforeSelectionChange")){var f=_a(a,b,c);c=f.head,b=f.anchor}var g=a.sel;if(g.goalColumn=null,(e||!Ta(b,g.anchor))&&(b=cb(a,b,d,"push"!=e)),(e||!Ta(c,g.head))&&(c=cb(a,c,d,"push"!=e)),!Ta(g.anchor,b)||!Ta(g.head,c)){g.anchor=b,g.head=c;var h=Ua(c,b);g.from=h?c:b,g.to=h?b:c,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=a.cm.curOp.cursorActivity=!0),Nc(a,"cursorActivity",a)}}function bb(a){ab(a.doc,a.doc.sel.from,a.doc.sel.to,null,"push")}function cb(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=kc(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&(Mc(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find()[0>g?"from":"to"];if(Ta(l,f)&&(l.ch+=g,l.ch<0?l=l.line>a.first?Xa(a,Sa(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?Sa(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,Sa(a.first,0)):cb(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function db(a){var b=eb(a,a.doc.sel.head,a.options.cursorScrollMargin);if(a.state.focused){var c=a.display,d=gd(c.sizer),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!Id){var f="none"==c.cursor.style.display;f&&(c.cursor.style.display="",c.cursor.style.left=b.left+"px",c.cursor.style.top=b.top-c.viewOffset+"px"),c.cursor.scrollIntoView(e),f&&(c.cursor.style.display="none")}}}function eb(a,b,c){for(null==c&&(c=0);;){var d=!1,e=Z(a,b),f=gb(a,e.left,e.top-c,e.left,e.bottom+c),g=a.doc.scrollTop,h=a.doc.scrollLeft;if(null!=f.scrollTop&&(wa(a,f.scrollTop),Math.abs(a.doc.scrollTop-g)>1&&(d=!0)),null!=f.scrollLeft&&(xa(a,f.scrollLeft),Math.abs(a.doc.scrollLeft-h)>1&&(d=!0)),!d)return e}}function fb(a,b,c,d,e){var f=gb(a,b,c,d,e);null!=f.scrollTop&&wa(a,f.scrollTop),null!=f.scrollLeft&&xa(a,f.scrollLeft)}function gb(a,b,c,d,e){var f=a.display,g=ba(a.display);0>c&&(c=0);var h=f.scroller.clientHeight-ve,i=f.scroller.scrollTop,j={},k=a.doc.height+L(f),l=g>c,m=e>k-g;if(i>c)j.scrollTop=l?0:c;else if(e>i+h){var n=Math.min(c,(m?k:e)-h);n!=i&&(j.scrollTop=n)}var o=f.scroller.clientWidth-ve,p=f.scroller.scrollLeft;b+=f.gutters.offsetWidth,d+=f.gutters.offsetWidth;var q=f.gutters.offsetWidth,r=q+10>b;return p+q>b||r?(r&&(b=0),j.scrollLeft=Math.max(0,b-10-q)):d>o+p-3&&(j.scrollLeft=d+10-o),j}function hb(a,b,c){a.curOp.updateScrollPos={scrollLeft:null==b?a.doc.scrollLeft:b,scrollTop:null==c?a.doc.scrollTop:c}}function ib(a,b,c){var d=a.curOp.updateScrollPos||(a.curOp.updateScrollPos={scrollLeft:a.doc.scrollLeft,scrollTop:a.doc.scrollTop}),e=a.display.scroller;d.scrollTop=Math.max(0,Math.min(e.scrollHeight-e.clientHeight,d.scrollTop+c)),d.scrollLeft=Math.max(0,Math.min(e.scrollWidth-e.clientWidth,d.scrollLeft+b))}function jb(a,b,c,d){var e=a.doc;if(null==c&&(c="add"),"smart"==c)if(a.doc.mode.indent)var f=J(a,b);else c="prev";var g,h=a.options.tabSize,i=kc(e,b),j=Tc(i.text,null,h),k=i.text.match(/^\s*/)[0];if("smart"==c&&(g=a.doc.mode.indent(f,i.text.slice(k.length),i.text),g==we)){if(!d)return;c="prev"}"prev"==c?g=b>e.first?Tc(kc(e,b-1).text,null,h):0:"add"==c?g=j+a.options.indentUnit:"subtract"==c?g=j-a.options.indentUnit:"number"==typeof c&&(g=j+c),g=Math.max(0,g);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(g/h);n;--n)m+=h,l+="	";g>m&&(l+=Uc(g-m)),l!=k&&Ra(a.doc,l,Sa(b,0),Sa(b,k.length),"+input"),i.stateAfter=null}function kb(a,b,c){var d=b,e=b,f=a.doc;return"number"==typeof b?e=kc(f,Wa(f,b)):d=oc(b),null==d?null:c(e,d)?(ia(a,d,d+1),e):null}function lb(a,b,c,d,e){function f(){var b=h+c;return b<a.first||b>=a.first+a.size?l=!1:(h=b,k=kc(a,b))}function g(a){var b=(e?ud:vd)(k,i,c,!0);if(null==b){if(a||!f())return l=!1;i=e?(0>c?od:nd)(k):0>c?k.text.length:0}else i=b;return!0}var h=b.line,i=b.ch,j=c,k=kc(a,h),l=!0;if("char"==d)g();else if("column"==d)g(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=!0;!(0>c)||g(!o);o=!1){var p=k.text.charAt(i)||"\n",q=ad(p)?"w":n?/\s/.test(p)?null:"p":null;if(m&&m!=q){0>c&&(c=1,g());break}if(q&&(m=q),c>0&&!g(!o))break}var r=cb(a,Sa(h,i),j,!0);return l||(r.hitSide=!0),r}function mb(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);e=b.top+c*(h-(0>c?1.5:.5)*ba(a.display))}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(;;){var i=_(a,g,e);if(!i.outside)break;if(0>c?0>=e:e>=f.height){i.hitSide=!0;break}e+=5*c}return i}function nb(a,b){var c=b.ch,d=b.ch;if(a){(b.xRel<0||d==a.length)&&c?--c:++d;for(var e=a.charAt(c),f=ad(e)?ad:/\s/.test(e)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!ad(a)};c>0&&f(a.charAt(c-1));)--c;for(;d<a.length&&f(a.charAt(d));)++d}return{from:Sa(b.line,c),to:Sa(b.line,d)}}function ob(a,b){$a(a.doc,Sa(b,0),Xa(a.doc,Sa(b+1,0)))}function pb(b,c,d,e){a.defaults[b]=c,d&&(be[b]=e?function(a,b,c){c!=de&&d(a,b,c)}:d)}function qb(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function rb(a,b,c){return a.startState?a.startState(b,c):!0}function sb(a){return"string"==typeof a?ke[a]:a}function tb(a,b,c){function d(b){b=sb(b);var e=b[a];if(e===!1)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";var f=b.fallthrough;if(null==f)return!1;if("[object Array]"!=Object.prototype.toString.call(f))return d(f);for(var g=0,h=f.length;h>g;++g){var i=d(f[g]);if(i)return i}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}}function ub(a){var b=Ge[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function vb(a,b){if(Dd&&34==a.keyCode&&a["char"])return!1;var c=Ge[a.keyCode];return null==c||a.altGraphKey?!1:(a.altKey&&(c="Alt-"+c),(Rd?a.metaKey:a.ctrlKey)&&(c="Ctrl-"+c),(Rd?a.ctrlKey:a.metaKey)&&(c="Cmd-"+c),!b&&a.shiftKey&&(c="Shift-"+c),c)}function wb(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0}function xb(a,b){this.lines=[],this.type=b,this.doc=a}function yb(a,b,c,d,e){if(d&&d.shared)return Ab(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return fa(a.cm,yb)(a,b,c,d,e);var f=new xb(a,e);if("range"==e&&!Ua(b,c))return f;d&&Zc(d,f),f.replacedWith&&(f.collapsed=!0,f.replacedWith=cd("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.replacedWith.ignoreEvents=!0)),f.collapsed&&(Ud=!0),f.addToHistory&&vc(a,{from:b,to:c,origin:"markText"},{head:a.sel.head,anchor:a.sel.anchor},NaN);var g,h,i,j=b.line,k=0,l=a.cm;if(a.iter(j,c.line+1,function(d){l&&f.collapsed&&!l.options.lineWrapping&&Mb(a,d)==l.display.maxLine&&(i=!0);var e={from:null,to:null,marker:f};k+=d.text.length,j==b.line&&(e.from=b.ch,k-=b.ch),j==c.line&&(e.to=c.ch,k-=d.text.length-c.ch),f.collapsed&&(j==c.line&&(h=Jb(d,c.ch)),j==b.line?g=Jb(d,b.ch):nc(d,0)),Db(d,e),++j}),f.collapsed&&a.iter(b.line,c.line+1,function(b){Nb(a,b)&&nc(b,0)}),f.clearOnEnter&&Kc(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(Td=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed){if(g!=h)throw new Error("Inserting collapsed marker overlapping an existing one");f.size=k,f.atomic=!0}return l&&(i&&(l.curOp.updateMaxLine=!0),(f.className||f.title||f.startStyle||f.endStyle||f.collapsed)&&ia(l,b.line,c.line+1),f.atomic&&bb(l)),f}function zb(a,b){this.markers=a,this.primary=b;for(var c=0,d=this;c<a.length;++c)a[c].parent=this,Kc(a[c],"clear",function(){d.clear()})}function Ab(a,b,c,d,e){d=Zc(d),d.shared=!1;var f=[yb(a,b,c,d,e)],g=f[0],h=d.replacedWith;return ic(a,function(a){h&&(d.replacedWith=h.cloneNode(!0)),f.push(yb(a,Xa(a,b),Xa(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=Vc(f)}),new zb(f,g)}function Bb(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function Cb(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function Db(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function Eb(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||"bookmark"==g.type&&f.from==b&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push({from:f.from,to:i?null:f.to,marker:g})}}return d}function Fb(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||"bookmark"==g.type&&f.from==b&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push({from:i?null:f.from-b,to:null==f.to?null:f.to-b,marker:g})}}return d}function Gb(a,b){var c=Za(a,b.from.line)&&kc(a,b.from.line).markedSpans,d=Za(a,b.to.line)&&kc(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=Ta(b.from,b.to),h=Eb(c,e,g),i=Fb(d,f,g),j=1==b.text.length,k=Vc(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=Bb(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=Bb(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}if(j&&h){for(var l=0;l<h.length;++l)null!=h[l].from&&h[l].from==h[l].to&&"bookmark"!=h[l].marker.type&&h.splice(l--,1);h.length||(h=null)}var o=[h];if(!j){var p,q=b.text.length-2;if(q>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(p||(p=[])).push({from:null,to:null,marker:h[l].marker});for(var l=0;q>l;++l)o.push(p);o.push(i)}return o}function Hb(a,b){var c=xc(a,b),d=Gb(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function Ib(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=Xc(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(),i=0;i<e.length;++i){var j=e[i];if(!Ua(j.to,h.from)&&!Ua(h.to,j.from)){var k=[i,1];(Ua(j.from,h.from)||!g.inclusiveLeft&&Ta(j.from,h.from))&&k.push({from:j.from,to:h.from}),(Ua(h.to,j.to)||!g.inclusiveRight&&Ta(j.to,h.to))&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function Jb(a,b){var c,d=Ud&&a.markedSpans;if(d)for(var e,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&(null==e.from||e.from<b)&&(null==e.to||e.to>b)&&(!c||c.width<e.marker.width)&&(c=e.marker);return c}function Kb(a){return Jb(a,-1)}function Lb(a){return Jb(a,a.text.length+1)}function Mb(a,b){for(var c;c=Kb(b);)b=kc(a,c.find().from.line);return b}function Nb(a,b){var c=Ud&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.replacedWith&&0==d.from&&d.marker.inclusiveLeft&&Ob(a,b,d))return!0}}function Ob(a,b,c){if(null==c.to){var d=c.marker.find().to,e=kc(a,d.line);return Ob(a,e,Bb(e.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var f,g=0;g<b.markedSpans.length;++g)if(f=b.markedSpans[g],f.marker.collapsed&&!f.marker.replacedWith&&f.from==c.to&&(f.marker.inclusiveLeft||c.marker.inclusiveRight)&&Ob(a,b,f))return!0}function Pb(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Qb(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Rb(a){return function(){var b=!this.cm.curOp;b&&da(this.cm);try{var c=a.apply(this,arguments)}finally{b&&ea(this.cm)}return c}}function Sb(a){return null!=a.height?a.height:(a.node.parentNode&&1==a.node.parentNode.nodeType||ed(a.cm.display.measure,cd("div",[a.node],null,"position: relative")),a.height=a.node.offsetHeight)}function Tb(a,b,c,d){var e=new le(a,c,d);return e.noHScroll&&(a.display.alignWidgets=!0),kb(a,b,function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,!Nb(a.doc,b)||e.showIfHidden){var d=qc(a,b)<a.doc.scrollTop;nc(b,b.height+Sb(e)),d&&ib(a,0,e.height)}return!0}),e}function Ub(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Pb(a),Qb(a,c);var e=d?d(a):1;e!=a.height&&nc(a,e)}function Vb(a){a.parent=null,Pb(a)}function Wb(a,b,c,d,e){var f=c.flattenSpans;null==f&&(f=a.options.flattenSpans);var g,h=0,i=null,j=new wb(b,a.options.tabSize);for(""==b&&c.blankLine&&c.blankLine(d);!j.eol();)j.pos>a.options.maxHighlightLength?(f=!1,j.pos=Math.min(b.length,j.start+5e4),g=null):g=c.token(j,d),f&&i==g||(h<j.start&&e(j.start,i),h=j.start,i=g),j.start=j.pos;h<j.pos&&e(j.pos,i)}function Xb(a,b,c){var d=[a.state.modeGen];Wb(a,b.text,a.doc.mode,c,function(a,b){d.push(a,b)});for(var e=0;e<a.state.overlays.length;++e){var f=a.state.overlays[e],g=1,h=0;Wb(a,b.text,f.mode,!0,function(a,b){for(var c=g;a>h;){var e=d[g];e>a&&d.splice(g,1,a,d[g+1],e),g+=2,h=Math.min(a,e)}if(b)if(f.opaque)d.splice(c,g-c,a,b),g=c+2;else for(;g>c;c+=2){var i=d[c+1];d[c+1]=i?i+" "+b:b}})}return d}function Yb(a,b){return b.styles&&b.styles[0]==a.state.modeGen||(b.styles=Xb(a,b,b.stateAfter=J(a,oc(b)))),b.styles}function Zb(a,b,c){var d=a.doc.mode,e=new wb(b.text,a.options.tabSize);for(""==b.text&&d.blankLine&&d.blankLine(c);!e.eol()&&e.pos<=a.options.maxHighlightLength;)d.token(e,c),e.start=e.pos}function $b(a){return a?ne[a]||(ne[a]="cm-"+a.replace(/ +/g," cm-")):null}function _b(a,b,c,d){for(var e,f=b,g=!0;e=Kb(f);)f=kc(a.doc,e.find().from.line);var h={pre:cd("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:a,copyWidgets:d};f.textClass&&(h.pre.className=f.textClass);do{f.text&&(g=!1),h.measure=f==b&&c,h.pos=0,h.addToken=h.measure?bc:ac,(xd||Ad)&&a.getOption("lineWrapping")&&(h.addToken=cc(h.addToken));var i=ec(f,h,Yb(a,f));c&&f==b&&!h.measuredSomething&&(c[0]=h.pre.appendChild(jd(a.display.measure)),h.measuredSomething=!0),i&&(f=kc(a.doc,i.to.line))}while(i);!c||h.measuredSomething||c[0]||(c[0]=h.pre.appendChild(g?cd("span"," "):jd(a.display.measure))),h.pre.firstChild||Nb(a.doc,b)||h.pre.appendChild(document.createTextNode(" "));var j;if(c&&xd&&(j=rc(f))){var k=j.length-1;j[k].from==j[k].to&&--k;var l=j[k],m=j[k-1];if(l.from+1==l.to&&m&&l.level<m.level){var n=c[h.pos-1];n&&n.parentNode.insertBefore(n.measureRight=jd(a.display.measure),n.nextSibling)}}return Mc(a,"renderLine",a,b,h.pre),h.pre}function ac(a,b,c,d,e,f){if(b){if(oe.test(b))for(var g=document.createDocumentFragment(),h=0;;){oe.lastIndex=h;var i=oe.exec(b),j=i?i.index-h:b.length-h;if(j&&(g.appendChild(document.createTextNode(b.slice(h,h+j))),a.col+=j),!i)break;if(h+=j+1,"	"==i[0]){var k=a.cm.options.tabSize,l=k-a.col%k;g.appendChild(cd("span",Uc(l),"cm-tab")),a.col+=l}else{var m=cd("span","•","cm-invalidchar");m.title="\\u"+i[0].charCodeAt(0).toString(16),g.appendChild(m),a.col+=1}}else{a.col+=b.length;var g=document.createTextNode(b)}if(c||d||e||a.measure){var n=c||"";d&&(n+=d),e&&(n+=e);var m=cd("span",[g],n);return f&&(m.title=f),a.pre.appendChild(m)}a.pre.appendChild(g)}}function bc(a,b,c,d,e){for(var f=a.cm.options.lineWrapping,g=0;g<b.length;++g){var h=b.charAt(g),i=0==g;h>="�"&&"�">h&&g<b.length-1?(h=b.slice(g,g+2),++g):g&&f&&hd(b,g)&&a.pre.appendChild(cd("wbr"));var j=a.measure[a.pos],k=a.measure[a.pos]=ac(a,h,c,i&&d,g==b.length-1&&e);j&&(k.leftSide=j.leftSide||j),xd&&f&&" "==h&&g&&!/\s/.test(b.charAt(g-1))&&g<b.length-1&&!/\s/.test(b.charAt(g+1))&&(k.style.whiteSpace="normal"),a.pos+=h.length}b.length&&(a.measuredSomething=!0)}function cc(a){function b(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":" ";return b+=" "}return function(c,d,e,f,g,h){return a(c,d.replace(/ {3,}/,b),e,f,g,h)}}function dc(a,b,c,d){var e=!d&&c.replacedWith;if(e&&(a.copyWidgets&&(e=e.cloneNode(!0)),a.pre.appendChild(e),a.measure)){if(b)a.measure[a.pos]=e;else{var f=a.measure[a.pos]=jd(a.cm.display.measure);"bookmark"!=c.type||c.insertLeft?a.pre.insertBefore(f,e):a.pre.appendChild(f)}a.measuredSomething=!0}a.pos+=b}function ec(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m=e.length,n=0,o=1,p="",q=0;;){if(q==n){h=i=j=k="",l=null,q=1/0;for(var r=null,s=0;s<d.length;++s){var t=d[s],u=t.marker;t.from<=n&&(null==t.to||t.to>n)?(null!=t.to&&q>t.to&&(q=t.to,i=""),u.className&&(h+=" "+u.className),u.startStyle&&t.from==n&&(j+=" "+u.startStyle),u.endStyle&&t.to==q&&(i+=" "+u.endStyle),u.title&&!k&&(k=u.title),u.collapsed&&(!l||l.marker.size<u.size)&&(l=t)):t.from>n&&q>t.from&&(q=t.from),"bookmark"==u.type&&t.from==n&&u.replacedWith&&(r=u)}if(l&&(l.from||0)==n&&(dc(b,(null==l.to?m:l.to)-n,l.marker,null==l.from),null==l.to))return l.marker.find();r&&!l&&dc(b,0,r)}if(n>=m)break;for(var v=Math.min(m,q);;){if(p){var w=n+p.length;if(!l){var x=w>v?p.slice(0,v-n):p;b.addToken(b,x,g?g+h:h,j,n+x.length==q?i:"",k)}if(w>=v){p=p.slice(v-n),n=v;break}n=w,j=""}p=e.slice(f,f=c[o++]),g=$b(c[o++])}}else for(var o=1;o<c.length;o+=2)b.addToken(b,e.slice(f,f=c[o]),$b(c[o+1]))}function fc(a,b,c,d,e){function f(a){return c?c[a]:null}function g(a,c,d){Ub(a,c,d,e),Nc(a,"change",a,b)}var h=b.from,i=b.to,j=b.text,k=kc(a,h.line),l=kc(a,i.line),m=Vc(j),n=f(j.length-1),o=i.line-h.line;if(0==h.ch&&0==i.ch&&""==m){for(var p=0,q=j.length-1,r=[];q>p;++p)r.push(new me(j[p],f(p),e));g(l,l.text,n),o&&a.remove(h.line,o),r.length&&a.insert(h.line,r)}else if(k==l)if(1==j.length)g(k,k.text.slice(0,h.ch)+m+k.text.slice(i.ch),n);else{for(var r=[],p=1,q=j.length-1;q>p;++p)r.push(new me(j[p],f(p),e));r.push(new me(m+k.text.slice(i.ch),n,e)),g(k,k.text.slice(0,h.ch)+j[0],f(0)),a.insert(h.line+1,r)}else if(1==j.length)g(k,k.text.slice(0,h.ch)+j[0]+l.text.slice(i.ch),f(0)),a.remove(h.line+1,o);else{g(k,k.text.slice(0,h.ch)+j[0],f(0)),g(l,m+l.text.slice(i.ch),n);for(var p=1,q=j.length-1,r=[];q>p;++p)r.push(new me(j[p],f(p),e));o>1&&a.remove(h.line+1,o-1),a.insert(h.line+1,r)}Nc(a,"change",a,b),ab(a,d.anchor,d.head,null,!0)}function gc(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;c>b;++b)a[b].parent=this,d+=a[b].height;this.height=d}function hc(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;e>d;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function ic(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;(!c||i)&&(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function jc(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,f(a),c(a),a.options.lineWrapping||l(a),a.options.mode=b.modeOption,ia(a)}function kc(a,b){for(b-=a.first;!a.lines;)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(e>b){a=d;break}b-=e}return a.lines[b]}function lc(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function mc(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function nc(a,b){for(var c=b-a.height,d=a;d;d=d.parent)d.height+=c}function oc(a){if(null==a.parent)return null;for(var b=a.parent,c=Xc(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function pc(a,b){var c=a.first;a:do{for(var d=0,e=a.children.length;e>d;++d){var f=a.children[d],g=f.height;if(g>b){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;e>d;++d){var h=a.lines[d],i=h.height;if(i>b)break;b-=i}return c+d}function qc(a,b){b=Mb(a.doc,b);for(var c=0,d=b.parent,e=0;e<d.lines.length;++e){var f=d.lines[e];if(f==b)break;c+=f.height}for(var g=d.parent;g;d=g,g=d.parent)for(var e=0;e<g.children.length;++e){var h=g.children[e];if(h==d)break;c+=h.height}return c}function rc(a){var b=a.order;return null==b&&(b=a.order=Ie(a.text)),b}function sc(a){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:a||1,maxGeneration:a||1}}function tc(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function uc(a,b){var c={line:b.from.line,ch:b.from.ch},d={from:c,to:ae(b),text:lc(a,b.from,b.to)};return tc(a,d,b.from.line,b.to.line+1),ic(a,function(a){tc(a,d,b.from.line,b.to.line+1)},!0),d}function vc(a,b,c,d){var e=a.history;e.undone.length=0;var f=+new Date,g=Vc(e.done);if(g&&(e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastTime>f-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))){var h=Vc(g.changes);Ta(b.from,b.to)&&Ta(b.from,h.to)?h.to=ae(b):g.changes.push(uc(a,b)),g.anchorAfter=c.anchor,g.headAfter=c.head}else for(g={changes:[uc(a,b)],generation:e.generation,anchorBefore:a.sel.anchor,headBefore:a.sel.head,anchorAfter:c.anchor,headAfter:c.head},e.done.push(g),e.generation=++e.maxGeneration;e.done.length>e.undoDepth;)e.done.shift();e.lastTime=f,e.lastOp=d,e.lastOrigin=b.origin}function wc(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function xc(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(wc(c[d]));return e}function yc(a,b){for(var c=0,d=[];c<a.length;++c){var e=a[c],f=e.changes,g=[];d.push({changes:g,anchorBefore:e.anchorBefore,headBefore:e.headBefore,anchorAfter:e.anchorAfter,headAfter:e.headAfter});for(var h=0;h<f.length;++h){var i,j=f[h];if(g.push({from:j.from,to:j.to,text:j.text}),b)for(var k in j)(i=k.match(/^spans_(\d+)$/))&&Xc(b,Number(i[1]))>-1&&(Vc(g)[k]=j[k],delete j[k])}}return d}function zc(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function Ac(a,b,c,d){for(var e=0;e<a.length;++e){for(var f=a[e],g=!0,h=0;h<f.changes.length;++h){var i=f.changes[h];if(f.copied||(i.from=Va(i.from),i.to=Va(i.to)),c<i.from.line)i.from.line+=d,i.to.line+=d;else if(b<=i.to.line){g=!1;break}}f.copied||(f.anchorBefore=Va(f.anchorBefore),f.headBefore=Va(f.headBefore),f.anchorAfter=Va(f.anchorAfter),f.readAfter=Va(f.headAfter),f.copied=!0),g?(zc(f.anchorBefore),zc(f.headBefore),zc(f.anchorAfter),zc(f.headAfter)):(a.splice(0,e+1),e=0)}}function Bc(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Ac(a.done,c,d,e),Ac(a.undone,c,d,e)}function Cc(){Hc(this)}function Dc(a){return a.stop||(a.stop=Cc),a}function Ec(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Fc(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Gc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Hc(a){Ec(a),Fc(a)}function Ic(a){return a.target||a.srcElement}function Jc(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),Ld&&a.ctrlKey&&1==b&&(b=3),b}function Kc(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}}function Lc(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}}function Mc(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)}function Nc(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2);te||(++ue,te=[],setTimeout(Pc,0));for(var f=0;f<d.length;++f)te.push(c(d[f]))}}function Oc(a,b,c){return Mc(a,c||b.type,a,b),Gc(b)||b.codemirrorIgnore}function Pc(){--ue;var a=te;te=null;for(var b=0;b<a.length;++b)a[b]()}function Qc(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function Rc(a){a.prototype.on=function(a,b){Kc(this,a,b)},a.prototype.off=function(a,b){Lc(this,a,b)}}function Sc(){this.id=null}function Tc(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var f=d||0,g=e||0;b>f;++f)"	"==a.charAt(f)?g+=c-g%c:++g;return g}function Uc(a){for(;xe.length<=a;)xe.push(Vc(xe)+" ");return xe[a]}function Vc(a){return a[a.length-1]}function Wc(a){if(Jd)a.selectionStart=0,a.selectionEnd=a.value.length;else try{a.select()}catch(b){}}function Xc(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;++c)if(a[c]==b)return c;return-1}function Yc(a,b){function c(){}c.prototype=a;var d=new c;return b&&Zc(b,d),d}function Zc(a,b){b||(b={});for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function $c(a){for(var b=[],c=0;a>c;++c)b.push(void 0);return b}function _c(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function ad(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||ye.test(a))}function bd(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function cd(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)fd(e,b);else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function dd(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function ed(a,b){return dd(a).appendChild(b)}function fd(a,b){zd?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function gd(a){return a.getBoundingClientRect()}function hd(){return!1}function id(a){if(null!=Be)return Be;var b=cd("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return ed(a,b),b.offsetWidth&&(Be=b.offsetHeight-b.clientHeight),Be||0;
}function jd(a){if(null==Ce){var b=cd("span","​");ed(a,cd("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Ce=b.offsetWidth<=1&&b.offsetHeight>2&&!yd)}return Ce?cd("span","​"):cd("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function kd(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function ld(a){return a.level%2?a.to:a.from}function md(a){return a.level%2?a.from:a.to}function nd(a){var b=rc(a);return b?ld(b[0]):0}function od(a){var b=rc(a);return b?md(Vc(b)):a.text.length}function pd(a,b){var c=kc(a.doc,b),d=Mb(a.doc,c);d!=c&&(b=oc(d));var e=rc(d),f=e?e[0].level%2?od(d):nd(d):0;return Sa(b,f)}function qd(a,b){for(var c,d;c=Lb(d=kc(a.doc,b));)b=c.find().to.line;var e=rc(d),f=e?e[0].level%2?nd(d):od(d):d.text.length;return Sa(b,f)}function rd(a,b,c){var d=a[0].level;return b==d?!0:c==d?!1:c>b}function sd(a,b){for(var c,d=0;d<a.length;++d){var e=a[d];if(e.from<b&&e.to>b)return He=null,d;if(e.from==b||e.to==b){if(null!=c)return rd(a,e.level,a[c].level)?(He=c,d):(He=d,c);c=d}}return He=null,c}function td(a,b,c,d){if(!d)return b+c;do b+=c;while(b>0&&ze.test(a.text.charAt(b)));return b}function ud(a,b,c,d){var e=rc(a);if(!e)return vd(a,b,c,d);for(var f=sd(e,b),g=e[f],h=td(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return sd(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(g=e[f+=c],!g)return null;h=c>0==g.level%2?td(a,g.to,-1,d):td(a,g.from,1,d)}}function vd(a,b,c,d){var e=b+c;if(d)for(;e>0&&ze.test(a.text.charAt(e));)e+=c;return 0>e||e>a.text.length?null:e}var wd=/gecko\/\d/i.test(navigator.userAgent),xd=/MSIE \d/.test(navigator.userAgent),yd=xd&&(null==document.documentMode||document.documentMode<8),zd=xd&&(null==document.documentMode||document.documentMode<9),Ad=/WebKit\//.test(navigator.userAgent),Bd=Ad&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Cd=/Chrome\//.test(navigator.userAgent),Dd=/Opera\//.test(navigator.userAgent),Ed=/Apple Computer/.test(navigator.vendor),Fd=/KHTML\//.test(navigator.userAgent),Gd=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Hd=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Id=/PhantomJS/.test(navigator.userAgent),Jd=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Kd=Jd||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Ld=Jd||/Mac/.test(navigator.platform),Md=/windows/i.test(navigator.platform),Nd=Dd&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Nd&&(Nd=Number(Nd[1])),Nd&&Nd>=15&&(Dd=!1,Ad=!0);var Od,Pd,Qd,Rd=Ld&&(Bd||Dd&&(null==Nd||12.11>Nd)),Sd=wd||xd&&!zd,Td=!1,Ud=!1,Vd=0,Wd=0,Xd=0,Yd=null;xd?Yd=-.53:wd?Yd=15:Cd?Yd=-.7:Ed&&(Yd=-1/3);var Zd,$d,_d=null,ae=a.changeEnd=function(a){return a.text?Sa(a.from.line+a.text.length-1,Vc(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};a.Pos=Sa,a.prototype={constructor:a,focus:function(){window.focus(),na(this),Fa(this),ka(this)},setOption:function(a,b){var c=this.options,d=c[a];(c[a]!=b||"mode"==a)&&(c[a]=b,be.hasOwnProperty(a)&&fa(this,be[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:fa(null,function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:b,opaque:c&&c.opaque}),this.state.modeGen++,ia(this)}),removeOverlay:fa(null,function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,void ia(this)}}),indentLine:fa(null,function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),Za(this.doc,a)&&jb(this,a,b,c)}),indentSelection:fa(null,function(a){var b=this.doc.sel;if(Ta(b.from,b.to))return jb(this,b.from.line,a);for(var c=b.to.line-(b.to.ch?0:1),d=b.from.line;c>=d;++d)jb(this,d,a)}),getTokenAt:function(a,b){var c=this.doc;a=Xa(c,a);for(var d=J(this,a.line,b),e=this.doc.mode,f=kc(c,a.line),g=new wb(f.text,this.options.tabSize);g.pos<a.ch&&!g.eol();){g.start=g.pos;var h=e.token(g,d)}return{start:g.start,end:g.pos,string:g.current(),className:h||null,type:h||null,state:d}},getTokenTypeAt:function(a){a=Xa(this.doc,a);var b=Yb(this,kc(this.doc,a.line)),c=0,d=(b.length-1)/2,e=a.ch;if(0==e)return b[2];for(;;){var f=c+d>>1;if((f?b[2*f-1]:0)>=e)d=f;else{if(!(b[2*f+1]<e))return b[2*f+2];c=f+1}}},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){if(ie.hasOwnProperty(b)){var c=ie[b],d=this.getModeAt(a);return d[b]&&c[d[b]]||d.helperType&&c[d.helperType]||c[d.name]}},getStateAfter:function(a,b){var c=this.doc;return a=Wa(c,null==a?c.first+c.size-1:a),J(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel;return c=null==a?d.head:"object"==typeof a?Xa(this.doc,a):a?d.from:d.to,Z(this,c,b||"page")},charCoords:function(a,b){return Y(this,Xa(this.doc,a),b||"page")},coordsChar:function(a,b){return a=X(this,a,b||"page"),_(this,a.left,a.top)},lineAtHeight:function(a,b){return a=X(this,{top:a,left:0},b||"page").top,pc(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);var e=kc(this.doc,a);return W(this,kc(this.doc,a),{top:0,left:0},b||"page").top+(c?e.height:0)},defaultTextHeight:function(){return ba(this.display)},defaultCharWidth:function(){return ca(this.display)},setGutterMarker:fa(null,function(a,b,c){return kb(this,a,function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&bd(d)&&(a.gutterMarkers=null),!0})}),clearGutter:fa(null,function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,ia(b,d,d+1),bd(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),addLineClass:fa(null,function(a,b,c){return kb(this,a,function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[d]){if(new RegExp("(?:^|\\s)"+c+"(?:$|\\s)").test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:fa(null,function(a,b,c){return kb(this,a,function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(new RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),addLineWidget:fa(null,function(a,b,c){return Tb(this,a,b,c)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if("number"==typeof a){if(!Za(this.doc,a))return null;var b=a;if(a=kc(this.doc,a),!a)return null}else{var b=oc(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=Z(this,Xa(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&fb(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:fa(null,Da),execCommand:function(a){return je[a](this)},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);for(var f=0,g=Xa(this.doc,a);b>f&&(g=lb(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:fa(null,function(a,b){var c,d=this.doc.sel;c=d.shift||d.extend||Ta(d.from,d.to)?lb(this.doc,d.head,a,b,this.options.rtlMoveVisually):0>a?d.from:d.to,$a(this.doc,c,c,a)}),deleteH:fa(null,function(a,b){var c=this.doc.sel;Ta(c.from,c.to)?Ra(this.doc,"",c.from,lb(this.doc,c.head,a,b,!1),"+delete"):Ra(this.doc,"",c.from,c.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(a,b,c,d){var e=1,f=d;0>b&&(e=-1,b=-b);for(var g=0,h=Xa(this.doc,a);b>g;++g){var i=Z(this,h,"div");if(null==f?f=i.left:i.left=f,h=mb(this,i,e,c),h.hitSide)break}return h},moveV:fa(null,function(a,b){var c=this.doc.sel,d=Z(this,c.head,"div");null!=c.goalColumn&&(d.left=c.goalColumn);var e=mb(this,d,a,b);"page"==b&&ib(this,0,Y(this,e,"div").top-d.top),$a(this.doc,e,e,a),c.goalColumn=d.left}),toggleOverwrite:function(a){(null==a||a!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:fa(null,function(a,b){hb(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller,b=ve;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:fa(null,function(a,b){"number"==typeof a&&(a=Sa(a,0)),b||(b=0);var c=a;a&&null==a.line||(this.curOp.scrollToPos=a?Xa(this.doc,a):this.doc.sel.head,this.curOp.scrollToPosMargin=b,c=Z(this,this.curOp.scrollToPos));var d=gb(this,c.left,c.top-b,c.right,c.bottom+b);hb(this,d.scrollLeft,d.scrollTop)}),setSize:fa(null,function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(this.display.wrapper.style.width=c(a)),null!=b&&(this.display.wrapper.style.height=c(b)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0}),operation:function(a){return ha(this,a)},refresh:fa(null,function(){T(this),hb(this,this.doc.scrollLeft,this.doc.scrollTop),ia(this)}),swapDoc:fa(null,function(a){var b=this.doc;return b.cm=null,jc(this,a),T(this),ma(this,!0),hb(this,a.scrollLeft,a.scrollTop),b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Rc(a);var be=a.optionHandlers={},ce=a.defaults={},de=a.Init={toString:function(){return"CodeMirror.Init"}};pb("value","",function(a,b){a.setValue(b)},!0),pb("mode",null,function(a,b){a.doc.modeOption=b,c(a)},!0),pb("indentUnit",2,c,!0),pb("indentWithTabs",!1),pb("smartIndent",!0),pb("tabSize",4,function(a){c(a),T(a),ia(a)},!0),pb("electricChars",!0),pb("rtlMoveVisually",!Md),pb("theme","default",function(a){h(a),i(a)},!0),pb("keyMap","default",g),pb("extraKeys",null),pb("onKeyEvent",null),pb("onDragEvent",null),pb("lineWrapping",!1,d,!0),pb("gutters",[],function(a){m(a.options),i(a)},!0),pb("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?s(a.display)+"px":"0",a.refresh()},!0),pb("coverGutterNextToScrollbar",!1,n,!0),pb("lineNumbers",!1,function(a){m(a.options),i(a)},!0),pb("firstLineNumber",1,i,!0),pb("lineNumberFormatter",function(a){return a},i,!0),pb("showCursorWhenSelecting",!1,C,!0),pb("readOnly",!1,function(a,b){"nocursor"==b?(Ga(a),a.display.input.blur()):b||ma(a,!0)}),pb("dragDrop",!0),pb("cursorBlinkRate",530),pb("cursorScrollMargin",0),pb("cursorHeight",1),pb("workTime",100),pb("workDelay",100),pb("flattenSpans",!0),pb("pollInterval",100),pb("undoDepth",40,function(a,b){a.doc.history.undoDepth=b}),pb("historyEventDelay",500),pb("viewportMargin",10,function(a){a.refresh()},!0),pb("maxHighlightLength",1e4,function(a){c(a),a.refresh()},!0),pb("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)}),pb("tabindex",null,function(a,b){a.display.input.tabIndex=b||""}),pb("autofocus",null);var ee=a.modes={},fe=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2){c.dependencies=[];for(var d=2;d<arguments.length;++d)c.dependencies.push(arguments[d])}ee[b]=c},a.defineMIME=function(a,b){fe[a]=b},a.resolveMode=function(b){if("string"==typeof b&&fe.hasOwnProperty(b))b=fe[b];else if(b&&"string"==typeof b.name&&fe.hasOwnProperty(b.name)){var c=fe[b.name];b=Yc(c,b),b.name=c.name}else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=ee[c.name];if(!d)return a.getMode(b,"text/plain");var e=d(b,c);if(ge.hasOwnProperty(c.name)){var f=ge[c.name];for(var g in f)f.hasOwnProperty(g)&&(e.hasOwnProperty(g)&&(e["_"+g]=e[g]),e[g]=f[g])}return e.name=c.name,e},a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var ge=a.modeExtensions={};a.extendMode=function(a,b){var c=ge.hasOwnProperty(a)?ge[a]:ge[a]={};Zc(b,c)},a.defineExtension=function(b,c){a.prototype[b]=c},a.defineDocExtension=function(a,b){qe.prototype[a]=b},a.defineOption=pb;var he=[];a.defineInitHook=function(a){he.push(a)};var ie=a.helpers={};a.registerHelper=function(b,c,d){ie.hasOwnProperty(b)||(ie[b]=a[b]={}),ie[b][c]=d},a.isWordChar=ad,a.copyState=qb,a.startState=rb,a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var je=a.commands={selectAll:function(a){a.setSelection(Sa(a.firstLine(),0),Sa(a.lastLine()))},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!Ta(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,d?c:Sa(b.line),"+delete"):a.replaceRange("",b,Sa(b.line+1,0),"+delete")},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",Sa(b,0),Sa(b),"+delete")},delLineLeft:function(a){var b=a.getCursor();a.replaceRange("",Sa(b.line,0),b,"+delete")},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.extendSelection(Sa(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(Sa(a.lastLine()))},goLineStart:function(a){a.extendSelection(pd(a,a.getCursor().line))},goLineStartSmart:function(a){var b=a.getCursor(),c=pd(a,b.line),d=a.getLineHandle(c.line),e=rc(d);if(e&&0!=e[0].level)a.extendSelection(c);else{var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;a.extendSelection(Sa(c.line,g?0:f))}},goLineEnd:function(a){a.extendSelection(qd(a,a.getCursor().line))},goLineRight:function(a){var b=a.charCoords(a.getCursor(),"div").top+5;a.extendSelection(a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div"))},goLineLeft:function(a){var b=a.charCoords(a.getCursor(),"div").top+5;a.extendSelection(a.coordsChar({left:0,top:b},"div"))},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	","end","+input")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("	","end","+input")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),Sa(b.line,b.ch-1),Sa(b.line,b.ch+1))},newlineAndIndent:function(a){fa(a,function(){a.replaceSelection("\n","end","+input"),a.indentLine(a.getCursor().line,null,!0)})()},toggleOverwrite:function(a){a.toggleOverwrite()}},ke=a.keyMap={};ke.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ke.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ke.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},ke["default"]=Ld?ke.macDefault:ke.pcDefault,ke.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},a.lookupKey=tb,a.isModifierKey=ub,a.keyName=vb,a.fromTextArea=function(b,c){function d(){b.value=j.getValue()}if(c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex),!c.placeholder&&b.placeholder&&(c.placeholder=b.placeholder),null==c.autofocus){var e=document.body;try{e=document.activeElement}catch(f){}c.autofocus=e==b||null!=b.getAttribute("autofocus")&&e==document.body}if(b.form&&(Kc(b.form,"submit",d),!c.leaveSubmitMethodAlone)){var g=b.form,h=g.submit;try{var i=g.submit=function(){d(),g.submit=h,g.submit(),g.submit=i}}catch(f){}}b.style.display="none";var j=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return j.save=d,j.getTextArea=function(){return b},j.toTextArea=function(){d(),b.parentNode.removeChild(j.getWrapperElement()),b.style.display="",b.form&&(Lc(b.form,"submit",d),"function"==typeof b.form.submit&&(b.form.submit=h))},j},wb.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Tc(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Tc(this.string,null,this.tabSize)},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);return e(f)==e(a)?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=wb,a.TextMarker=xb,Rc(xb),xb.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&da(a),Qc(this,"clear")){var c=this.find();c&&Nc(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=Bb(g.markedSpans,this);null!=h.to&&(e=oc(g)),g.markedSpans=Cb(g.markedSpans,h),null!=h.from?d=oc(g):this.collapsed&&!Nb(this.doc,g)&&a&&nc(g,ba(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=Mb(a.doc,this.lines[f]),j=k(a.doc,i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0)}null!=d&&a&&ia(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&bb(a)),b&&ea(a)}},xb.prototype.find=function(){for(var a,b,c=0;c<this.lines.length;++c){var d=this.lines[c],e=Bb(d.markedSpans,this);if(null!=e.from||null!=e.to){var f=oc(d);null!=e.from&&(a=Sa(f,e.from)),null!=e.to&&(b=Sa(f,e.to))}}return"bookmark"==this.type?a:a&&{from:a,to:b}},xb.prototype.changed=function(){var a=this.find(),b=this.doc.cm;if(a&&b){var c=kc(this.doc,a.from.line);if(P(b,c),a.from.line>=b.display.showingFrom&&a.from.line<b.display.showingTo){for(var d=b.display.lineDiv.firstChild;d;d=d.nextSibling)if(d.lineObj==c){d.offsetHeight!=c.height&&nc(c,d.offsetHeight);break}ha(b,function(){b.curOp.selectionChanged=b.curOp.forceUpdate=b.curOp.updateMaxLine=!0})}}},xb.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=Xc(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},xb.prototype.detachLine=function(a){if(this.lines.splice(Xc(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},a.SharedTextMarker=zb,Rc(zb),zb.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Nc(this,"clear")}},zb.prototype.find=function(){return this.primary.find()};var le=a.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a,this.node=b};Rc(le),le.prototype.clear=Rb(function(){var a=this.line.widgets,b=oc(this.line);if(null!=b&&a){for(var c=0;c<a.length;++c)a[c]==this&&a.splice(c--,1);a.length||(this.line.widgets=null);var d=qc(this.cm,this.line)<this.cm.doc.scrollTop;nc(this.line,Math.max(0,this.line.height-Sb(this))),d&&ib(this.cm,0,-this.height),ia(this.cm,b,b+1)}}),le.prototype.changed=Rb(function(){var a=this.height;this.height=null;var b=Sb(this)-a;if(b){nc(this.line,this.line.height+b);var c=oc(this.line);ia(this.cm,c,c+1)}});var me=a.Line=function(a,b,c){this.text=a,Qb(this,b),this.height=c?c(this):1};Rc(me);var ne={},oe=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;gc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;d>c;++c){var e=this.lines[c];this.height-=e.height,Vb(e),Nc(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0,e=b.length;e>d;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}},hc.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(e>a){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25){var h=[];this.collapse(h),this.children=[new gc(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;c>b;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;e>d;++d){var f=this.children[d],g=f.chunkSize();if(g>=a){if(f.insertInner(a,b,c),f.lines&&f.lines.length>50){for(;f.lines.length>50;){var h=f.lines.splice(f.lines.length-25,25),i=new gc(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new hc(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=Xc(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new hc(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0,e=this.children.length;e>d;++d){var f=this.children[d],g=f.chunkSize();if(g>a){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}};var pe=0,qe=a.Doc=function(a,b,c){if(!(this instanceof qe))return new qe(a,b,c);null==c&&(c=0),hc.call(this,[new gc([new me("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=sc(),this.cleanGeneration=1,this.frontier=c;var d=Sa(c,0);this.sel={from:d,to:d,head:d,anchor:d,shift:!1,extend:!1,goalColumn:null},this.id=++pe,this.modeOption=b,"string"==typeof a&&(a=De(a)),fc(this,{from:d,to:d,text:a},null,{head:d,anchor:d})};qe.prototype=Yc(hc.prototype,{constructor:qe,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0,e=b.length;e>d;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=mc(this,this.first,this.first+this.size);return a===!1?b:b.join(a||"\n")},setValue:function(a){var b=Sa(this.first,0),c=this.first+this.size-1;La(this,{from:b,to:Sa(c,kc(this,c).text.length),text:De(a),origin:"setValue"},{head:b,anchor:b},!0)},replaceRange:function(a,b,c,d){b=Xa(this,b),c=c?Xa(this,c):b,Ra(this,a,b,c,d)},getRange:function(a,b,c){var d=lc(this,Xa(this,a),Xa(this,b));return c===!1?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},setLine:function(a,b){Za(this,a)&&Ra(this,b,Sa(a,0),Xa(this,Sa(a)))},removeLine:function(a){a?Ra(this,"",Xa(this,Sa(a-1)),Xa(this,Sa(a))):Ra(this,"",Sa(0,0),Xa(this,Sa(1,0)))},getLineHandle:function(a){return Za(this,a)?kc(this,a):void 0},getLineNumber:function(a){return oc(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=kc(this,a)),Mb(this,a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Xa(this,a)},getCursor:function(a){var b,c=this.sel;return b=null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||a===!1?c.to:c.from,Va(b)},somethingSelected:function(){return!Ta(this.sel.head,this.sel.anchor)},setCursor:ga(function(a,b,c){var d=Xa(this,"number"==typeof a?Sa(a,b||0):a);c?$a(this,d):ab(this,d,d)}),setSelection:ga(function(a,b){ab(this,Xa(this,a),Xa(this,b||a))}),extendSelection:ga(function(a,b){$a(this,Xa(this,a),b&&Xa(this,b))}),getSelection:function(a){return this.getRange(this.sel.from,this.sel.to,a)},replaceSelection:function(a,b,c){La(this,{from:this.sel.from,to:this.sel.to,text:De(a),origin:c},b||"around")},undo:ga(function(){Na(this,"undo")}),redo:ga(function(){Na(this,"redo")}),setExtending:function(a){this.sel.extend=a},historySize:function(){var a=this.history;return{undo:a.done.length,redo:a.undone.length}},clearHistory:function(){this.history=sc(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:yc(this.history.done),undone:yc(this.history.undone)}},setHistory:function(a){var b=this.history=sc(this.history.maxGeneration);b.done=a.done.slice(0),b.undone=a.undone.slice(0)},markText:function(a,b,c){return yb(this,Xa(this,a),Xa(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft};return a=Xa(this,a),yb(this,a,a,c,"bookmark")},findMarksAt:function(a){a=Xa(this,a);var b=[],c=kc(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;return e>a?(b=a,!0):(a-=e,void++c)}),Xa(this,Sa(c,b))},indexFromPos:function(a){a=Xa(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new qe(mc(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new qe(mc(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],d},unlinkDoc:function(b){if(b instanceof a&&(b=b.doc),this.linked)for(var c=0;c<this.linked.length;++c){var d=this.linked[c];if(d.doc==b){this.linked.splice(c,1),b.unlinkDoc(this);break}}if(b.history==this.history){var e=[b.id];ic(b,function(a){e.push(a.id)},!0),b.history=sc(),b.history.done=yc(this.history.done,e),b.history.undone=yc(this.history.undone,e)}},iterLinkedDocs:function(a){ic(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),qe.prototype.eachLine=qe.prototype.iter;var re="iter insert remove copy getEditor".split(" ");for(var se in qe.prototype)qe.prototype.hasOwnProperty(se)&&Xc(re,se)<0&&(a.prototype[se]=function(a){return function(){return a.apply(this.doc,arguments)}}(qe.prototype[se]));Rc(qe),a.e_stop=Hc,a.e_preventDefault=Ec,a.e_stopPropagation=Fc;var te,ue=0;a.on=Kc,a.off=Lc,a.signal=Mc;var ve=30,we=a.Pass={toString:function(){return"CodeMirror.Pass"}};Sc.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}},a.countColumn=Tc;var xe=[""],ye=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ze=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;
a.replaceGetRect=function(a){gd=a};var Ae=function(){if(zd)return!1;var a=cd("div");return"draggable"in a||"dragDrop"in a}();wd?hd=function(a,b){return 36==a.charCodeAt(b-1)&&39==a.charCodeAt(b)}:Ed&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?hd=function(a,b){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(a.slice(b-1,b+1))}:Ad&&!/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)&&(hd=function(a,b){if(b>1&&45==a.charCodeAt(b-1)){if(/\w/.test(a.charAt(b-2))&&/[^\-?\.]/.test(a.charAt(b)))return!0;if(b>2&&/[\d\.,]/.test(a.charAt(b-2))&&/[\d\.,]/.test(a.charAt(b)))return!1}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|…[\w~`@#$%\^&*(_=+{[><]/.test(a.slice(b-1,b+1))});var Be,Ce,De=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)};a.splitLines=De;var Ee=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Fe=function(){var a=cd("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),Ge={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};a.keyNames=Ge,function(){for(var a=0;10>a;a++)Ge[a+48]=String(a);for(var a=65;90>=a;a++)Ge[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)Ge[a+111]=Ge[a+63235]="F"+a}();var He,Ie=function(){function a(a){return 255>=a?b.charAt(a):a>=1424&&1524>=a?"R":a>=1536&&1791>=a?c.charAt(a-1536):a>=1792&&2220>=a?"r":"L"}var b="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",c="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,f=/[LRr]/,g=/[Lb1n]/,h=/[1n]/,i="L";return function(b){if(!d.test(b))return!1;for(var c,j=b.length,k=[],l=0;j>l;++l)k.push(c=a(b.charCodeAt(l)));for(var l=0,m=i;j>l;++l){var c=k[l];"m"==c?k[l]=m:m=c}for(var l=0,n=i;j>l;++l){var c=k[l];"1"==c&&"r"==n?k[l]="n":f.test(c)&&(n=c,"r"==c&&(k[l]="R"))}for(var l=1,m=k[0];j-1>l;++l){var c=k[l];"+"==c&&"1"==m&&"1"==k[l+1]?k[l]="1":","!=c||m!=k[l+1]||"1"!=m&&"n"!=m||(k[l]=m),m=c}for(var l=0;j>l;++l){var c=k[l];if(","==c)k[l]="N";else if("%"==c){for(var o=l+1;j>o&&"%"==k[o];++o);for(var p=l&&"!"==k[l-1]||j-1>o&&"1"==k[o]?"1":"N",q=l;o>q;++q)k[q]=p;l=o-1}}for(var l=0,n=i;j>l;++l){var c=k[l];"L"==n&&"1"==c?k[l]="L":f.test(c)&&(n=c)}for(var l=0;j>l;++l)if(e.test(k[l])){for(var o=l+1;j>o&&e.test(k[o]);++o);for(var r="L"==(l?k[l-1]:i),s="L"==(j-1>o?k[o]:i),p=r||s?"L":"R",q=l;o>q;++q)k[q]=p;l=o-1}for(var t,u=[],l=0;j>l;)if(g.test(k[l])){var v=l;for(++l;j>l&&g.test(k[l]);++l);u.push({from:v,to:l,level:0})}else{var w=l,x=u.length;for(++l;j>l&&"L"!=k[l];++l);for(var q=w;l>q;)if(h.test(k[q])){q>w&&u.splice(x,0,{from:w,to:q,level:1});var y=q;for(++q;l>q&&h.test(k[q]);++q);u.splice(x,0,{from:y,to:q,level:2}),w=q}else++q;l>w&&u.splice(x,0,{from:w,to:l,level:1})}return 1==u[0].level&&(t=b.match(/^\s+/))&&(u[0].from=t[0].length,u.unshift({from:0,to:t[0].length,level:0})),1==Vc(u).level&&(t=b.match(/\s+$/))&&(Vc(u).to-=t[0].length,u.push({from:j-t[0].length,to:j,level:0})),u[0].level!=Vc(u).level&&u.push({from:j,to:j,level:u[0].level}),u}}();return a.version="3.15.0",a}(),function(){"use strict";function a(a,c,d){function e(b){var d=f(a,c);if(!d||d.to.line-d.from.line<g)return null;for(var e=a.findMarksAt(d.from),h=0;h<e.length;++h)if(e[h].__isFold){if(!b)return null;d.cleared=!0,e[h].clear()}return d}var f=d&&(d.call?d:d.rangeFinder);if(f||(f=a.getHelper(c,"fold")),f){"number"==typeof c&&(c=CodeMirror.Pos(c,0));var g=d&&d.minFoldSize||0,h=e(!0);if(d&&d.scanUp)for(;!h&&c.line>a.firstLine();)c=CodeMirror.Pos(c.line-1,0),h=e(!1);if(h&&!h.cleared){var i=b(d);CodeMirror.on(i,"mousedown",function(){j.clear()});var j=a.markText(h.from,h.to,{replacedWith:i,clearOnEnter:!0,__isFold:!0});j.on("clear",function(b,c){CodeMirror.signal(a,"unfold",a,b,c)}),CodeMirror.signal(a,"fold",a,h.from,h.to)}}}function b(a){var b=a&&a.widget||"↔";if("string"==typeof b){var c=document.createTextNode(b);b=document.createElement("span"),b.appendChild(c),b.className="CodeMirror-foldmarker"}return b}CodeMirror.newFoldFunction=function(b,c){return function(d,e){a(d,e,{rangeFinder:b,widget:c})}},CodeMirror.defineExtension("foldCode",function(b,c){a(this,b,c)}),CodeMirror.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(b,c){for(var d=0;d<a.length;++d){var e=a[d](b,c);if(e)return e}}})}(),function(){"use strict";function a(a){this.options=a,this.from=this.to=0}function b(a){return a===!0&&(a={}),null==a.gutter&&(a.gutter="CodeMirror-foldgutter"),null==a.indicatorOpen&&(a.indicatorOpen="CodeMirror-foldgutter-open"),null==a.indicatorFolded&&(a.indicatorFolded="CodeMirror-foldgutter-folded"),a}function c(a,b){for(var c=a.findMarksAt(k(b)),d=0;d<c.length;++d)if(c[d].__isFold&&c[d].find().from.line==b)return!0}function d(a){if("string"==typeof a){var b=document.createElement("div");return b.className=a,b}return a.cloneNode(!0)}function e(a,b,e){var f=a.state.foldGutter.options,g=b;a.eachLine(b,e,function(b){var e=null;if(c(a,g))e=d(f.indicatorFolded);else{var h=k(g,0),i=f.rangeFinder||a.getHelper(h,"fold"),j=i&&i(a,h);j&&j.from.line+1<j.to.line&&(e=d(f.indicatorOpen))}a.setGutterMarker(b,f.gutter,e),++g})}function f(a){var b=a.getViewport(),c=a.state.foldGutter;c&&(a.operation(function(){e(a,b.from,b.to)}),c.from=b.from,c.to=b.to)}function g(a,b,c){var d=a.state.foldGutter.options;c==d.gutter&&a.foldCode(k(b,0),d.rangeFinder)}function h(a){var b=a.state.foldGutter,c=a.state.foldGutter.options;b.from=b.to=0,clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){f(a)},c.foldOnChangeTimeSpan||600)}function i(a){var b=a.state.foldGutter,c=a.state.foldGutter.options;clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){var c=a.getViewport();b.from==b.to||c.from-b.to>20||b.from-c.to>20?f(a):a.operation(function(){c.from<b.from&&(e(a,c.from,b.from),b.from=c.from),c.to>b.to&&(e(a,b.to,c.to),b.to=c.to)})},c.updateViewportTimeSpan)}function j(a,b){var c=a.state.foldGutter,d=b.line;d>=c.from&&d<c.to&&e(a,d,d+1)}CodeMirror.defineOption("foldGutter",!1,function(c,d,e){e&&e!=CodeMirror.Init&&(c.clearGutter(c.state.foldGutter.options.gutter),c.state.foldGutter=null,c.off("gutterClick",g),c.off("change",h),c.off("viewportChange",i),c.off("fold",j),c.off("unfold",j),c.off("swapDoc",f)),d&&(c.state.foldGutter=new a(b(d)),f(c),c.on("gutterClick",g),c.on("change",h),c.on("viewportChange",i),c.on("fold",j),c.on("unfold",j),c.on("swapDoc",f))});var k=CodeMirror.Pos}(),CodeMirror.defineMode("gfm",function(a){function b(a){return a.code=!1,null}var c=0,d={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(a){return{code:a.code,codeBlock:a.codeBlock,ateSpace:a.ateSpace}},token:function(a,b){if(b.codeBlock)return a.match(/^```/)?(b.codeBlock=!1,null):(a.skipToEnd(),null);if(a.sol()&&(b.code=!1),a.sol()&&a.match(/^```/))return a.skipToEnd(),b.codeBlock=!0,null;if("`"===a.peek()){a.next();var d=a.pos;a.eatWhile("`");var e=1+a.pos-d;return b.code?e===c&&(b.code=!1):(c=e,b.code=!0),null}if(b.code)return a.next(),null;if(a.eatSpace())return b.ateSpace=!0,null;if(a.sol()||b.ateSpace){if(b.ateSpace=!1,a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return"link";if(a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return"link"}return a.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i)?"link":(a.next(),null)},blankLine:b};return CodeMirror.defineMIME("gfmBase",{name:"markdown",underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0}),CodeMirror.overlayMode(CodeMirror.getMode(a,"gfmBase"),d)},"markdown"),CodeMirror.defineMode("javascript",function(a,b){function c(a,b,c){return b.tokenize=c,c(a,b)}function d(a,b){for(var c,d=!1;null!=(c=a.next());){if(c==b&&!d)return!1;d=!d&&"\\"==c}return d}function e(a,b,c){return S=a,T=c,b}function f(a,b){var f=a.next();if('"'==f||"'"==f)return c(a,b,g(f));if("."==f&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return e("number","number");if(/[\[\]{}\(\),;\:\.]/.test(f))return e(f);if("0"==f&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),e("number","number");if(/\d/.test(f))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),e("number","number");if("/"==f)return a.eat("*")?c(a,b,h):a.eat("/")?(a.skipToEnd(),e("comment","comment")):"operator"==b.lastType||"keyword c"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)?(d(a,"/"),a.eatWhile(/[gimy]/),e("regexp","string-2")):(a.eatWhile(Z),e("operator",null,a.current()));if("#"==f)return a.skipToEnd(),e("error","error");if(Z.test(f))return a.eatWhile(Z),e("operator",null,a.current());a.eatWhile(/[\w\$_]/);var i=a.current(),j=Y.propertyIsEnumerable(i)&&Y[i];return j&&"."!=b.lastType?e(j.type,j.style,i):e("variable","variable",i)}function g(a){return function(b,c){return d(b,a)||(c.tokenize=f),e("string","string")}}function h(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=f;break}d="*"==c}return e("comment","comment")}function i(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function j(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function k(a,b,c,d,e){var f=a.cc;for(_.state=a,_.stream=e,_.marked=null,_.cc=f,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var g=f.length?f.pop():W?u:t;if(g(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return _.marked?_.marked:"variable"==c&&j(a,d)?"variable-2":b}}}function l(){for(var a=arguments.length-1;a>=0;a--)_.cc.push(arguments[a])}function m(){return l.apply(null,arguments),!0}function n(a){function b(b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}var c=_.state;if(c.context){if(_.marked="def",b(c.localVars))return;c.localVars={name:a,next:c.localVars}}else{if(b(c.globalVars))return;c.globalVars={name:a,next:c.globalVars}}}function o(){_.state.context={prev:_.state.context,vars:_.state.localVars},_.state.localVars=aa}function p(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function q(a,b){var c=function(){var c=_.state,d=c.indented;"stat"==c.lexical.type&&(d=c.lexical.indented),c.lexical=new i(d,_.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function r(){var a=_.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function s(a){return function(b){return b==a?m():";"==a?l():m(arguments.callee)}}function t(a){return"var"==a?m(q("vardef"),J,s(";"),r):"keyword a"==a?m(q("form"),u,t,r):"keyword b"==a?m(q("form"),t,r):"{"==a?m(q("}"),G,r):";"==a?m():"if"==a?m(q("form"),u,t,r,L):"function"==a?m(Q):"for"==a?m(q("form"),s("("),q(")"),M,s(")"),r,t,r):"variable"==a?m(q("stat"),B):"switch"==a?m(q("form"),u,q("}","switch"),s("{"),G,r,r):"case"==a?m(u,s(":")):"default"==a?m(s(":")):"catch"==a?m(q("form"),o,s("("),R,s(")"),t,r,p):l(q("stat"),u,s(";"),r)}function u(a){return w(a,!1)}function v(a){return w(a,!0)}function w(a,b){var c=b?A:z;return $.hasOwnProperty(a)?m(c):"function"==a?m(Q):"keyword c"==a?m(b?y:x):"("==a?m(q(")"),x,s(")"),r,c):"operator"==a?m(b?v:u):"["==a?m(q("]"),F(v,"]"),r,c):"{"==a?m(q("}"),F(D,"}"),r,c):m()}function x(a){return a.match(/[;\}\)\],]/)?l():l(u)}function y(a){return a.match(/[;\}\)\],]/)?l():l(v)}function z(a,b){return","==a?m(u):A(a,b,!1)}function A(a,b,c){var d=0==c?z:A,e=0==c?u:v;return"operator"==a?/\+\+|--/.test(b)?m(d):"?"==b?m(u,s(":"),e):m(e):";"!=a?"("==a?m(q(")","call"),F(v,")"),r,d):"."==a?m(C,d):"["==a?m(q("]"),x,s("]"),r,d):void 0:void 0}function B(a){return":"==a?m(r,t):l(z,s(";"),r)}function C(a){return"variable"==a?(_.marked="property",m()):void 0}function D(a,b){if("variable"==a){if(_.marked="property","get"==b||"set"==b)return m(E)}else("number"==a||"string"==a)&&(_.marked=a+" property");return $.hasOwnProperty(a)?m(s(":"),v):void 0}function E(a){return":"==a?m(u):"variable"!=a?m(s(":"),u):(_.marked="property",m(Q))}function F(a,b){function c(d){if(","==d){var e=_.state.lexical;return"call"==e.info&&(e.pos=(e.pos||0)+1),m(a,c)}return d==b?m():m(s(b))}return function(d){return d==b?m():l(a,c)}}function G(a){return"}"==a?m():l(t,G)}function H(a){return":"==a?m(I):l()}function I(a){return"variable"==a?(_.marked="variable-3",m()):l()}function J(a,b){return"variable"==a?(n(b),X?m(H,K):m(K)):l()}function K(a,b){return"="==b?m(v,K):","==a?m(J):void 0}function L(a,b){return"keyword b"==a&&"else"==b?m(q("form"),t,r):void 0}function M(a){return"var"==a?m(J,s(";"),O):";"==a?m(O):"variable"==a?m(N):l(u,s(";"),O)}function N(a,b){return"in"==b?m(u):m(z,O)}function O(a,b){return";"==a?m(P):"in"==b?m(u):l(u,s(";"),P)}function P(a){")"!=a&&m(u)}function Q(a,b){return"variable"==a?(n(b),m(Q)):"("==a?m(q(")"),o,F(R,")"),r,t,p):void 0}function R(a,b){return"variable"==a?(n(b),X?m(H):m()):void 0}var S,T,U=a.indentUnit,V=b.statementIndent,W=b.json,X=b.typescript,Y=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},g={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":a("this")};if(X){var h={type:"variable",style:"variable-3"},i={"interface":a("interface"),"class":a("class"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),"super":a("super"),string:h,number:h,bool:h,any:h};for(var j in i)g[j]=i[j]}return g}(),Z=/[+\-*&%=<>!?|~^]/,$={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},_={state:null,column:null,marked:null,cc:null},aa={name:"this",next:{name:"arguments"}};return r.lex=!0,{startState:function(a){return{tokenize:f,lastType:null,cc:[],lexical:new i((a||0)-U,0,"block",!1),localVars:b.localVars,globalVars:b.globalVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation()),b.tokenize!=h&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==S?c:(b.lastType="operator"!=S||"++"!=T&&"--"!=T?S:"incdec",k(b,c,S,T,a))},indent:function(a,c){if(a.tokenize==h)return CodeMirror.Pass;if(a.tokenize!=f)return 0;for(var d=c&&c.charAt(0),e=a.lexical,g=a.cc.length-1;g>=0;--g){var i=a.cc[g];if(i==r)e=e.prev;else if(i!=L||/^else\b/.test(c))break}"stat"==e.type&&"}"==d&&(e=e.prev),V&&")"==e.type&&"stat"==e.prev.type&&(e=e.prev);var j=e.type,k=d==j;return"vardef"==j?e.indented+("operator"==a.lastType||","==a.lastType?4:0):"form"==j&&"{"==d?e.indented:"form"==j?e.indented+U:"stat"==j?e.indented+("operator"==a.lastType||","==a.lastType?V||U:0):"switch"!=e.info||k||0==b.doubleIndentSwitch?e.align?e.column+(k?0:1):e.indented+(k?0:U):e.indented+(/^(?:case|default)\b/.test(c)?U:2*U)},electricChars:":{}",blockCommentStart:W?null:"/*",blockCommentEnd:W?null:"*/",lineComment:W?null:"//",fold:"brace",helperType:W?"json":"javascript",jsonMode:W}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("markdown",function(a,b){function c(a,b,c){return b.f=b.inline=c,c(a,b)}function d(a,b,c){return b.f=b.block=c,c(a,b)}function e(a){return a.linkTitle=!1,a.em=!1,a.strong=!1,a.quote=0,q||a.f!=g||(a.f=k,a.block=f),a.trailingSpace=0,a.trailingSpaceNewLine=!1,a.thisLineHasContent=!1,null}function f(a,e){var f=e.list!==!1;if(e.list!==!1&&e.indentationDiff>=0?(e.indentationDiff<4&&(e.indentation-=e.indentationDiff),e.list=null):e.list!==!1&&e.indentation>0?(e.list=null,e.listDepth=Math.floor(e.indentation/4)):e.list!==!1&&(e.list=!1,e.listDepth=0),e.indentationDiff>=4)return e.indentation-=4,a.skipToEnd(),w;if(a.eatSpace())return null;if("#"===a.peek()||e.prevLineHasContent&&a.match(O))e.header=!0;else if(a.eat(">"))for(e.indentation++,e.quote=1,a.eatSpace();a.eat(">");)a.eatSpace(),e.quote++;else{if("["===a.peek())return c(a,e,m);if(a.match(K,!0))return C;if(e.prevLineHasContent&&!f||!a.match(L,!0)&&!a.match(M,!0)){if(b.fencedCodeBlocks&&a.match(/^```([\w+#]*)/,!0))return e.localMode=t(RegExp.$1),e.localMode&&(e.localState=e.localMode.startState()),d(a,e,h),w}else e.indentation+=4,e.list=!0,e.listDepth++,b.taskLists&&a.match(N,!1)&&(e.taskList=!0)}return c(a,e,e.inline)}function g(a,b){var c=r.token(a,b.htmlState);return q&&"tag"===c&&"openTag"!==b.htmlState.type&&!b.htmlState.context&&(b.f=k,b.block=f),b.md_inside&&-1!=a.current().indexOf(">")&&(b.f=k,b.block=f,b.htmlState.context=void 0),c}function h(a,b){return a.sol()&&a.match(/^```/,!0)?(b.localMode=b.localState=null,b.f=k,b.block=f,w):b.localMode?b.localMode.token(a,b.localState):(a.skipToEnd(),w)}function i(a){var b=[];if(a.taskOpen)return"meta";if(a.taskClosed)return"property";if(a.strong&&b.push(J),a.em&&b.push(I),a.linkText&&b.push(G),a.code&&b.push(w),a.header&&b.push(v),a.quote&&b.push(a.quote%2?x:y),a.list!==!1){var c=(a.listDepth-1)%3;c?1===c?b.push(A):b.push(B):b.push(z)}return a.trailingSpaceNewLine?b.push("trailing-space-new-line"):a.trailingSpace&&b.push("trailing-space-"+(a.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function j(a,b){return a.match(P,!0)?i(b):void 0}function k(a,e){var f=e.text(a,e);if("undefined"!=typeof f)return f;if(e.list)return e.list=null,i(e);if(e.taskList){var h="x"!==a.match(N,!0)[1];return h?e.taskOpen=!0:e.taskClosed=!0,e.taskList=!1,i(e)}e.taskOpen=!1,e.taskClosed=!1;var j=a.next();if("\\"===j)return a.next(),i(e);if(e.linkTitle){e.linkTitle=!1;var k=j;"("===j&&(k=")"),k=(k+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var m="^\\s*(?:[^"+k+"\\\\]+|\\\\\\\\|\\\\.)"+k;if(a.match(new RegExp(m),!0))return H}if("`"===j){var n=i(e),o=a.pos;a.eatWhile("`");var q=1+a.pos-o;return e.code?q===u?(e.code=!1,n):i(e):(u=q,e.code=!0,i(e))}if(e.code)return i(e);if("!"===j&&a.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return a.match(/\[[^\]]*\]/),e.inline=e.f=l,D;if("["===j&&a.match(/.*\](\(| ?\[)/,!1))return e.linkText=!0,i(e);if("]"===j&&e.linkText){var r=i(e);return e.linkText=!1,e.inline=e.f=l,r}if("<"===j&&a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return c(a,e,p(E,">"));if("<"===j&&a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return c(a,e,p(F,">"));if("<"===j&&a.match(/^\w/,!1)){if(-1!=a.string.indexOf(">")){var s=a.string.substring(1,a.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(s)&&(e.md_inside=!0)}return a.backUp(1),d(a,e,g)}if("<"===j&&a.match(/^\/\w*?>/))return e.md_inside=!1,"tag";var t=!1;if(!b.underscoresBreakWords&&"_"===j&&"_"!==a.peek()&&a.match(/(\w)/,!1)){var v=a.pos-2;if(v>=0){var w=a.string.charAt(v);"_"!==w&&w.match(/(\w)/,!1)&&(t=!0)}}var n=i(e);if("*"===j||"_"===j&&!t){if(e.strong===j&&a.eat(j))return e.strong=!1,n;if(!e.strong&&a.eat(j))return e.strong=j,i(e);if(e.em===j)return e.em=!1,n;if(!e.em)return e.em=j,i(e)}else if(" "===j&&(a.eat("*")||a.eat("_"))){if(" "===a.peek())return i(e);a.backUp(1)}return" "===j&&(a.match(/ +$/,!1)?e.trailingSpace++:e.trailingSpace&&(e.trailingSpaceNewLine=!0)),i(e)}function l(a,b){if(a.eatSpace())return null;var d=a.next();return"("===d||"["===d?c(a,b,p(H,"("===d?")":"]")):"error"}function m(a,b){return a.match(/^[^\]]*\]:/,!0)?(b.f=n,G):c(a,b,k)}function n(a,b){return a.eatSpace()?null:(a.match(/^[^\s]+/,!0),void 0===a.peek()?b.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),b.f=b.inline=k,H)}function o(a){return Q[a]||(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),Q[a]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+a+")")),Q[a]}function p(a,b,c){return c=c||k,function(d,e){return d.match(o(b)),e.inline=e.f=c,a}}var q=CodeMirror.modes.hasOwnProperty("xml"),r=CodeMirror.getMode(a,q?{name:"xml",htmlMode:!0}:"text/plain"),s={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},t=function(){var b,c,d={},e={},f=[];for(var g in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(g)&&f.push(g);for(b=0;b<f.length;b++)d[f[b]]=f[b];var h=[];for(var g in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(g)&&h.push({mime:g,mode:CodeMirror.mimeModes[g]});for(b=0;b<h.length;b++)c=h[b].mime,e[c]=h[b].mime;for(var i in s)(s[i]in d||s[i]in e)&&(d[i]=s[i]);return function(b){return d[b]?CodeMirror.getMode(a,d[b]):null}}();void 0===b.underscoresBreakWords&&(b.underscoresBreakWords=!0),void 0===b.fencedCodeBlocks&&(b.fencedCodeBlocks=!1),void 0===b.taskLists&&(b.taskLists=!1);var u=0,v="header",w="comment",x="atom",y="number",z="variable-2",A="variable-3",B="keyword",C="hr",D="tag",E="link",F="link",G="link",H="string",I="em",J="strong",K=/^([*\-=_])(?:\s*\1){2,}\s*$/,L=/^[*\-+]\s+/,M=/^[0-9]+\.\s+/,N=/^\[(x| )\](?=\s)/,O=/^(?:\={1,}|-{1,})$/,P=/^[^!\[\]*_\\<>` "'(]+/,Q=[];return{startState:function(){return{f:f,prevLineHasContent:!1,thisLineHasContent:!1,block:f,htmlState:CodeMirror.startState(r),indentation:0,inline:k,text:j,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,parentIndentation:0}},copyState:function(a){return{f:a.f,prevLineHasContent:a.prevLineHasContent,thisLineHasContent:a.thisLineHasContent,block:a.block,htmlState:CodeMirror.copyState(r,a.htmlState),indentation:a.indentation,localMode:a.localMode,localState:a.localMode?CodeMirror.copyState(a.localMode,a.localState):null,inline:a.inline,text:a.text,linkTitle:a.linkTitle,em:a.em,strong:a.strong,header:a.header,taskList:a.taskList,list:a.list,listDepth:a.listDepth,quote:a.quote,trailingSpace:a.trailingSpace,trailingSpaceNewLine:a.trailingSpaceNewLine,parentIndentation:a.parentIndentation,md_inside:a.md_inside}},token:function(a,b){if(a.sol()){if(a.match(/^\s*$/,!0))return b.prevLineHasContent=!1,e(b);b.prevLineHasContent=b.thisLineHasContent,b.thisLineHasContent=!0,b.header=!1,b.taskList=!1,b.code=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,b.f=b.block;var c=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length-b.parentIndentation,d=4*Math.floor((c-b.indentation-b.parentIndentation)/4);d>4&&(d=4);var f=b.indentation+d-b.parentIndentation;if(b.indentationDiff=f-b.indentation-b.parentIndentation,b.indentation=f,c>0)return null}return b.f(a,b)},blankLine:e,getType:i}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.overlayMode=CodeMirror.overlayParser=function(a,b,c){return{startState:function(){return{base:CodeMirror.startState(a),overlay:CodeMirror.startState(b),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(c){return{base:CodeMirror.copyState(a,c.base),overlay:CodeMirror.copyState(b,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(d,e){return d.start==e.basePos&&(e.baseCur=a.token(d,e.base),e.basePos=d.pos),d.start==e.overlayPos&&(d.pos=d.start,e.overlayCur=b.token(d,e.overlay),e.overlayPos=d.pos),d.pos=Math.min(e.basePos,e.overlayPos),d.eol()&&(e.basePos=e.overlayPos=0),null==e.overlayCur?e.baseCur:null!=e.baseCur&&c?e.baseCur+" "+e.overlayCur:e.overlayCur},indent:a.indent&&function(b,c){return a.indent(b.base,c)},electricChars:a.electricChars,innerMode:function(b){return{state:b.base,mode:a}},blankLine:function(c){a.blankLine&&a.blankLine(c.base),b.blankLine&&b.blankLine(c.overlay)}}},function(){"use strict";function a(a,b,c){this.cm=a,this.getHints=b,this.options=c,this.widget=this.onClose=null}function b(a){return"string"==typeof a?a:a.text}function c(a,b){function c(a,c){var f;f="string"!=typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c,e[a]=f}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(-b.menuSize())},PageDown:function(){b.moveFocus(b.menuSize())},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length)},Enter:b.pick,Esc:b.close},e=a.customKeys?{}:d;if(a.customKeys)for(var f in a.customKeys)a.customKeys.hasOwnProperty(f)&&c(f,a.customKeys[f]);if(a.extraKeys)for(var f in a.extraKeys)a.extraKeys.hasOwnProperty(f)&&c(f,a.extraKeys[f]);return e}function d(a,d){this.completion=a,this.data=d,this.options=a.options||{};var f=this,g=a.cm,h=a.options,i=this.hints=document.createElement("ul");i.className="CodeMirror-hints",this.selectedHint=0;for(var j=d.list,k=0;k<j.length;++k){var l=i.appendChild(document.createElement("li")),m=j[k],n="CodeMirror-hint"+(k?"":" CodeMirror-hint-active");null!=m.className&&(n=m.className+" "+n),l.className=n,m.render?m.render(l,d,m):l.appendChild(document.createTextNode(m.displayText||b(m))),l.hintId=k}var o=g.cursorCoords(h.alignWithWord!==!1?d.from:null),p=o.left,q=o.bottom,r=!0;i.style.left=p+"px",i.style.top=q+"px",this.options.ghosting&&(i.style.display=j.length>1?"block":"none");var s=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),t=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),u=i.getBoundingClientRect(),v=u.right-s,w=u.bottom-t;if(v>0&&(u.right-u.left>s&&(i.style.width=s-5+"px",v-=u.right-u.left-s),i.style.left=(p=o.left-v)+"px"),w>0){var x=u.bottom-u.top;u.top-(o.bottom-o.top)-x>0?(w=x+(o.bottom-o.top),r=!1):x>t&&(i.style.height=t-5+"px",w-=x-t),i.style.top=(q=o.bottom-w)+"px"}if((h.container||document.body).appendChild(i),g.addKeyMap(this.keyMap=c(h,{moveFocus:function(a){f.changeActive(f.selectedHint+a)},setFocus:function(a){f.changeActive(a)},menuSize:function(){return f.screenAmount()},length:j.length,close:function(){a.close()},pick:function(){f.pick()}})),h.closeOnUnfocus!==!1){var y;g.on("blur",this.onBlur=function(){y=setTimeout(function(){a.close()},100)}),g.on("focus",this.onFocus=function(){clearTimeout(y)})}var z=g.getScrollInfo();return g.on("scroll",this.onScroll=function(){var b=g.getScrollInfo(),c=g.getWrapperElement().getBoundingClientRect(),d=q+z.top-b.top,e=d-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return r||(e+=i.offsetHeight),e<=c.top||e>=c.bottom?a.close():(i.style.top=d+"px",void(i.style.left=p+z.left-b.left+"px"))}),CodeMirror.on(i,"dblclick",function(a){var b=f.getHintElement(i,a.target||a.srcElement);b&&null!=b.hintId&&(f.changeActive(b.hintId),f.pick())}),CodeMirror.on(i,"click",function(a){var b=f.getHintElement(i,a.target||a.srcElement);b&&null!=b.hintId&&f.changeActive(b.hintId)}),CodeMirror.on(i,"mousedown",function(){setTimeout(function(){g.focus()},20)}),CodeMirror.signal(d,"select",j[0],i.firstChild),this.options.ghosting&&this.data.list[0]&&(this.removeGhost(),this.ghost=new e(this,this.data,this.data.list[0].displayText,this.pick.bind(this))),!0}function e(a,b,c,d){var e=this;if(this.cm=a.completion.cm,this.data=b,this.widget=a,this.completion=a.completion,this.cm.addKeyMap(this.keyMap={Tab:d||function(){e.accept()},Right:d||function(){e.accept()}}),!c)return this.remove();var f=this.suffix=c.substr(b.word.length);if(!f.length)return this.remove();var g=document.createElement("span");g.className="CodeMirror-hint-ghost",g.appendChild(document.createTextNode(f)),this._ghost=this.cm.setBookmark(this.data.to,{widget:g,insertLeft:!0})}CodeMirror.showHint=function(b,c,d){if(!b.somethingSelected()&&(null==c&&(c=b.getHelper(b.getCursor(),"hint")),null!=c)){b.state.completionActive&&b.state.completionActive.close();var e=b.state.completionActive=new a(b,c,d||{});return CodeMirror.signal(b,"startCompletion",b),e.options.async?void c(b,function(a){e.showHints(a)},e.options):e.showHints(c(b,e.options))}},a.prototype={close:function(){this.active()&&(this.widget&&this.widget.close(),this.onClose&&this.onClose(),this.cm.state.completionActive=null,CodeMirror.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(a,c){var d=a.list[c];d.hint?d.hint(this.cm,a,d):this.cm.replaceRange(b(d),a.from,a.to),this.close()},showHints:function(a){return a&&a.list.length&&this.active()?void(this.options.ghosting||0==this.options.completeSingle||1!=a.list.length?this.showWidget(a):this.pick(a,0)):this.close()},showWidget:function(a){function b(){h||(h=!0,j.close(),j.cm.off("cursorActivity",g),CodeMirror.signal(a,"close"))}function c(){return h?!0:j.widget?void 0:(b(),!0)}function e(){c()||(j.options.async?j.getHints(j.cm,f,j.options):f(j.getHints(j.cm,j.options)))}function f(a){if(!c()){if(!a||!a.list.length)return b();j.widget.close(),j.widget=new d(j,a)}}function g(){clearTimeout(i);var a=j.cm.getCursor(),b=j.cm.getLine(a.line);a.line!=l.line||b.length-a.ch!=m-l.ch||a.ch<l.ch||j.cm.somethingSelected()||a.ch&&k.test(b.charAt(a.ch-1))?j.close():i=setTimeout(e,170)}this.widget=new d(this,a),CodeMirror.signal(a,"shown");var h,i=null,j=this,k=this.options.closeCharacters||/[\s()\[\]{};:>,]/,l=this.cm.getCursor(),m=this.cm.getLine(l.line).length;this.cm.on("cursorActivity",g),this.onClose=b}},d.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap),this.removeGhost();var a=this.completion.cm;this.options.closeOnUnfocus!==!1&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus)),a.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(a){if(a=Math.max(0,Math.min(a,this.data.list.length-1)),this.selectedHint!=a){var b=this.hints.childNodes[this.selectedHint];b.className=b.className.replace(" CodeMirror-hint-active",""),b=this.hints.childNodes[this.selectedHint=a],b.className+=" CodeMirror-hint-active",this.options.ghosting&&(this.removeGhost(),this.ghost=new e(this,this.data,this.data.list[a].displayText,this.pick.bind(this))),b.offsetTop<this.hints.scrollTop?this.hints.scrollTop=b.offsetTop-3:b.offsetTop+b.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=b.offsetTop+b.offsetHeight-this.hints.clientHeight+3),CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],b)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1;
},removeGhost:function(){return this.ghost?(this.ghost.remove(),this):void 0},getHintElement:function(a,b){for(;b&&b!==a&&!this.isHintElement(b);)b=b.parentNode;return b===a?void 0:b},isHintElement:function(a){return a.nodeName&&"LI"===a.nodeName.toUpperCase()&&-1!==a.className.split(/\s/).indexOf("CodeMirror-hint")}},e.prototype={accept:function(){return this.suffix&&this.data&&this.cm.replaceRange(this.suffix,this.data.to,this.data.to),this.remove()},remove:function(){return this._ghost&&this._ghost.clear(),this.cm.removeKeyMap(this.keyMap),delete this.ghost,delete this.suffix,delete this.widget.ghost,this}}}(),CodeMirror.defineMode("xml",function(a,b){function c(a,b){function c(c){return b.tokenize=c,c(a,b)}var e=a.next();if("<"==e){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(f("atom","]]>")):null:a.match("--")?c(f("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(g(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=f("meta","?>"),"meta";var h=a.eat("/");t="";for(var i;i=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)t+=i;return t?(u=h?"closeTag":"openTag",b.tokenize=d,"tag"):"error"}if("&"==e){var j;return j=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),j?"atom":"error"}return a.eatWhile(/[^&<]/),null}function d(a,b){var d=a.next();return">"==d||"/"==d&&a.eat(">")?(b.tokenize=c,u=">"==d?"endTag":"selfcloseTag","tag"):"="==d?(u="equals",null):"<"==d?"error":/[\'\"]/.test(d)?(b.tokenize=e(d),b.stringStartCol=a.column(),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function e(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=d;break}return"string"};return b.isInAttribute=!0,b}function f(a,b){return function(d,e){for(;!d.eol();){if(d.match(b)){e.tokenize=c;break}d.next()}return a}}function g(a){return function(b,d){for(var e;null!=(e=b.next());){if("<"==e)return d.tokenize=g(a+1),d.tokenize(b,d);if(">"==e){if(1==a){d.tokenize=c;break}return d.tokenize=g(a-1),d.tokenize(b,d)}}return"meta"}}function h(){for(var a=arguments.length-1;a>=0;a--)v.cc.push(arguments[a])}function i(){return h.apply(null,arguments),!0}function j(a,b){var c=B.doNotIndent.hasOwnProperty(a)||v.context&&v.context.noIndent;v.context={prev:v.context,tagName:a,indent:v.indented,startOfLine:b,noIndent:c}}function k(){v.context&&(v.context=v.context.prev)}function l(a){if("openTag"==a)return v.tagName=t,v.tagStart=w.column(),i(p,m(v.startOfLine));if("closeTag"==a){var b=!1;return v.context?v.context.tagName!=t&&(B.implicitlyClosed.hasOwnProperty(v.context.tagName.toLowerCase())&&k(),b=!v.context||v.context.tagName!=t):b=!0,b&&(x="error"),i(n(b))}return i()}function m(a){return function(b){var c=v.tagName;return v.tagName=v.tagStart=null,"selfcloseTag"==b||"endTag"==b&&B.autoSelfClosers.hasOwnProperty(c.toLowerCase())?(o(c.toLowerCase()),i()):"endTag"==b?(o(c.toLowerCase()),j(c,a),i()):i()}}function n(a){return function(b){return a&&(x="error"),"endTag"==b?(k(),i()):(x="error",i(arguments.callee))}}function o(a){for(var b;;){if(!v.context)return;if(b=v.context.tagName.toLowerCase(),!B.contextGrabbers.hasOwnProperty(b)||!B.contextGrabbers[b].hasOwnProperty(a))return;k()}}function p(a){return"word"==a?(x="attribute",i(q,p)):"endTag"==a||"selfcloseTag"==a?h():(x="error",i(p))}function q(a){if("equals"==a)return i(r,p);if(B.allowMissing){if("word"==a)return x="attribute",i(q,p)}else x="error";return"endTag"==a||"selfcloseTag"==a?h():i()}function r(a){return"string"==a?i(s):"word"==a&&B.allowUnquoted?(x="string",i()):(x="error","endTag"==a||"selfCloseTag"==a?h():i())}function s(a){return"string"==a?i(s):h()}var t,u,v,w,x,y=a.indentUnit,z=b.multilineTagIndentFactor||1,A=b.multilineTagIndentPastTag||!0,B=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},C=b.alignCDATA;return{startState:function(){return{tokenize:c,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(a,b){if(!b.tagName&&a.sol()&&(b.startOfLine=!0,b.indented=a.indentation()),a.eatSpace())return null;x=u=t=null;var c=b.tokenize(a,b);if(b.type=u,(c||u)&&"comment"!=c)for(v=b,w=a;;){var d=b.cc.pop()||l;if(d(u||c))break}return b.startOfLine=!1,x||c},indent:function(a,b,e){var f=a.context;if(a.tokenize.isInAttribute)return a.stringStartCol+1;if(a.tokenize!=d&&a.tokenize!=c||f&&f.noIndent)return e?e.match(/^(\s*)/)[0].length:0;if(a.tagName)return A?a.tagStart+a.tagName.length+2:a.tagStart+y*z;if(C&&/<!\[CDATA\[/.test(b))return 0;for(f&&/^<\//.test(b)&&(f=f.prev);f&&!f.startOfLine;)f=f.prev;return f?f.indent+y:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),function(){"use strict";angular.module("ramlEditorApp",["ui.bootstrap.modal","ui.bootstrap.tpls","ui.tree","ramlConsoleApp","codeMirror","fs","raml","stringFilters","utils","lightweightDOM","splitter","validate","autoFocus","rightClick","dragAndDrop"])}(),Array.prototype.find||(Array.prototype.find=function(a){for(var b=0,c=this.length;c>b;b++){var d=this[b];if(a(d))return d}return void 0}),Array.prototype.includes||(Array.prototype.includes=function(a){for(var b=0,c=this.length;c>b;b++){var d=this[b];if(d===a)return!0}return!1}),String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.indexOf(a)}),String.prototype.endsWith||(String.prototype.endsWith=function(a){return this.lastIndexOf(a)===this.length-a.length}),function(){"use strict";angular.module("utils",[]).value("indentUnit",2).factory("safeApply",["$rootScope","$exceptionHandler",function(a,b){return function(c,d){if(c=c||a,-1===["$apply","$digest"].indexOf(c.$root&&c.$root.$$phase||c.$$phase))return c.$apply(d);try{return c.$eval(d)}catch(e){b(e)}}}]).factory("safeApplyWrapper",["safeApply",function(a){return function(b,c){return function(){var d=Array.prototype.slice.call(arguments,0);return a(b,function(){return c.apply(this,d)})}}}]).factory("getTime",function(){return Date.now||function(){return(new Date).getTime()}}).factory("debounce",["$timeout","$q",function(a,b){return function(c,d){var e=null,f=b.defer();return function(){var g=this,h=arguments,i=function(){e=null,f.resolve(c.apply(g,h)),f=b.defer()};return e&&a.cancel(e),e=a(i,d),f.promise}}}]).value("generateSpaces",function(a){return a=a||0,new Array(a+1).join(" ")}).factory("generateTabs",["generateSpaces","indentUnit",function(a,b){return function(c,d){return d=d||b,c=c||0,new Array(c+1).join(a(b))}}]).value("$prompt",function(a,b){return window.prompt(a,b)}).value("$confirm",function(a){return window.confirm(a)}).factory("generateName",function(){return function(a,b,c){c=c?"."+c:"";var d=Math.max.apply(void 0,a.map(function(a){var c=new RegExp(b+"(\\d+)"),d=a.match(c);return d?d[1]:0}).concat(0));return b+(d+1)+c}}).factory("scroll",function(){function a(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1}function b(b){d[b.keyCode]&&a(b)}function c(b){a(b)}var d={37:!0,38:!0,39:!0,40:!0};return{enable:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null},disable:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=c,document.onkeydown=b}}}).factory("resolveUri",["$window",function(a){return function(b){return/^\w+:\/\//.test(b)?b:"/"===b[0]?a.location.origin+b:a.location.origin+a.location.pathname.split("/").slice(0,-1).concat(b).join("/")}}])}(),function(){"use strict";angular.module("raml").value("config",{set:function(a,b){localStorage["config."+a]=b},get:function(a,b){return a="config."+a,a in localStorage?localStorage[a]:b},remove:function(a){delete localStorage["config."+a]},clear:function(){localStorage.clear()}})}(),function(){"use strict";angular.module("lightweightDOM",["lightweightParse"]).factory("getNode",["getSpaceCount","getTabCount","getLineIndent","isArrayStarter","isCommentStarter","extractKeyValue",function(a,b,c,d,e,f){function g(a,b,f){this.editor=a,this.lineNumber=b,this.line=f,this.lineIndent=c(this.line,a.getOption("indentUnit")),this.isEmpty=this.lineIndent.spaceCount===this.line.length,this.isComment=!this.isEmpty&&e(this.line),this.isArrayStarter=!this.isComment&&d(this.line),this.isStructural=!this.isEmpty&&!this.isComment}function h(b,c){var d=b.getCursor(),e=arguments.length>1?c:d.line,f=b.getLine(e),h=i[e];if(void 0===f)return null;if(d.line===e){var j=a(f);(j===f.length||"#"===f[j])&&(f=f.slice(0,d.ch))}return h&&h.line===f||(h=i[e]=new g(b,e,f)),h}var i={};return g.prototype.getKeyValue=function(){return this.keyValue||(this.keyValue=f(this.line)),this.keyValue},g.prototype.getKey=function(){return this.getKeyValue().key},g.prototype.getValue=function(){return this.getKeyValue().value},g.prototype.getNextSibling=function(){for(var a=this.lineNumber;;){var b=h(this.editor,++a);if(null===b)return null;if(b.isStructural){if(b.lineIndent.tabCount===this.lineIndent.tabCount)return b;if(this.isArrayStarter&&!b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount+1)return b;if(!this.isArrayStarter&&b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount-1)return b;if(b.lineIndent.tabCount<this.lineIndent.tabCount)return null}}},g.prototype.getPreviousSibling=function(){for(var a=this.lineNumber;;){a-=1;var b=h(this.editor,a);if(null===b)return null;if(b.isStructural){if(b.lineIndent.tabCount===this.lineIndent.tabCount)return b;if(this.isArrayStarter&&!b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount+1)return b;if(!this.isArrayStarter&&b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount-1)return b;if(b.lineIndent.tabCount<this.lineIndent.tabCount)return null}}},g.prototype.getFirstChild=function(){for(var a=this.lineIndent.tabCount+(this.isArrayStarter?2:1),b=this.lineNumber;;){var c=h(this.editor,++b);if(null===c)return null;if(c.lineIndent.tabCount<a)return null;if(c.lineIndent.tabCount>=a&&c.isStructural)return c}},g.prototype.getParent=function(){for(var a=this.lineIndent.tabCount-(!this.isArrayStarter&&this.getIsInArray()?2:1),b=this.lineNumber;;){var c=h(this.editor,--b);if(null===c)return null;if(c.lineIndent.tabCount<=a&&c.isStructural)return c}},g.prototype.getChildren=function(){for(var a=[],b=this.getFirstChild();null!==b;)a.push(b),b=b.getNextSibling();return a},g.prototype.getSelfAndNeighbors=function(){for(var a=[],b=this.getIsInArray(),c=this;c&&c.getIsInArray()===b&&(a.push(c),!c.isArrayStarter);)c=c.getPreviousSibling();for(c=this.getNextSibling();c&&!c.isArrayStarter&&c.getIsInArray()===b;)a.push(c),c=c.getNextSibling();return a},g.prototype.getIsInArray=function(){if(this.isArrayStarter)return!0;for(var a=this.getPreviousSibling();a&&a.lineIndent.tabCount>=this.lineIndent.tabCount;)a=a.getPreviousSibling();return!(!a||!a.isArrayStarter||a.lineIndent.tabCount!==this.lineIndent.tabCount-1)},g.prototype.getPath=function(){for(var a=[],b=this;b=b.getParent();)a.unshift(b);return a},g.prototype.selfOrParent=function(a){return this.first(this.getParent,a)},g.prototype.selfOrPrevious=function(a){return this.first(this.getPreviousSibling,a)},g.prototype.first=function(a,b){for(var c=this;c;){if(b(c))return c;c=a.apply(c)}return null},h}])}(),function(){"use strict";angular.module("lightweightParse",["utils"]).factory("getSpaceCount",function(){return function(a){for(var b=0,c=a.length;c>b&&" "===a[b];b++);return b}}).factory("getTabCount",["indentUnit",function(a){return function(b,c){return c=c||a,Math.floor(b/c)}}]).factory("getLineIndent",["getSpaceCount","getTabCount",function(a,b){return function(c,d){var e=a(c);return{spaceCount:e,tabCount:b(e,d),content:e?c.slice(e):c}}}]).factory("isArrayStarter",["getSpaceCount",function(a){return function(b){var c=a(b);return"-"===b[c]&&" "===b[c+1]}}]).factory("isCommentStarter",["getSpaceCount",function(a){return function(b){var c=a(b);return"#"===b[c]}}]).factory("extractKeyValue",function(){function a(a,b,c){for(b=b||0,c=c||a.length,0>b&&(b=a.length+b),0>c&&(c=a.length+c);c>b&&" "===a[b];)b+=1;for(;c>b&&" "===a[c-1];)c-=1;return 0===b&&c===a.length?a:a.slice(b,c)}function b(a){return a?{text:a,isAlias:"&"===a[0],isReference:"*"===a[0]}:null}return function(c){var d=0,e=c.length,f=c.indexOf("#");return-1!==f&&(e=f),f=c.indexOf("- "),-1!==f&&e>f&&(d=f+2),f=c.indexOf(": ",d),-1!==f&&e>f?{key:a(c,d,f),value:b(a(c,f+2,e))}:(f=c.lastIndexOf(":",e),f===e-1?{key:a(c,d,e-1),value:null}:{key:null,value:b(a(c,d,e))})}}).factory("getScopes",["getLineIndent",function(a){function b(a,b){if(void 0===a||void 0===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}var c;return function(d){if(c&&b(c.key,d))return c.value;var e={},f=d.map(function(b,c){var d=a(b);return{tabCount:d.tabCount,content:d.content,lineNumber:c}}),g=f.reduce(function(a,b){var c,d,f=e[b.tabCount-1];if(f)c=f.length-1,d=e[b.tabCount-1][c];else{if(b.tabCount>1)return f=e[b.tabCount-2],f&&(c=f.length-1,d=e[b.tabCount-2][c],a[d]=a[d]||[],a[d].push({lineNumber:b.lineNumber,content:b.content,tabCount:b.tabCount}),e[b.tabCount-1]=e[b.tabCount-1]||[],e[b.tabCount-1].push(b.lineNumber)),a;d=0}return a[d]=a[d]||[],a[d].push({lineNumber:b.lineNumber,content:b.content,tabCount:b.tabCount}),e[b.tabCount]=e[b.tabCount]||[],e[b.tabCount].push(b.lineNumber),a},{});return c={result:{scopeLevels:e,scopesByLine:g},lines:d},{scopeLevels:e,scopesByLine:g}}}])}(),function(){"use strict";angular.module("codeFolding",["raml","lightweightParse"]).factory("getFoldRange",["getLineIndent",function(a){return function(b,c){var d,e=b.getLine(c.line),f=a(e);if(f.content){var g=b.getLine(c.line+1);if(g){var h=f.tabCount,i=a(g).tabCount;if(i>h)for(var j=c.line+2,k=b.lineCount();k>j;j++){if(g=b.getLine(j),d=a(g),i=d.tabCount,h>=i&&d.content)return g=b.getLine(j-1),{from:CodeMirror.Pos(c.line,e.length),to:CodeMirror.Pos(j-1,g.length)};if(j===k-1)return g=b.getLine(k-1),{from:CodeMirror.Pos(c.line,e.length),to:CodeMirror.Pos(k-1,g.length)}}}}}}])}(),function(){"use strict";angular.module("codeMirror",["raml","ramlEditorApp","codeFolding"]).factory("codeMirror",["$rootScope","ramlSuggest","codeMirrorHighLight","generateSpaces","generateTabs","getFoldRange","isArrayStarter","getSpaceCount","getTabCount","config","extractKeyValue",function(a,b,c,d,e,f,g,h,i,j,k){var l=null,m={CodeMirror:CodeMirror};m.removeTabs=function(a,b){var c=i(h(a),b)*b;return c?a.slice(c):a},m.tabKey=function(a){var b,c,e,f=a.getCursor(),g=a.getLine(f.line),h=a.getOption("indentUnit");return a.somethingSelected()?void a.indentSelection("add"):(c=m.removeTabs(g,h),c=c.length?c:"",e=""!==c&&""===c.replace(/ /g,"")?h-c.length:h,b=d(e),void a.replaceSelection(b,"end","+input"))},m.backspaceKey=function(a){var b=a.getCursor(),c=a.getLine(b.line).slice(0,b.ch),d=a.getOption("indentUnit"),e=c.length-c.replace(/\s+$/,"").length,f=e>=d;if(f&&e%d===0)for(var g=0;d>g;g++)a.deleteH(-1,"char");else a.deleteH(-1,"char")};var n={xml:{name:"xml"},xsd:{name:"xml",alignCDATA:!0},json:{name:"javascript",json:!0},md:{name:"gfm"},raml:{name:"raml"}},o={"Cmd-S":"save","Ctrl-S":"save","Shift-Tab":"indentLess","Shift-Ctrl-T":"toggleTheme"},p={"Ctrl-Space":"autocomplete","Cmd-S":"save","Ctrl-S":"save","Shift-Tab":"indentLess","Shift-Ctrl-T":"toggleTheme"};return m.configureEditor=function(a,b){var c=n[b]||n.raml;a.setOption("mode",c),"raml"===c.name?a.setOption("extraKeys",p):a.setOption("extraKeys",o)},m.enterKey=function(a){function b(b,c){for(var d=b-1;d>=0;d--)if(h(a.getLine(d))<c)return k(a.getLine(d)).key}var c=a.getCursor(),f=c.ch>=a.getLine(c.line).length-1,i=a.getLine(c.line).slice(0,c.ch),j=g(i),l=h(i),m=d(l),n=b(c.line,l),o=-1!==["traits","resourceTypes"].indexOf(n);f?!function(){if(o)return void(m+=e(2));if(j&&(m+=e(1)),"|"===i.replace(/\s+$/,"").slice(-1))return void(m+=e(1));var b=a.getLine(c.line+1);b&&h(b)>l&&(m+=e(1))}():j&&(m+=e(1)),a.replaceSelection("\n"+m,"end","+input")},m.createEditor=function(a,b){var c,d,e=JSON.parse(j.get("folding","true")),f=!1;e&&(f={rangeFinder:CodeMirror.fold.indent,foldOnChangeTimeSpan:300,updateViewportTimeSpan:200}),d={mode:"raml",theme:"solarized dark",lineNumbers:!0,lineWrapping:!0,autofocus:!0,indentWithTabs:!1,indentUnit:2,tabSize:2,keyMap:"tabSpace",foldGutter:f,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]},b&&Object.keys(b).forEach(function(a){d[a]=b[a]}),c=new CodeMirror(a,d),c.setSize("100%","100%"),c.foldCode(0,{rangeFinder:CodeMirror.fold.indent});var g=c.defaultCharWidth(),h=4;return c.on("renderLine",function(a,b,c){var d=CodeMirror.countColumn(b.text,null,a.getOption("tabSize"))*g;c.style.textIndent="-"+d+"px",c.style.paddingLeft=h+d+"px"}),c},m.initEditor=function(){var a=document.getElementById("code"),b=m.createEditor(a);return l=window.editor=b,b},m.getEditor=function(){return l},function(){CodeMirror.keyMap.tabSpace={Tab:m.tabKey,Backspace:m.backspaceKey,Enter:m.enterKey,fallthrough:["default"]},CodeMirror.commands.save=function(){a.$broadcast("event:save")},CodeMirror.commands.autocomplete=function(a){CodeMirror.showHint(a,CodeMirror.hint.raml,{completeSingle:!1,ghosting:!1,async:!0})},CodeMirror.commands.toggleTheme=function(){a.$broadcast("event:toggle-theme")},CodeMirror.defineMode("raml",c.highlight),CodeMirror.defineMIME("text/x-raml","raml"),CodeMirror.registerHelper("hint","raml",b.autocompleteHelper.bind(b)),CodeMirror.registerHelper("fold","indent",f)}(),m}])}(),function(){"use strict";angular.module("codeMirror").factory("codeMirrorErrors",["codeMirror","$timeout",function(a,b){function c(a,b){var c=document.createElement("div");c.className="CodeMirror-lint-tooltip",c.appendChild(a.cloneNode(!0));var d=$(b).offset();return c.style.top=Math.max(0,d.top-c.offsetHeight-5)+"px",c.style.left=d.left+20+"px",null!==c.style.opacity&&(c.style.opacity=1),document.body.appendChild(c),c}function d(a){a.parentNode&&a.parentNode.removeChild(a)}function e(a){a.parentNode&&(null===a.style.opacity&&d(a),a.style.opacity=0,b(function(){d(a)},200))}function f(a,b){function d(a,b){var c=$(a).offset().left,d=c+$(a).outerWidth(),e=c<=b.clientX&&b.clientX<=d+5,f=$(a).offset().top,g=f+$(a).outerHeight(),h=f<=b.clientY&&b.clientY<=g;return e&&h}function f(a){if(g){var b=d(h,a),c=d(g,a);c||b||(l.off(g,"mousedown",i),l.off(document,"mousemove",f),e(g),g=null)}}var g=c(a,b),h=b,i=function(a){f(g);var b=a.target.dataset.path;if(b){var c=angular.element(h).scope();c.$emit("event:raml-editor-file-select",b)}},j=setInterval(function(){if(!g)return clearInterval(j);for(var a=b;;a=a.parentNode){if(a===document.body)return;if(!a){f();break}}},400);l.on(g,"mousedown",i),l.on(document,"mousemove",f)}function g(a){a.clearGutter(m)}function h(a,b){return"error"===a?a:b}function i(a){for(var b=[],c=0,d=a.length;d>c;++c){var e=a[c],f=e.line||1;(b[f]||(b[f]=[])).push(e)}return b}function j(a){var b=a.severity;n.test(b)||(b="error");var c=document.createElement("div");c.className="CodeMirror-lint-message-"+b;var d=a.message;return a.path&&(d+=" at line "+a.tracingLine+" col "+a.tracingColumn+' in <a href="javascript:" data-path="/'+a.path+'">'+a.path+"</a>"),c.innerHTML="<p class=CodeMirror-tag-"+b+">"+b+'</p><p class="CodeMirror-message">'+d+"</p>",c}function k(a,b,c,d,e){var g=document.createElement("div"),h=g;return g.className="CodeMirror-lint-marker-"+b,c&&(h=g.appendChild(document.createElement("div")),h.className="CodeMirror-lint-marker-multiple"),d!==!1&&l.on(h,"mouseenter",function(){f(a,h)}),g.setAttribute("data-marker-line",e[0].line),g.setAttribute("data-marker-message",e[0].message),g}var l=a.CodeMirror,m="CodeMirror-lint-markers",n=/^(?:error|warning)$/,o={};return o.displayAnnotations=function(b,c){c=c||a.getEditor(),g(c);for(var d=i(b),e=0;e<d.length;++e){var f=d[e];if(f){for(var l=null,o=document.createDocumentFragment(),p=0;p<f.length;++p){var q=f[p],r=q.severity;n.test(r)||(r="error"),l=h(l,r),o.appendChild(j(q))}c.setGutterMarker(e-1,m,k(o,l,f.length>1,!0,f))}}},o.clearAnnotations=function(){g(a.getEditor())},o}])}(),function(){"use strict";angular.module("raml").value("snippets",{options:["options:","  description: <<insert text or markdown here>>"],head:["head:","  description: <<insert text or markdown here>>"],get:["get:","  description: <<insert text or markdown here>>"],post:["post:","  description: <<insert text or markdown here>>"],put:["put:","  description: <<insert text or markdown here>>"],"delete":["delete:","  description: <<insert text or markdown here>>"],trace:["trace:","  description: <<insert text or markdown here>>"],connect:["connect:","  description: <<insert text or markdown here>>"],patch:["patch:","  description: <<insert text or markdown here>>"],"<resource>":["/newResource:","  displayName: resourceName"],title:["title: My API"],version:["version: v0.1"],baseuri:["baseUri: http://server/api/{version}"]}).factory("ramlSnippets",["snippets",function(a){function b(a){return f.find(function(b){return b.label===a}).keyValues}var c={},d=[],e=["extends"],f=[{label:"Trait",keyValues:d},{label:"ResourceType",keyValues:d},{label:"Library",keyValues:["usage"]},{label:"Overlay",keyValues:e},{label:"Extension",keyValues:e},{label:"DataType",keyValues:d},{label:"DocumentationItem",keyValues:["title","content"]},{label:"NamedExample",keyValues:["value"]},{label:"AnnotationTypeDeclaration",keyValues:d},{label:"SecurityScheme",keyValues:["type"]},{label:"",keyValues:["title"]}];return c.getEmptyRaml=function(a,c){var d=a?a:"1.0",e=c?" "+c:"",f=b(c?c:""),g=["#%RAML "+d+e];return f.forEach(function(a){g.push(a+":")}),g.join("\n")},c.getSnippet=function(b){var c=b.key,d=b.metadata||{},e=a[c.toLowerCase()];return e?e:d.isText?b.isList?[c]:[c,""]:[c+":"]},c}])}(),function(){"use strict";angular.module("codeMirror").value("highlightRootElement",function(a,b,c,d,e,f){return e<=d[a+".level"]&&(d[a+".level"]=0,d[a+".inside"]=!1),a.indexOf(f)>=0?(d[a+".level"]=e,d[a+".inside"]=!0,b):d[a+".inside"]?c:!1}).value("booleanValues",["true","false"]).factory("keywordRegex",["booleanValues",function(a){return new RegExp("\\b(("+a.join(")|(")+"))$","i")}]).factory("token",["keywordRegex","highlightRootElement","getLineIndent","indentUnit",function(a,b,c,d){return function(e,f){var g=e.peek(),h=f.escaped;if(f.escaped=!1,"#"===g&&/^#%RAML (0\.8|1\.0|1\.0\s\w+)$/.test(e.string.trim()))return e.skipToEnd(),"raml-tag";if("#"===g&&(0===e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(f.literal&&e.indentation()>f.keyCol)return e.skipToEnd(),"none";if(f.literal&&(f.literal=!1),e.sol()){if(f.keyCol=0,f.pair=!1,f.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(!f.pair&&e.match(/^\s*([a-z0-9\?\/\{\}\._\-])+(?=\s*:)/i)){var i=e.string.replace(/^\s+|\s+$/g,"").split(":")[0],j="?"===i.slice(-1)?i.slice(0,-1):i,k=c(e.string).tabCount;if(f.pair=!0,f.keyCol=e.indentation(),e.string.match(/^\s*\- /i)&&(f.keyCol+=d),(k<=f.methodLevel||0===i.indexOf("/"))&&(f.methodLevel=0,f.insideMethod=!1),-1!==["options","get","head","post","put","delete","trace","connect","patch"].indexOf(j))return f.methodLevel=k,f.insideMethod=!0,"method-title";if(f.insideMethod)return"method-content";var l=b("traits","trait-title","trait-content",f,k,i)||b("resourceTypes","resource-type-title","resource-type-content",f,k,i)||b("schemas","schema-title","schema-content",f,k,i)||b("securitySchemes","security-scheme-title","security-scheme-content",f,k,i);return l?l:0===i.indexOf("/")?"resource":"key"}if(f.pair&&e.match(/^:\s*/))return f.pairStart=!0,"meta";if(e.match(/^(\{|\}|\[|\])/))return"{"===g?f.inlinePairs++:"}"===g?f.inlinePairs--:"["===g?f.inlineList++:f.inlineList--,"meta";if(f.inlineList>0&&!h&&","===g)return e.next(),"meta";if(f.inlinePairs>0&&!h&&","===g)return f.keyCol=0,f.pair=!1,f.pairStart=!1,e.next(),"meta";if(f.pairStart){if(e.match(/^\s*(\||\>)\s*/))return f.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._\-]+\b/i))return"variable-2";if(0===f.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(f.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|\}))/))return"number";if(e.match(a))return"keyword"}return f.pairStart=!1,f.escaped="\\"===g,e.next(),null}}]).value("startState",function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}).factory("yamlMode",["token","startState",function(a,b){return function(){return{token:a,startState:b}}}]).run(["codeMirror","yamlMode",function(a,b){var c=a.CodeMirror;c.defineMode("yaml",b),c.defineMIME("text/x-yaml","yaml")}])}(),function(){"use strict";angular.module("codeMirror").factory("codeMirrorHighLight",["indentUnit",function(a){var b={};return b.highlight=function(a){return b.indentationOverlay={token:function(a,b){if(void 0===b.cutoff||a.column()<=b.cutoff){if(a.match("  "))return"indent indent-col-"+a.column();if(a.match(" "))return"indent-incomplete"}a.skipToEnd()},startState:function(){return{}}},b.yaml=CodeMirror.overlayMode(CodeMirror.getMode(a,"yaml"),b.indentationOverlay),b.xml=CodeMirror.overlayMode(CodeMirror.getMode(a,"xml"),b.indentationOverlay),b.json=CodeMirror.overlayMode(CodeMirror.getMode(a,{name:"javascript",json:!0}),b.indentationOverlay),b.markdown=CodeMirror.overlayMode(CodeMirror.getMode(a,"gfm"),b.indentationOverlay),{startState:function(){return{token:b._yaml,localMode:null,localState:null,yamlState:b.yaml.startState()}},copyState:function(a){var c;return a.localState&&(c=CodeMirror.copyState(a.localMode,a.localState),c.parentIndentation||(c.parentIndentation=a.localState.parentIndentation)),{token:a.token,localMode:a.localMode,localState:c,yamlState:CodeMirror.copyState(b.yaml,a.yamlState)}},innerMode:function(a){return{state:a.localState||a.yamlState,mode:a.localMode||b.yaml}},token:function(a,b){return b.token(a,b)}}},b._yaml=function(a,c){return/(content|description):(\s?)\|/.test(a.string)&&b._setMode("markdown",a,c),/application\/json:/.test(a.string)&&b._setMode("json",a,c,2),/text\/xml:/.test(a.string)&&b._setMode("xml",a,c,2),b.yaml.token(a,c.yamlState)},b._xml=function(a,c){return b._applyMode("xml",a,c)},b._json=function(a,c){return b._applyMode("json",a,c)},b._markdown=function(a,c){return b._applyMode("markdown",a,c)},b._setMode=function(c,d,e,f){e.token=b["_"+c],e.localMode=b[c],e.localState=b[c].startState(),e.localState.parentIndentation=d.indentation()+(f||0),d.string.match(/^\s*\- /i)&&(e.localState.parentIndentation+=a),"markdown"===c&&(e.localState.base.parentIndentation=e.localState.parentIndentation)},b._applyMode=function(a,c,d){return/(schema|example):(\s?)\|/.test(c.string)?b._yaml(c,d):c.string.trim().length>0&&c.indentation()<=d.localState.parentIndentation?(d.token=b._yaml,d.localState=d.localMode=null,b._yaml(c,d)):(d.localState.overlay.cutoff=d.localState.parentIndentation,b[a].token(c,d.localState))},b}])}(),function(){"use strict";function a(a,b,c){c=c||{},"/"===a.slice(-1)&&a.length>1&&(a=a.slice(0,-1)),this.type="file",this.path=a,this.name=a.slice(a.lastIndexOf("/")+1),this.isDirectory=!1,this.name.lastIndexOf(".")>0&&(this.extension=this.name.slice(this.name.lastIndexOf(".")+1)),this.contents=b||"",this.persisted=c.persisted||!1,this.dirty=c.dirty||!this.persisted,this.root=c.root}angular.module("fs",["raml","utils"]).factory("ramlRepository",["$q","$rootScope","ramlSnippets","fileSystem",function(b,c,d,e){function f(a){return".meta"!==a.path.slice(-5)}function g(a){return function(b){throw a.error=b,b}}function h(a,b){return a.isDirectory===b.isDirectory?a.name.localeCompare(b.name):a.isDirectory?-1:1}function i(a,b){for(var c,d=0,e=b.children.length-1;e>=d;)c=Math.floor((d+e)/2),h(b.children[c],a)>0?e=c-1:d=c+1;return d}function j(a,c){var d="/"===a.path?[""]:a.path.split("/"),e=c.path.split("/").slice(0,-1),f=b.when(a);return e.slice(d.length).forEach(function(a){f=f.then(function(c){var d=n.join(c.path,a),e=n.getByPath(d);return e?e.isDirectory?e:b.reject(new Error("Can not create directory, file already exists: "+d)):n.createDirectory(c,a)})}),f.then(function(a){var d=n.getByPath(c.path);return d?d.isDirectory&&c.isDirectory?d:b.reject(new Error("Path already exists: "+c.path)):(a.children.splice(i(c,a),0,c),c)})}function k(a,b){var c=a.path.slice(0,a.path.lastIndexOf("/"));return c+"/"+b}function l(b,c,d){"/"===b.slice(-1)&&b.length>1&&(b=b.slice(0,-1)),d=d||[],this.type="directory",this.path=b,this.name=b.slice(b.lastIndexOf("/")+1),this.meta=c,this.collapsed=!0,this.isDirectory=!0;var e={folder:[],file:[]};d.forEach(function(a){e[a.type||"file"].push(a)});var g=e.file.filter(f).map(function(b){return new a(b.path,b.contents,{dirty:!1,persisted:!0,root:b.root})}),i=e.folder.map(function(a){return new l(a.path,a.meta,a.children)});this.children=i.concat(g).sort(h)}var m,n={},o="/";return n.supportsFolders=e.supportsFolders||!1,l.prototype.getDirectories=function(){return this.children.filter(function(a){return a.isDirectory})},l.prototype.getFiles=function(){return this.children.filter(function(a){return!a.isDirectory})},l.prototype.forEachChildDo=function(a){for(var b,c=this.children.slice();c.length>0;)b=c.shift(),b.isDirectory&&(c=c.concat(b.children)),a.call(b,b)},l.prototype.sortChildren=function(){this.children.sort(h)},n.sortingFunction=h,n.getParent=function(a){var b=a.path.slice(0,a.path.lastIndexOf("/"));return 0===b.length&&(b="/"),n.getByPath(b)},n.canExport=function(){return e.hasOwnProperty("exportFiles")},n.exportFiles=function(){return e.exportFiles()},n.createDirectory=function(a,c){var d=n.join(a.path,c),f=new l(d),g=n.getByPath(d);return g?b.when(g):j(a,f).then(function(){return e.createFolder(f.path)}).then(function(){return f})},n.generateDirectory=function(a,b){return n.createDirectory(a,b).then(function(a){return c.$broadcast("event:raml-editor-directory-created",a),a})},n.loadDirectory=function(){return e.directory(o).then(function(a){return m=new l(a.path,a.meta,a.children)})},n.removeDirectory=function(a){var d=[];a.getDirectories().forEach(function(a){d.push(n.removeDirectory(a))}),a.getFiles().forEach(function(a){d.push(n.removeFile(a))});var f=n.getParent(a),g=f.children.indexOf(a);return-1!==g&&f.children.splice(g,1),b.all(d).then(function(){return e.remove(a.path)}).then(function(a){c.$broadcast("event:raml-editor-directory-removed",a)})},n.renameDirectory=function(a,b){var d=k(a,b),f=e.rename(a.path,d);return a.forEachChildDo(function(b){b.path=b.path.replace(a.path,d)}),f.then(function(){return a.name=b,a.path=d,c.$broadcast("event:raml-editor-filetree-modified",a),a},g(a))},n.saveFile=function(a){function b(){return a.dirty=!1,a.persisted=!0,a}return e.save(a.path,a.contents).then(b,g(a))},n.renameFile=function(a,d){function f(){return a.name=d,a.path=h,c.$broadcast("event:raml-editor-filetree-modified",a),a}var h=k(a,d),i=a.persisted?e.rename(a.path,h):b.when(a);return i.then(f,g(a));
},n.loadFile=function(a,b){function c(b){return a.dirty=!1,a.persisted=!0,a.loaded=!0,a.contents=b,a}return e.load(a.path,b).then(c,g(a))},n.removeFile=function(a){function d(){return a.dirty=!1,a.persisted=!1,Object.freeze(a)}var f,h=n.getParent(a);return f=a.persisted?e.remove(a.path):b.when(a),f.then(d,g(a)).then(function(){var b=h.children.indexOf(a);-1!==b&&h.children.splice(b,1),c.$broadcast("event:raml-editor-file-removed",a)})},n.createFile=function(b,d){var e=n.join(b.path,d),f=new a(e);return j(b,f).then(function(){return c.$broadcast("event:raml-editor-file-created",f),f})},n.generateFile=function(a,b,e,f){return n.createFile(a,b).then(function(a){return"raml"===a.extension&&(a.contents=d.getEmptyRaml(e,f)),c.$broadcast("event:raml-editor-file-generated",a),a})},n.getContentByPath=function(a,c){var d=n.getByPath(a);return d?d.loaded?b.when(d.contents):n.loadFile(d,c).then(function(a){return a.contents}):b.reject("getByPathLoaded: "+a+": no such path")},n.getByPath=function(a){if(a){if("/"===a)return m;a=a.replace(/\/$/,"");for(var b,c=m.children.slice();c.length;){if(b=c.shift(),b.path===a)return b;b.isDirectory&&(c=c.concat(b.children))}}},n.rename=function(a,b){return a.isDirectory?n.renameDirectory(a,b):n.renameFile(a,b)},n.remove=function(a){return a.isDirectory?n.removeDirectory(a):n.removeFile(a)},n.move=function(a,c){if(c.isDirectory){var d,f=n.join(c.path,a.name);return a.isDirectory?(d=e.rename(a.path,f),a.forEachChildDo(function(b){b.path=b.path.replace(a.path,f)})):d=a.persisted?e.rename(a.path,f):b.when(a),d.then(function(){return a.path=f,a},g(a))}},n.saveMeta=function(b,c){var d=new a(b.path+".meta",JSON.stringify(c));return n.saveFile(d).then(function(){return c})},n.loadMeta=function(b){var c=new a(b.path+".meta");return n.loadFile(c).then(function(a){return JSON.parse(a.contents)},function(){return{}})},n.join=function(){return Array.prototype.reduce.call(arguments,function(a,b){return null==b?a:"/"===b.charAt(0)?b:a.replace(/\/$/,"")+"/"+b},"/")},n}])}();var FSResolver=function(a,b){this.parsePath=function(a){return a.split("/").filter(function(a){return a&&""!==a})},this.getElement=function(b){var c=this.parsePath(b);return this.getElementFromPath(c,0,a)},this.getElementFromPath=function(a,b,c){if(a.length===b)return c;if(!c.isDirectory)return void 0;var d=this.getChild(c,a[b]);return d?this.getElementFromPath(a,b+1,d):d},this.getChild=function(a,b){return a.children.find(function(a){return a.name===b})},this.getFileContentAsync=function(a){if(a.loaded){if(a.doc)return Promise.resolve(a.doc.getValue());if(a.contents)return Promise.resolve(a.contents)}var c=function(a){return a.contents};return b.loadFile(a,!0).then(c)},this.contentAsync=function(a){var b=this.getElement(a);return!b||b.isDirectory?Promise.resolve(""):this.getFileContentAsync(b)},this.list=function(a){var b=this.getElement(a);return b&&b.isDirectory?b.children.map(function(a){return a.name}):[]},this.listAsync=function(a){return Promise.resolve(this.list(a))},this.exists=function(a){return!!this.getElement(a)},this.existsAsync=function(a){return Promise.resolve(this.exists(a))},this.dirname=function(a){var b=this.getElement(a);if(!b)return"";if(b.isDirectory)return b.path;var c=a.substring(0,a.lastIndexOf("/")+1);return c||""},this.resolve=function(a,b){if(b.startsWith("/"))return b;var c=a.endsWith("/")?a:a+"/";return c+b},this.extname=function(a){var b=this.getElement(a);if(!b||b.isDirectory)return"";var c=b.name.split(".");return c.length<=1?"":c[c.length-1]},this.isDirectory=function(a){var b=this.getElement(a);return!(!b||!b.isDirectory)},this.isDirectoryAsync=function(a){return Promise.resolve(this.isDirectory(a))}},EditorStateProvider=function(a,b,c){function d(a,b){return a+b}this.getText=function(){return c.getValue()},this.getPath=function(){return b},this.getBaseName=function(){var c=a.getElement(b);return c?c.name:""};var e=function(a){var b=a.getCursor(),c=range(0,b.line-1).map(function(b){return a.getLine(b).length+1}).reduce(d,0);return c+b.ch};this.offset=e(c),this.getOffset=function(){return this.offset}};angular.module("ramlEditorApp").factory("ramlSuggest",["ramlRepository","ramlEditorMainHelpers",function(a,b){function c(a,b){function c(a,b){if(!a)return!0;var c=b.text.toLowerCase();return c.startsWith(a)&&c!==a}var d=/:?(:|\s|\.|\[|]|-)+|!/,e=function(a,b){if(!a)return"";var c=a.slice(0,b).split(d);return c[c.length-1]},f=function(a,b){if(!a)return"";var c=a.slice(b).split(d);return c[0]},g=function(a,b,c){a.innerHTML=["<div>",c.displayText,"</div>",'<div class="category">',c.category,"</div>"].join("")},h=function(a){return{displayText:a.displayText||a.text,text:a.text,category:a.category,render:g}},i=a.getCursor(),j=a.getLine(i.line),k=i.ch,l=e(j,k)||"",m=f(j,k),n=l+m,o=n.toLowerCase(),p=a.getLine(i.line).length,q=k-l.length,r=b.filter(function(a){return c(o,a)}).map(h);return{word:n,list:r,from:CodeMirror.Pos(i.line,q),to:CodeMirror.Pos(i.line,p)}}function d(a){return(void 0===a.category||"unknown"===a.category.toLowerCase())&&(a.category="others"),a}function e(a){return a.text=a.text||a.displayText||"",a}function f(a,c){var d=a.getCursor().ch,e=c.length>0&&(0===d||c.find(function(a){return"methods"===a.category?a:null}));if(e&&b.isApiDefinition(a.getValue())){var f=e.replacementPrefix||"",g="\n"+new Array(d-f.length+1).join(" ")+"  ";return c.concat({text:"/newResource:"+g+"displayName: resourceName"+g,displayText:"New Resource",category:"resources",replacementPrefix:f})}return c}return this.FSResolver=FSResolver,this.EditorStateProvider=EditorStateProvider,this.getSuggestions=function(b,c,g){var h=RAML.Suggestions,i=new FSResolver(b,a),j=h.getContentProvider(i),k=new EditorStateProvider(i,c.path,g);return h.suggestAsync(k,j).then(function(a){return Array.isArray(a)?a:[]},function(){return[]}).then(function(a){return a.map(d)}).then(function(a){return a.map(e)}).then(function(a){return f(g,a)})},this.suggest=function(a,b,c){return this.getSuggestions(a,b,c)},this.autocompleteHelper=function(a,b,d,e,f){if(!e||!f){var g=angular.element(a.getInputField()).scope();e=e||g.homeDirectory,f=f||g.fileBrowser.selectedFile}this.getSuggestions(e,f,a).then(function(b){return c(a,b)}).then(function(a){b(a)})},this}]),function(){"use strict";function a(){}a.prototype={directory:function(a){throw"Not implemented: FileSystem list invoked with [fullpath="+a+"]"},save:function(a,b){throw"Not implemented: FileSystem save invoked with [fullpath="+a+"] and [content="+b+"]"},createFolder:function(a){throw"Not implemented: FileSystem createFolder invoked with [fullpath="+a+"]"},load:function(a){throw"Not implemented: FileSystem load invoked with [fullpath="+a+"]"},remove:function(a){throw"Not implemented: FileSystem remove invoked with [fullpath="+a+"]"},rename:function(a,b){throw"Not implemented: FileSystem rename invoked with [source="+a+"] and [destination="+b+"]"}},angular.module("fs").provider("fileSystem",function(){return this.hasFactory=!1,this.setFileSystemFactory=function(a){this.$get=a,this.hasFactory=!0},this.$get=function(){return new a},this})}(),function(){"use strict";angular.module("ramlEditorApp").service("newFileService",["ramlRepository","newNameModal","$rootScope","generateName",function(a,b,c,d){function e(a,b,c){var e=a.children.map(function(a){return a.name}),f=(""!==b.label?c:"api")+"-";return d(e,f,"raml")}var f=this,g="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md#";return f.files={.8:{"":{label:"",name:"API Spec",description:"RAML 0.8 API Spec.",spec:"https://github.com/raml-org/raml-spec/blob/master/versions/raml-08/raml-08.md"}},"1.0":{"":{label:"",name:"API Spec",description:"RAML 1.0 API Spec.",spec:g+"the-root-of-the-document"},Trait:{label:"Trait",name:"Trait",description:"Define a single trait with common characteristics for methods.",spec:g+"resource-types-and-traits"},ResourceType:{label:"ResourceType",name:"Resource Type",description:"Define a single resource type with common characteristics for resources.",spec:g+"resource-types-and-traits"},Library:{label:"Library",name:"Library",description:"Define a collection of data type declarations, resource type declarations, trait declarations, and security scheme declarations into modular, externalized, reusable groups.",spec:g+"libraries"},Overlay:{label:"Overlay",name:"Overlay",description:"Define an overlay that adds or overrides nodes of a RAML API definition while preserving its behavioral, functional aspects.",spec:g+"overlays"},Extension:{label:"Extension",name:"Extension",description:"Define an extension that adds or modifies nodes of a RAML API definition.",spec:g+"extensions"},DataType:{label:"DataType",name:"Type",description:"Define a single data type declaration.",spec:g+"raml-data-types"},DocumentationItem:{label:"DocumentationItem",name:"User Documentation",description:"Define a single page documentation item.",spec:g+"user-documentation"},NamedExample:{label:"NamedExample",name:"Example",description:"Define a single example for a given data type.",spec:g+"defining-examples-in-raml"},AnnotationTypeDeclaration:{label:"AnnotationTypeDeclaration",name:"Annotation",description:"Define a single annotation type declaration that describes additional metadata that can be applied to any RAML node.",spec:g+"annotations"},SecurityScheme:{label:"SecurityScheme",name:"Security Scheme",description:"Define a single security scheme that describes the mechanism to secure data access, identify requests, and determine access level and data visibility.",spec:g+"security-schemes"}}},f.prompt=function(d,g,h){var i=d.isDirectory?d:a.getParent(d),j=[{message:"That file name is already taken.",validate:function(b){var c=a.join(i.path,b);return!a.getByPath(c)}}],k=h?h:"",l=f.files[g][k],m=e(d,l,h),n="Add new "+l.name+" file";return b.open(l.description,m,j,n,l.spec).then(function(b){return a.generateFile(i,b,g,k)["catch"](function(a){return c.$broadcast("event:notification",{message:a.message,expires:!0,level:"error"})})})},f.newFragmentFile=function(a,b){return""===b?f.prompt(a,"1.0"):f.prompt(a,"1.0",b)},f.newFile=function(a,b){return f.prompt(a,b)},f}])}(),function(){"use strict";angular.module("ramlEditorApp").service("newFolderService",["ramlRepository","newNameModal",function(a,b){var c=this;return c.prompt=function(c){var d=c.isDirectory?c:a.getParent(c),e="Input a name for your new folder:",f="Add a new folder",g=[{message:"That folder name is already taken.",validate:function(b){var c=a.join(d.path,b);return!a.getByPath(c)}}];return b.open(e,"",g,f).then(function(b){return a.generateDirectory(d,b)})},c}])}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return'file with path="'+a+'" does not exist'}function h(a,b){a.type===f&&(a.children=b(a.path))}function i(a){var b=[];return e.forEach(function(c){c.path.toLowerCase()===a.toLowerCase()&&(h(c,j),b.push(c))}),b.length>0?b[0]:null}function j(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");var b=[];return e.forEach(function(c){c.path.toLowerCase()!==a.toLowerCase()&&o(c.path)+"/"===a&&(h(c,j),b.push(c))}),b}function k(a){return 0!==a.indexOf("/")?{valid:!1,reason:'Path should start with "/"'}:{valid:!0}}function l(a){var b=o(a);return e.has(b)||""===b?!0:!1}function m(a){var b=!1;return e.forEach(function(c){0===c.path.indexOf(a+"/")&&(b=!0)}),b}function n(a){var b=k(a);if(!b.valid)throw"Invalid Path!";return a.lastIndexOf("/")===a.length-1&&(a=a.slice(0,-1)),a.slice(a.lastIndexOf("/")+1)}function o(a){var b=k(a);if(!b.valid)throw"Invalid Path!";return a.lastIndexOf("/")===a.length-1&&(a=a.slice(0,-1)),a.slice(0,a.lastIndexOf("/"))}var p={},q=500;return p.supportsFolders=!0,p.directory=function(a){var c=b.defer();return d(function(){var b=k(a);return b.valid?(e.has("/")||e.set(a,{path:"/",name:"",type:"folder",meta:{created:Math.round((new Date).getTime()/1e3)}}),void c.resolve(i(a))):(c.reject(b.reason),c.promise)},q),c.promise},p.save=function(a,c){var g=b.defer();return d(function(){var b=n(a),d=e.get(a);if(!l(a))return g.reject(new Error("Parent folder does not exists: "+a)),g.promise;var h={};if(d){if(d.type===f)return g.reject("file has the same name as a folder"),g.promise;d.content=c,d.meta.lastUpdated=Math.round((new Date).getTime()/1e3),h=d}else h={path:a,name:b,content:c,type:"file",meta:{created:Math.round((new Date).getTime()/1e3)}};e.set(a,h),g.resolve()},q),g.promise},p.createFolder=function(a){var c=b.defer(),f=k(a);if(!f.valid)return c.reject(f.reason),c.promise;if(e.has(a))return c.reject(new Error("Folder already exists: "+a)),c.promise;var g=o(a);return e.has(g)?(d(function(){e.set(a,{path:a,name:n(a),type:"folder",meta:{created:Math.round((new Date).getTime()/1e3)}}),c.resolve()},q),c.promise):(c.reject(new Error("Parent folder does not exists: "+a)),c.promise)},p.load=function(a,c){var f=b.defer();return(c?setTimeout:d)(function(){var b=e.get(a);b&&"file"===b.type?f.resolve(e.get(a).content):f.reject(g(a))},q),f.promise},p.remove=function(a){var c=b.defer();return d(function(){var b=e.get(a);return b&&b.type===f&&m(a)?(c.reject("folder not empty"),c.promise):(e.remove(a),void c.resolve())},q),c.promise},p.rename=function(a,c){var g=b.defer();return d(function(){var b=e.get(a);if(!b)return g.reject("Source file or folder does not exists."),g.promise;var d=e.get(c);return d?(g.reject("File or folder already exists."),g.promise):l(c)?(b.path=c,b.name=n(c),e.remove(c),e.remove(a),e.set(c,b),b.type===f&&e.forEach(function(b){if(b.path.toLowerCase()!==a.toLowerCase()&&0===b.path.indexOf(a)){var d=c+b.path.substring(a.length);e.remove(b.path),b.path=d,e.set(d,b)}}),void g.resolve()):(g.reject("Destination folder does not exist."),g.promise)},q),g.promise},p.exportFiles=function(){var b=new a.JSZip;e.forEach(function(a){if("/"!==a.path&&".meta"!==a.name.slice(-5)){var c=a.path.slice(1);"folder"===a.type?b.folder(c):b.file(c,a.content)}});var d=c("Please enter a ZIP file name:","api.zip");d&&a.saveAs(b.generate({type:"blob"}),d)},p}angular.module("fs").constant("LOCAL_PERSISTENCE_KEY","localStorageFilePersistence").constant("FOLDER","folder").factory("localStorageHelper",["LOCAL_PERSISTENCE_KEY",function(a){return{forEach:function(b){for(var c in localStorage)localStorage.hasOwnProperty(c)&&0===c.indexOf(a+".")&&b(JSON.parse(localStorage.getItem(c)))},has:function(a){var b=!1;return a=a||"/",this.forEach(function(c){c.path.toLowerCase()===a.toLowerCase()&&(b=!0)}),b},set:function(b,c){localStorage.setItem(a+"."+b,JSON.stringify(c))},get:function(b){return JSON.parse(localStorage.getItem(a+"."+b))},remove:function(b){localStorage.removeItem(a+"."+b)}}}]).factory("localStorageFileSystem",a).config(function(b){b.hasFactory||b.setFileSystemFactory(a)})}(),function(){"use strict";angular.module("ramlEditorApp").factory("mockingServiceUtils",["$q","jsTraverse","ramlRepository","refParser",function(a,b,c,d){function e(c){return a.when().then(function(){var e=[];return b.traverse(c).forEach(function(a){if("body.application/json"===this.path.slice(-2).join(".")){var b;a.schema?b=a.schema:a.type&&(b=a.type),Array.isArray(b)&&(b=b[0]);try{e.push(d.dereference(JSON.parse(b),{$refs:{read$Ref:g}}).then(JSON.stringify).then(function(b){a.schema=b}))}catch(c){}}}),a.all(e)})}function f(a){return e(a)}function g(a){var b="/"===a.path[0]?a.path:"/"+a.path;return c.getContentByPath(b,!0)}return{dereference:f}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("mockingServiceClient",["$http","$q","$window","resolveUri",function(a,b,c,d){function e(a){var b=a.baseUri,c=b.match(/mocks\//g).length;if(c>1)for(var d="mocks/",e=c;e>1;e--){var f=b.indexOf(d),g=b.indexOf("/",f+d.length);b=b.substring(0,f)+b.substring(g+1,b.length)}a.baseUri=b}var f=this;f.proxy=null,f.baseUri="http://ec2-52-201-242-128.compute-1.amazonaws.com",f.buildURL=function(){var a=f.baseUri+["/mocks"].concat(Array.prototype.slice.call(arguments,0)).join("/"),b=f.proxy||c.RAML.Settings.proxy;return b&&(a=b+d(a)),a},f.simplifyMock=function(a){return a.baseUri&&e(a),{id:a.id,baseUri:a.baseUri,manageKey:a.manageKey}},f.getMock=function(c){return a.get(f.buildURL(c.id,c.manageKey)).then(function(a){return f.simplifyMock(a.data)},function(a){return 404!==a.status?b.reject(a):void 0})},f.createMock=function(b){return a.post(f.buildURL(),b).then(function(a){return f.simplifyMock(a.data)})},f.updateMock=function(b){return a({method:"PATCH",url:f.buildURL(b.id,b.manageKey),data:{raml:b.raml,json:b.json}}).then(function(a){return f.simplifyMock(angular.extend(b,a.data))})},f.deleteMock=function(b){return a["delete"](f.buildURL(b.id,b.manageKey))}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("mockingService",["mockingServiceClient","mockingServiceUtils","ramlRepository",function(a,b,c){function d(a){return c.loadMeta(a).then(function(a){return a.mock})}function e(a,b){return c.loadMeta(a).then(function(d){return d.mock=b,c.saveMeta(a,d)}).then(function(){return b})}function f(a){return b.dereference(a)["catch"](function(a){console.error("dereferenceRaml failed",a.stack)})}var g=this;g.getMock=function(a){return d(a)},g.createMock=function(b,c){return f(c).then(function(){return a.createMock({raml:b.contents,json:c})}).then(function(a){return e(b,a)})},g.updateMock=function(b,c){return f(c).then(function(){return d(b)}).then(function(d){return d&&a.updateMock(angular.extend(d,{raml:b.contents,json:c}))}).then(function(a){return e(b,a)})},g.deleteMock=function(b){return d(b).then(function(b){return b&&a.deleteMock(b)}).then(function(){return e(b,null)})}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("subMenuService",["$timeout","$window",function(a,b){this.open=function(c,d){a(function(){b.addEventListener("click",function a(){c.$apply(function(){c[d]=!1}),b.removeEventListener("click",a)})}),c[d]=!0},this.openSubMenu=function(a,b){a[b]=!0}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("importModal",["$modal",function(a){var b=this;return b.open=function(){return a.open({templateUrl:"views/import-modal.html",controller:"ImportController"}).result},b}]).controller("ImportController",["$scope","$modalInstance","swaggerToRAML","$q","$window","$rootScope","importService","ramlRepository",function(a,b,c,d,e,f,g,h){function i(a){return f.$broadcast("event:notification",{message:a,expires:!0,level:"error"})}function j(c){return a.fileSupported?(a.importing=!0,g.mergeFile(a.rootDirectory,c.value).then(function(){g.isZip(c.value)&&f.$broadcast("event:save-all")}).then(function(){return b.close(!0)})["catch"](function(a){i(a.message)})["finally"](function(){a.importing=!1})):i("File upload not supported. Try upgrading your browser.")}function k(d){a.importing=!0;var f=e.RAML.Settings.proxy||"",h=f+d.value;return c.url(h).then(function(b){var c=m(d.value,"raml");return g.createAndSaveFile(a.rootDirectory,c,b)}).then(function(){return b.close(!0)})["catch"](function(a){i("Failed to import Swagger: "+a.message)})["finally"](function(){a.importing=!1})}function l(d){a.importing=!0;var e;return e=g.isZip(d.value)?c.zip(a.rootDirectory,d.value).then(function(){f.$broadcast("event:save-all")}):c.file(d.value).then(function(b){var c=m(d.value.name,"raml");return g.createAndSaveFile(a.rootDirectory,c,b)}),e.then(function(){return b.close(!0)})["catch"](function(a){i("Failed to parse Swagger: "+a.message)})["finally"](function(){a.importing=!1})}function m(a,b){var c=a.replace(/\/*$/,""),d=c.lastIndexOf("/");return d>-1&&(c=c.substr(d)),b&&(c=c.replace(/\.[^\.]*$/,"")+"."+b),c}a.importing=!1,a.rootDirectory=h.getByPath("/"),a.handleFileSelect=function(b){a.mode.value=b.files[0]},a.options=[{name:"RAML file",type:"file",spec:"RAML",callback:j},{name:"OAS file",type:"file",spec:"OAS",callback:l},{name:"OAS spec",type:"url",spec:"OAS",callback:k}],a.mode=a.options[0],a.fileSupported=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),a["import"]=function(b){if(b.$submitted=!0,a.submittedType=a.mode.type,!b.$invalid&&!a.importing)try{return a.mode.callback(a.mode)}catch(c){a.importing=!1,i(c)}}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("confirmModal",["$rootScope","$modal",function(a,b){var c=this;return c.open=function(c,d,e){return e=angular.extend({canDiscard:!1,closeButtonLabel:"OK",discardButtonLabel:"Discard",dismissButtonLabel:"Cancel",closeButtonCssClass:"btn-primary"},e),b.open({templateUrl:"views/confirm-modal.html",controller:"ConfirmController",scope:angular.extend(a.$new(),{title:d,message:c,canDiscard:e.canDiscard,closeButtonLabel:e.closeButtonLabel,discardButtonLabel:e.discardButtonLabel,dismissButtonLabel:e.dismissButtonLabel,closeButtonCssClass:e.closeButtonCssClass})}).result},c}]).controller("ConfirmController",["$modalInstance","$scope",function(a,b){b.discard=function(){a.dismiss(angular.extend(new Error,{discard:!0}))}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("newNameModal",["$modal",function(a){var b=this;return b.open=function(b,c,d,e,f){return a.open({templateUrl:"views/new-name-modal.html",controller:"NewNameController",windowClass:"modal in",resolve:{message:function(){return b},title:function(){return e},defaultName:function(){return c},validations:function(){return d},link:function(){return f}}}).result},b}]).controller("NewNameController",["$modalInstance","$scope","message","defaultName","validations","title","link",function(a,b,c,d,e,f,g){b.input={newName:d,message:c,title:f,link:g},b.validationErrorMessage="",b.isValid=function(a){if(a)for(var c=0;c<e.length;c++)if(!e[c].validate(a))return b.validationErrorMessage=e[c].message,!1;return!0},b.submit=function(c){return c.$invalid?void(c.$submitted=!0):void a.close(b.input.newName)}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("swaggerToRAML",["$window","$q","$http","importService","oasRamlConverter",function(a,b,c,d,e){function f(a,b){var c=a.lastIndexOf(".");return c>-1&&(a=a.substr(0,c)),a+"."+b}function g(){return new e.Converter(e.Formats.SWAGGER,e.Formats.RAML10)}function h(a,b){function c(a){try{var b=JSON.parse(a);return h.test(b.swagger)}catch(c){return i.test(a)}}function e(a,b,d){function e(a){return 0!==a.indexOf("http")?"http://zip/"+a:a}function h(a){return 0===a.indexOf("http://zip/")?a.substring("http://zip/".length):a}var i=a[b];if(!c(i))return d.resolve({name:b,content:i});var j={canRead:function(a){return null!=this.read(a)},read:function(b){var c=h(b.url),d=a[c];if(!d)throw new Error("Could not load content for file "+c);return d}};g().convertFile(e(b),{resolve:{file:j,http:j}}).then(function(a){d.resolve({name:f(b,"raml"),content:a})})["catch"](function(a){d.reject(a)})}var h=/^\d+\.\d+$/,i=/swagger\s*:\s*"{0,1}\d+\.\d+"{0,1}/;return d.importZip(a,b,e)}var i=this;return i.url=function(a){var c=b.defer();return g().convertFile(a).then(c.resolve)["catch"](c.reject),c.promise},i.file=function(a){var c=b.defer();return d.readFile(a).then(function(a){g().convertData(a).then(c.resolve)["catch"](c.reject)})["catch"](c.reject),c.promise},i.zip=function(a,c){var e=b.defer();return d.readFile(c).then(function(b){h(a,b).then(e.resolve)["catch"](e.reject)})["catch"](e.reject),e.promise},i}])}(),function(){"use strict";angular.module("ramlEditorApp").service("ramlToSwagger",["$q","$window","ramlRepository","ramlEditorMainHelpers","oasRamlConverter",function(a,b,c,d,e){function f(b){if(b&&d.isApiDefinition(b.contents))return a.when(b);var e=a.defer(),f=c.getByPath("/");return h(f,e),e.promise}function g(b,e){(b.loaded?a.when(b):c.loadFile(b)).then(function(a){d.isApiDefinition(a.contents)&&e.resolve(a)})}function h(a,b){for(var c=0;c<a.children.length;c++){var d=a.children[c];d.isDirectory?h(d,b):g(d,b)}}function i(a){var b=d.isApiDefinitionV08(a.contents)?e.Formats.RAML08:e.Formats.RAML10;return new e.Converter(b,e.Formats.SWAGGER)}function j(a,b,d){var e={format:d,fsResolver:{content:function(a){throw new Error("ramlParser: loadPath: loadApi: content: "+a+": no such path")},contentAsync:function(a){return c.getContentByPath(a)}}};i(a).convertFile(a.path,e).then(function(c){b.resolve({name:a.name,path:a.path,contents:c})})["catch"](b.reject)}function k(b,c){var d=a.defer();return f(c).then(function(a){j(a,d,b)})["catch"](function(a){d.reject(a)}),d.promise}var l=this;return l.json=function(a){return k("json",a)},l.yaml=function(a){return k("yaml",a)},l}])}(),function(){"use strict";angular.module("ramlEditorApp").service("importService",["$q","$window","ramlRepository","importServiceConflictModal",function(a,b,c,d){function e(a,b,c){return n.readFile(c).then(function(d){if(n.isZip(c)){var e=b.replace(/[\\\/][^\\\/]*$/,"");return n.createDirectory(a,e).then(function(a){return n.importZip(a,d)})}return n.createFile(a,b,d)})}function f(b,c,d){var e=Object.keys(c).filter(i).map(function(e){return function(){if(d){var f=a.defer();return d(c,e,f),f.promise.then(function(a){return n.createFile(b,a.name,a.content)})}return n.createFile(b,e,c[e])}});return m(e)}function g(a){var b={};return Object.keys(a).forEach(function(c){/^__MACOSX\//.test(c)||/\/$/.test(c)||(b[c]=a[c].asText())}),b}function h(a){var b=Object.keys(a).map(function(a){return/[\\\/]/.test(a)?a.replace(/[\\\/][^\\\/]*$/,"").split(/[\\\/]/):[]}).reduce(function(a,b){for(var c=0;c<a.length;c++)if(b[c]!==a[c])return b.slice(0,c);return a}).join("/");if(!b)return angular.extend({},a);var c={};return Object.keys(a).forEach(function(d){var e=d.substr(b.length+1);e&&(c[e]=a[d])}),c}function i(a){return!/(?:^|[\/\\])\./.test(a)}function j(a){return!!c.getByPath(a)}function k(a,b,d){return c.createFile(a,b).then(function(a){return a.contents=d,a})}function l(a,b){var d,e=0,f=b.lastIndexOf("."),g=f>-1?b.substr(0,f):b,h=f>-1?b.substr(f):"";do{var i=g+"-"+ ++e+h;d=c.join(a.path,i)}while(j(d));return d}function m(b){return b.reduce(function(a,b){return a.then(b)},a.when())}var n=this;n.mergeFile=function(a,b){return n.isZip(b)?n.readFile(b).then(function(b){return n.mergeZip(a,b)}):n.importFile(a,b).then(c.saveFile)},n.mergeFileList=function(a,b){var c=Array.prototype.map.call(b,function(b){return function(){return n.mergeFile(a,b)}});return m(c)},n.importEntry=function(b,d){var f=a.defer();if(d.isFile)d.file(function(a){var g=c.join(b.path,d.fullPath);return e(b,g,a).then(f.resolve,f.reject)},f.reject);else{var g=d.createReader();g.readEntries(function(a){var c=a.filter(function(a){return i(a.name)}).map(function(a){return function(){return n.importEntry(b,a)}});return m(c).then(f.resolve,f.reject)})}return f.promise},n.importItem=function(a,b){return b.webkitGetAsEntry?n.importEntry(a,b.webkitGetAsEntry()):n.importFile(a,b.getAsFile())},n.importFile=function(a,b){return e(a,b.name,b)},n.importFromEvent=function(a,b){return b.dataTransfer.items?n.importItemList(a,b.dataTransfer.items):n.importFileList(a,b.dataTransfer.files)},n.importItemList=function(a,b){var c=Array.prototype.map.call(b,function(b){return function(){return n.importItem(a,b)}});return m(c)},n.importFileList=function(a,b){var c=Array.prototype.map.call(b,function(b){return function(){return n.importFile(a,b)}});return m(c)},n.createAndSaveFile=function(a,b,d){return n.createFile(a,b,d).then(c.saveFile)},n.createFile=function(b,e,f){return n.checkExistence(b,e).then(function(g){if(g!==d.SKIP_FILE){if(g===d.KEEP_FILE){var h=l(b,e);return k(b,h,f)}if(g===d.REPLACE_FILE){var i=c.join(b.path,e),j=c.getByPath(i);return(j.loaded?a.when(j):c.loadFile({path:i})).then(function(a){return a.contents!==f&&(j.contents=a.contents,j.loaded=!0,j.doc?j.doc.setValue(f):j.doc=new CodeMirror.Doc(f),j.dirty=!0),j})}return k(b,e,f)}})},n.createDirectory=function(a,b){return c.createDirectory(a,b)},n.checkExistence=function(b,e){var f=c.join(b.path,e);return j(f)?d.open(f):a.when(null)},n.isZip=function(a){return/\.zip$/i.test(a.name)},n.readFile=function(c){var d=a.defer(),e=new b.FileReader;return e.onload=function(){return d.resolve(e.result)},e.onerror=function(){return d.reject(e.error)},n.isZip(c)?e.readAsArrayBuffer(c):e.readAsText(c),d.promise},n.parseZip=function(a){var c=new b.JSZip(a);return g(c.files)},n.mergeZip=function(a,b){var c=h(n.parseZip(b));return f(a,c)},n.importZip=function(a,b,c){var d=n.parseZip(b);return f(a,d,c)}}])}(),function(){"use strict";var a=0,b=1,c=2;angular.module("ramlEditorApp").service("importServiceConflictModal",["$modal",function(d){var e=this;return e.open=function(a){return d.open({backdrop:"static",templateUrl:"views/import-service-conflict-modal.html",controller:"ImportServiceConflictModal",resolve:{path:function(){return a}}}).result},e.KEEP_FILE=b,e.SKIP_FILE=a,e.REPLACE_FILE=c,e}]).controller("ImportServiceConflictModal",["$scope","$modalInstance","path",function(d,e,f){d.path=f,d.skip=function(){e.close(a)},d.keep=function(){e.close(b)},d.replace=function(){e.close(c)}}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("oasRamlConverter",["$window",function(a){return a.oasRamlConverter}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("jsTraverse",["$window",function(a){return a.jsTraverse}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("refParser",["$window",function(a){return a.$RefParser}])}(),angular.module("ramlEditorApp").factory("ramlWorker",["ramlRepository","ramlParser","$q","$window",function(a,b,c,d){var e=function(c){return b.loadPath(c.path,function(b){return a.getContentByPath(b)})},f=d.RAML.worker;if(f){var g=null,h=null;e=function(a){var b=c.defer(),d=a.path;return g?(h&&h.deferred.reject("aborted"),h={deferred:b,data:a}):(g=a,l("ramlParse",a).then(function(a){a.path=d,b.resolve(a),i()})["catch"](function(a){a.path=d,b.reject(a),i()})),b.promise};var i=function(){g=null,h&&(e(h.data).then(h.deferred.resolve)["catch"](h.deferred.reject),h=null)},j=function(a,b){f.addEventListener("message",function(c){c.data.type===a&&b(c.data.payload)},!1)},k=function(a,b){f.postMessage({type:a,payload:b})},l=function(a,b){var d=c.defer();const e=function(b){b.data.type===a+"-resolve"?(f.removeEventListener("message",e,!1),d.resolve(b.data.payload)):b.data.type===a+"-reject"&&(f.removeEventListener("message",e,!1),d.reject(b.data.payload))};return f.addEventListener("message",e,!1),k(a,b),d.promise};j("requestFile",function(b){b.path===g.path?k("requestFile",{path:b.path,content:g.contents}):a.getContentByPath(b.path,!0).then(function(a){k("requestFile",{path:b.path,content:a})})["catch"](function(a){console.error(a),k("requestFile",{path:b.path,error:a})})})}return{ramlParse:e}}]),function(){"use strict";angular.module("stringFilters",[]).filter("dasherize",function(){return function(a){return a?a.toLowerCase().trim().replace(/\s/g,"-"):""}})}(),function(){"use strict";angular.module("ramlEditorApp").constant("UPDATE_RESPONSIVENESS_INTERVAL",800).controller("ramlEditorMain",["UPDATE_RESPONSIVENESS_INTERVAL","$scope","$rootScope","$timeout","$window","safeApply","safeApplyWrapper","debounce","ramlWorker","ramlRepository","codeMirror","codeMirrorErrors","config","$prompt","$confirm","$modal","mockingServiceClient","$q","ramlEditorMainHelpers",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a){var b="";return a&&(b=a.path,a.dirty&&(b="* "+b)),b}function u(a){function b(a){return a.__isFold}function c(a){return a.find().from.line}function d(a,b){return Math.min(a,b)}var e={line:a};return x.findMarksAt(e).filter(b).map(c).reduce(d,y)}function v(a,b,c){return c===b?a:"Error on line "+(b+1)+": "+a}function w(a){return a&&a.start?{line:1+a.start.line,column:a.start.column}:a&&Array.isArray(a)?{line:1+a[0],column:a[1]}:{line:1,column:1}}var x,y,z;e.setTheme=function(a){m.set("theme",a),b.theme=c.theme=a,f(b)},b.$on("event:raml-editor-file-selected",function(a,d){z=d,s.isApiDefinitionLike(d.contents)&&c.$broadcast("event:raml-parsed",{}),d.doc||(d.doc=new CodeMirror.Doc(d.contents)),x.swapDoc(d.doc),x.focus(),k.configureEditor(x,d.extension),b.fileParsable=b.getIsFileParsable(d),b.sourceUpdated()}),b.$watch("fileBrowser.selectedFile.contents",function(a){
null!=a&&a!==x.getValue()&&(z.doc=new CodeMirror.Doc(a),x.swapDoc(z.doc))});var A=h(function(){c.$broadcast("event:file-updated")},m.get("updateResponsivenessInterval",a));b.$on("event:raml-editor-file-created",A),b.$on("event:raml-editor-file-removed",A),b.$on("event:raml-editor-file-removed",function(a,b){z===b&&(z=void 0,x.swapDoc(new CodeMirror.Doc("")))}),b.canExportFiles=function(){return j.canExport()},b.supportsFolders=j.supportsFolders,b.sourceUpdated=function(){var a=x.getValue(),c=b.fileBrowser.selectedFile;b.clearErrorMarks(),c.contents=a,b.fileParsable=b.getIsFileParsable(c),A()},b.loadRaml=function(a,b){return i.ramlParse({path:b,contents:a}).then(function(b){return s.isApiDefinitionLike(a)?b:null})},b.clearErrorMarks=function(){l.clearAnnotations(),b.hasErrors=!1,b.currentErrorCount=0,b.currentWarningCount=0,z&&b.fileParsable&&""!==z.doc.getValue().trim()||(b.currentError=void 0,y=void 0)};var B;b.parsing=0,b.$on("event:file-updated",function(){b.clearErrorMarks(),d.cancel(B),B=d(function(){b.clearErrorMarks(),z&&b.fileParsable&&""!==z.doc.getValue().trim()&&(b.parsing++,b.loadRaml(z.doc.getValue(),z.path).then(g(b,function(a){if(b.parsing--,b.clearErrorMarks(),a&&a.path===z.path&&0===b.parsing){var d=a.errors;if(d&&d.length>0&&(c.$broadcast("event:raml-parser-error",d),b.currentWarningCount=d.reduce(function(a,b){return b.isWarning?a+1:a},0),b.currentErrorCount=d.reduce(function(a,b){return b.isWarning?a:a+1},0)),0===b.currentErrorCount){var e=a.specification;c.$broadcast("event:raml-parsed",e)}}}))["catch"](g(b,function(a){b.parsing--,"aborted"!==a&&a.path===z.path&&0===b.parsing&&(b.currentErrorCount=0,b.currentWarningCount=0,c.$broadcast("event:raml-parser-error",a.parserErrors||a))})))},700)}),b.$on("event:raml-parsed",g(b,function(a,c){b.fileBrowser.selectedFile.raml=c,b.raml=c,b.title=c&&c.title,b.version=c&&c.version,b.currentError=void 0,y=void 0})),b.$on("event:raml-parser-error",g(b,function(a,b){var c=Array.isArray(b)?b:[{line:0,column:1,message:b.message,isWarning:b.isWarning}];l.displayAnnotations(c.map(function(b){function c(a,b){for(var e=0;e<a.length;e++){var f=a[e];if(f.path===b.name)return f.from=d,f;if(f.trace){var g=c(f.trace,b);if(g)return g.from=f,g}}}var d=b,e={line:void 0,column:void 0,path:void 0},f=void 0!==b.trace;if(f){var g=a.currentScope.fileBrowser.selectedFile,h=g.path,i=h.lastIndexOf("/")+1,j=h.substring("/"===h[0]?1:0,i);if(d=c(b.trace,g)){d.isWarning=b.isWarning;var k=w(d.from.range);e={line:k.line,column:k.column,path:j+d.from.path}}else{d={message:b.message,isWarning:b.isWarning};var l=w(b.range);e={line:l.line,column:l.column,path:j+b.path}}}var m=w(d.range);return{line:m.line,column:m.column,message:d.message,severity:d.isWarning?"warning":"error",path:e.path,tracingLine:e.line,tracingColumn:e.column}}))})),b.openHelp=function(){p.open({templateUrl:"views/help.html"})},b.getIsFileParsable=function(a){return s.isRamlFile(a.extension)&&s.isApiDefinitionLike(a.contents)},b.getIsMockingServiceVisible=function(){return!(b.mockingServiceDisabled||!b.fileParsable)},b.getIsShelfVisible=function(){return b.fileParsable},b.getIsConsoleVisible=function(){return b.fileParsable&&b.raml},b.toggleShelf=function(){b.shelf.collapsed=!b.shelf.collapsed,m.set("shelf.collapsed",b.shelf.collapsed)},b.getSelectedFileAbsolutePath=function(){if(!z)return"";var a="";return b.fileParsable&&(b.parsing>0?a="validating...":(b.currentErrorCount||b.currentWarningCount)&&(b.currentErrorCount&&(a+=b.currentErrorCount+" "+(b.currentErrorCount>1?"errors":"error")),b.currentErrorCount&&b.currentWarningCount&&(a+=", "),b.currentWarningCount&&(a+=b.currentWarningCount+" "+(b.currentWarningCount>1?"warnings":"warning")))),t(z)+(a?" ("+a+")":"")},b.$on("event:toggle-theme",function(){e.setTheme("dark"===b.theme?"light":"dark")}),function(){b.currentError=void 0,b.theme=c.theme=m.get("theme","dark"),b.shelf={},b.shelf.collapsed=JSON.parse(m.get("shelf.collapsed","false")),b.editor=x=k.initEditor(),x.on("fold",function(a,c,d){c.line<=y&&y<=d.line&&l.displayAnnotations([{line:c.line+1,message:v(b.currentError.message,y,c.line)}])}),x.on("unfold",function(){var a=u(y),c=v(b.currentError.message,y,a);l.displayAnnotations([{line:a+1,message:c}])}),x.on("change",function(){b.sourceUpdated()}),e.alreadyNotifiedExit=!1,e.editorFilesystemIsDirty=function(){var a=!1;return b.homeDirectory.forEachChildDo(function(b){a=b.dirty||a}),a},e.onbeforeunload=function(){return!e.alreadyNotifiedExit&&e.editorFilesystemIsDirty()?"WARNING: You have unsaved changes. Those will be lost if you leave this page.":void 0},b.mockingServiceBaseUri&&(q.baseUri=b.mockingServiceBaseUri)}()}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("ramlEditorMainHelpers",function(){function a(a){return"raml"===a}function b(a){return c(a)||e(a)}function c(a){return/^#%RAML\s(0\.8|1\.0)\s*$/.test(f(a))}function d(a){return/^#%RAML\s(0\.8)\s*$/.test(f(a))}function e(a){return/^#%RAML\s1\.0\s(Trait|ResourceType|Library|Overlay|Extension|DataType|DocumentationItem|NamedExample|AnnotationTypeDeclaration|SecurityScheme)\s*$/.test(f(a))}function f(a){return a.split(/\r\n|\n/)[0]}return{isRamlFile:a,isApiDefinition:c,isApiDefinitionV08:d,isApiDefinitionLike:b}})}(),function(){"use strict";angular.module("ramlEditorApp").factory("applySuggestion",function(){return function(a,b){var c=b.replacementPrefix||"",d=a.getCursor(),e={line:d.line,ch:a.getLine(d.line).length},f={line:d.line,ch:d.ch-c.length};a.replaceRange(b.key,f,e);var g=b.key.split("\n"),h=g.length>1?g[g.length-1].length:d.ch+g[0].length-c.length,i=d.line+g.length-1;a.setCursor({line:i,ch:h}),a.focus()}}).factory("newSuggestions",["ramlSuggest",function(a){var b=function(a,b){var c=function(a,c){var d=a[c[b]]||[];return d.push(c),a[c[b]]=d,a};return a.reduce(c,{})},c=function(a){var c=a.map(function(a){return{category:a.category,title:a.displayText||a.text,key:a.text,replacementPrefix:a.replacementPrefix||""}}),d=b(c,"category"),e=Object.keys(d).map(function(a){return{name:a,items:d[a]}});return{categories:e}};return function(b,d,e){return a.suggest(b,d,e).then(c)}}]).controller("ramlEditorShelf",["$scope","safeApplyWrapper","newSuggestions","applySuggestion",function(a,b,c,d){function e(b){a.model=b,a.$digest()}var f=a.editor;a.cursorMoved=b(null,function(){a.shelf.collapsed?a.model=[]:c(a.homeDirectory,a.fileBrowser.selectedFile,f).then(e)}),a.orderSections=function(a){var b=["root","docs","methods","parameters","responses","security","resources","traits and types"].indexOf(a.name.toLowerCase());return-1===b?b.length:b},a.itemClick=function(a){d(f,a)},f.on("cursorActivity",a.cursorMoved)}])}(),function(){"use strict";angular.module("ramlEditorApp").constant("NOTIFICATION_TIMEOUT",3e3).controller("notifications",["NOTIFICATION_TIMEOUT","$scope","$timeout",function(a,b,c){function d(){var f;e.length&&(f=e.splice(0,1)[0],b.message=f.message,b.expires=f.expires,b.level=f.level||"info",b.shouldDisplayNotifications=!0,f.expires&&c(function(){b.shouldDisplayNotifications=!1,d()},a))}var e=[];b.shouldDisplayNotifications=!1,b.$on("event:notification",function(a,b){e.push(JSON.parse(JSON.stringify(b))),d()}),b.hideNotifications=function(){b.shouldDisplayNotifications=!1,d()}}])}(),function(){"use strict";angular.module("ramlEditorApp").controller("mockingServiceController",["$scope","mockingService","getNode",function(a,b,c){function d(){function b(b,c,d){a.editor.setLine(b,(d||"")+a.editor.getLine(b)+"\n"+c)}for(var d="baseUri: "+a.mock.baseUri,e=c(a.editor,0);e;){if("baseUri"===e.getKey())return void(e.getValue().text!==a.mock.baseUri&&b(e.lineNumber,d,"#"));e=e.getNextSibling()}for(var f=0;a.editor.getLine(f);f++)if("---"===a.editor.getLine(f).trim())return void b(f,d);b(0,d)}function e(){var b="baseUri: "+a.mock.baseUri,c=void 0,d=void 0;for(c=0;c<a.editor.lineCount();c++)if(d=a.editor.getLine(c).trim(),d===b){a.editor.removeLine(c);break}for(c=Math.min(c,a.editor.lineCount()-1);c>=0;c--)if(d=a.editor.getLine(c).trim(),0===d.indexOf("#")&&0===d.slice(1).trim().indexOf("baseUri: ")){a.editor.setLine(c,d.slice(1).trim());break}}function f(b){return a.loading=!0,b["finally"](function(){a.loading=!1})}function g(b){a.mock=b,a.enabled=!!b}function h(){f(b.getMock(a.fileBrowser.selectedFile).then(g).then(function(){a.mock&&d()}))}function i(){f(b.createMock(a.fileBrowser.selectedFile,a.fileBrowser.selectedFile.raml).then(g).then(d))}function j(){b.updateMock(a.fileBrowser.selectedFile,a.fileBrowser.selectedFile.raml).then(g)}function k(){f(b.deleteMock(a.fileBrowser.selectedFile).then(function(){e()}).then(g))}a.toggleMockingService=function(){return a.fileBrowser.selectedFile?a.enabled?void k():void i():void 0},a.$watch("fileBrowser.selectedFile",function(a){a?h():g()}),a.$watch("fileBrowser.selectedFile.raml",function(){a.enabled&&j()})}])}(),function(){"use strict";angular.module("splitter",[]).directive("ngSplitter",["$window","config",function(a,b){function c(a){return a.attr("ng-splitter-collapse-target")}function d(a){return a.attr("ng-splitter-min-width")}function e(a){return a[c(a)]()}function f(a){return a[{next:"prev",prev:"next"}[c(a)]]()}function g(a,b){var c=d(a);return("undefined"==typeof c||b>=c)&&e(a).css("min-width",Math.max(0,b)+"px"),Math.max(0,b)}function h(a,b,d){var h=e(a),j=i(h,b),k=f(a),l=i(k,b),m={next:1,prev:-1}[c(a)];return 0>l+d*m&&(d=l*m*-1),d&&(j=g(a,j-d*m)),j}function i(a,b){var c="offset"+b[0].toUpperCase()+b.slice(1);return a[0][c]}function j(a,c){return b.get("splitterSize_"+a.attr("id"))||k(a,c)}function k(a,c){var d=i(e(a),c);return b.set("splitterSize_"+a.attr("id"),d),d}function l(a){return"true"===b.get("splitterCollapsed_"+a.attr("id"))}function m(a,c){b.set("splitterCollapsed_"+a.attr("id"),c)}function n(a,b){a.toggleClass("collapsed",b),e(a).toggleClass("hide-display",b),m(a,b)}return angular.element.prototype.prev||(angular.element.prototype.prev=function(){var a;if(this.length)for(a=this[0].previousSibling;null!==a&&1!==a.nodeType;)a=a.previousSibling;return angular.isDefined(a)?angular.element(a):this}),{restrict:"A",link:function(b,c,d){var e,f=!1,i=!0,m="vertical"===d.ngSplitter,o=m?"width":"height",p=m?"clientX":"clientY",q=j(c,o),r=l(c),s=c.parent();g(c,q),n(c,r),b["splitterCollapsed_"+c.attr("id")]=r,c.on("mousedown",function(a){0===a.button&&(e=a[p],q=j(c,o),r=l(c),f=!0,s.addClass("noselect"))}),angular.element(a).on("mousemove",function(a){if(f){i=!0;var d=0===h(c,o,a[p]-e);d!==r&&(n(c,d),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=d})),e=a[p],r=d}}).on("mouseup",function(){f&&(r?(n(c,!0),g(c,q),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=!0})):k(c,o),f=!1,s.removeClass("noselect"))}),c.children(".split").on("mousedown",function(){i=!1}),c.children(".split").on("mouseup",function(){if(!i){var a=!l(c);n(c,a),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=a}),i=!0,f=!1}})}}}])}(),function(){"use strict";angular.module("validate",[]).directive("ngValidate",["$parse",function(a){return{require:"ngModel",link:function(b,c,d,e){var f=a(d.ngValidate);b.$watch(d.ngModel,function(a){var c=f(b,{$value:a});e.$setValidity("validate",c)})}}}])}(),function(){"use strict";angular.module("autoFocus",[]).directive("ngAutoFocus",["$timeout",function(a){return{link:function(b,c,d){b.$watch(d.ngAutoFocus,function(b){b&&a(function(){c[0].focus()},100)})}}}])}(),function(){"use strict";angular.module("rightClick",[]).directive("ngRightClick",["$parse",function(a){return function(b,c,d){var e=a(d.ngRightClick);c.on("contextmenu",function(a){b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditor",function(){return{restrict:"E",scope:{mockingServiceDisabled:"=",mockingServiceBaseUri:"="},templateUrl:"views/raml-editor-main.tmpl.html",controller:"ramlEditorMain"}})}(),function(){"use strict";angular.module("dragAndDrop",[]).directive("ngDragEnter",["$parse",function(a){return function(b,c,d){var e=a(d.ngDragEnter),f=0;c.on("dragleave",function(){f--}),c.on("dragenter",function(a){f++,1===f&&b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]).directive("ngDragLeave",["$parse",function(a){return function(b,c,d){var e=a(d.ngDragLeave),f=0;c.on("dragenter",function(){f++}),c.on("dragleave",function(a){f--,0===f&&b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]).directive("ngDrop",["$parse",function(a){return function(b,c,d){var e=a(d.ngDrop);c.on("dragover",function(a){a.preventDefault()}),c.on("drop",function(a){b.$apply(function(){a.preventDefault(),a.stopPropagation(),e(b,{$event:a.originalEvent})})})}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorContextMenu",["$injector","$window","confirmModal","newNameModal","ramlRepository","newFileService","newFolderService","subMenuService","scroll",function(a,b,c,d,e,f,g,h,i){function j(a){var b={label:"Save",execute:function(){return e.saveFile(a)}},h={label:"New File",fragments:f.files["1.0"],execute:function(b){return b?f.prompt(a,"1.0",b):void 0},newFile:function(){return f.prompt(a,"0.8")}},i={label:"New Folder",execute:function(){return g.prompt(a)}},j={label:"Rename",execute:function(){var b=e.getParent(a),c=a.isDirectory?"Enter a new name for this folder:":"Enter a new name for this file:",f=a.isDirectory?"Rename a folder":"Rename a file",g=[{message:"This name is already taken.",validate:function(a){var c=e.join(b.path,a);return!e.getByPath(c)}}];return d.open(c,a.name,g,f).then(function(b){e.rename(a,b)})}},k={label:"Delete",execute:function(){var b,d;return a.isDirectory?(b='Are you sure you want to delete "'+a.name+'" and all its contents?',d="Delete folder"):(b='Are you sure you want to delete "'+a.name+'"?',d="Delete file"),c.open(b,d,{closeButtonLabel:"Delete",closeButtonCssClass:"btn-danger"}).then(function(){return e.remove(a)})}};return a.isDirectory?[h,i,j,k]:[b,j,k]}function k(a){var b=a.getBoundingClientRect();return!(b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth))}return{restrict:"E",templateUrl:"views/raml-editor-context-menu.tmpl.html",link:function(a,c){function d(a,b){var c=b.pageY,d=b.pageX,e=angular.element(a[0].children[0]);e.css("top",c+"px"),e.css("left",d+"px"),setTimeout(function(){k(e[0])&&e.css("top",c-e[0].offsetHeight+"px")},0)}function e(c){c&&c.target.firstChild.nodeValue&&c.target.firstChild.nodeValue.match("New File")||(i.enable(),a.$apply(function(){delete g.target,a.opened=!1,b.removeEventListener("click",e),b.removeEventListener("keydown",f)}))}function f(a){27===a.which&&(a.preventDefault(),e())}a.openFileMenu=function(b){"New File"===b.label&&h.openSubMenu(a,"showFileMenu")},a.closeFileMenu=function(){a.showFileMenu=!1};var g={open:function(g,h){i.disable(),this.target=h,a.target=h,a.actions=j(h),g.stopPropagation(),d(c,g),b.addEventListener("click",e),b.addEventListener("keydown",f),a.opened=!0}};a.registerContextMenu(g)},scope:!0}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorFileBrowser",["$q","$window","$rootScope","$timeout","config","ramlRepository","newNameModal","importService",function(a,b,c,d,e,f,g,h){function i(i){function j(a){if("/"!==a.path){var b=f.getParent(a);b.collapsed=!1,j(b)}}function k(a){83!==a.which||!a.metaKey&&!a.ctrlKey||a.shiftKey||a.altKey||(a.preventDefault(),i.$apply(function(){n.saveFile(n.selectedFile)}))}function l(){var a="Untitled-1.raml",b="File system has no files, please input a name for the new file:",c=[],d="Add a new file";g.open(b,a,c,d).then(function(a){return f.generateFile(i.homeDirectory,a)},function(){return f.generateFile(i.homeDirectory,a)})}function m(a){for(var b=[a],c=0;c<b.length;){for(var d=b[c],e=d.children,f=void 0,g=0;g<e.length;g++){if(f=e[g],"file"===f.type&&f.root)return f;"directory"===f.type&&b.push(f)}c+=1}}var n=this,o=angular.noop,p=void 0;i.toggleFolderCollapse=function(a){a.collapsed=!a.collapsed},i.fileTreeOptions=function(){var a=!1;return{accept:function(b,c,d){var e,g=b.$modelValue,h=0>d?i.homeDirectory:c.$modelValue[d];h.isDirectory||(h=c.$nodeScope?c.$nodeScope.$modelValue:i.homeDirectory);var j=f.getParent(g).path===h.path||h.path.slice(0,g.path.length)===g.path;return a=h.children.filter(function(a){return a.name===g.name}).length>0,e=!a&&!j,e?n.cursorState="ok":n.cursorState="no",e},dropped:function(a){var b=a.source.nodeScope.$modelValue,c=a.dest.nodesScope.$nodeScope?a.dest.nodesScope.$nodeScope.$modelValue:i.homeDirectory;f.move(b,c).then(function(){return n.select(b)})},dragStop:function(b){n.cursorState="",!b.canceled&&a&&c.$broadcast("event:notification",{message:"Failed: duplicate file name found in the destination folder.",expires:!0,level:"error"})}}}(),n.select=function(a){return a.isDirectory?n.selectDirectory(a):n.selectFile(a)},i.$on("event:raml-editor-file-select",function(a,b){var c=f.getByPath(b);n.selectFile(c)}),n.selectFile=function(b){if(n.selectedFile&&n.selectedFile.$$hashKey===b.$$hashKey)return void(n.currentTarget=b);o();var c=b.loaded||!b.persisted,d=c?a.when(b):f.loadFile(b);d.then(function(a){n.selectedFile=n.currentTarget=a,i.$emit("event:raml-editor-file-selected",a),o=i.$watch("fileBrowser.selectedFile.contents",function(b,c){b!==c&&(a.dirty=!0)})})},n.selectDirectory=function(a){i.$emit("event:raml-editor-directory-selected",a)},n.saveFile=function(a){f.saveFile(a).then(function(){return c.$broadcast("event:notification",{message:"File saved.",expires:!0})})},n.dropFile=function(a,b){return h.importFromEvent(b,a).then(function(){b.collapsed=!1})["catch"](function(a){c.$broadcast("event:notification",{message:a.message,expires:!0,level:"error"})})},n.showContextMenu=function(a,b){p.open(a,b)},n.contextMenuOpenedFor=function(a){return p&&p.target===a},b.addEventListener("keydown",k),i.fileBrowser=n,i.registerContextMenu=function(a){p=a},i.$on("event:raml-editor-file-generated",function(a,b){n.selectFile(b)}),i.$on("event:raml-editor-directory-created",function(a,b){n.selectDirectory(b)}),i.$on("event:raml-editor-file-selected",function(a,b){j(b)}),i.$on("event:raml-editor-directory-selected",function(a,b){j(b)}),i.$on("event:raml-editor-filetree-modified",function(a,b){f.getParent(b).sortChildren()}),i.$on("event:raml-editor-file-removed",function(a,b){d(function(){var a=i.homeDirectory.getFiles();0===a.length?l():b===n.selectedFile&&n.selectFile(a[0])})}),i.$on("$destroy",function(){b.removeEventListener("keydown",k)}),i.$watch("fileBrowser.selectedFile.path",function(a,b){a!==b&&e.set("currentFile",JSON.stringify({path:a,name:a.slice(a.lastIndexOf("/")+1)}))}),f.loadDirectory().then(function(a){i.homeDirectory=a,n.rootFile=m(a);var b=[];if(i.homeDirectory.forEachChildDo(function(a){a.isDirectory||b.push(a)}),!b.length)return void l();var c=JSON.parse(e.get("currentFile","{}")),d=f.getByPath(c.path)||n.rootFile||b[0];n.selectFile(d)})}return{restrict:"E",templateUrl:"views/raml-editor-file-browser.tmpl.html",controller:i}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorProjectButton",["$timeout","$window","subMenuService",function(a,b,c){return{restrict:"E",templateUrl:"views/menu/project-menu.tmpl.html",link:function(a){a.openProjectMenu=function(){c.open(a,"showProjectMenu")},a.openFileMenu=function(){c.openSubMenu(a,"showFileMenu")},a.closeFileMenu=function(){a.showFileMenu=!1}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorSaveFileButton",["$rootScope","ramlRepository",function(a,b){return{restrict:"E",replace:!0,template:'<li role="save-button" ng-click="saveFile()"><a><i class="fa fa-save"></i>&nbsp;Save</a></li>',link:function(c){c.saveFile=function(){var d=c.fileBrowser.selectedFile;return b.saveFile(d).then(function(){a.$broadcast("event:notification",{message:"File saved.",expires:!0})})}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorSaveAllButton",["$rootScope","ramlRepository","$q",function(a,b,c){return{restrict:"E",replace:!0,template:'<li role="save-all-button" ng-click="saveAllFiles()"><a><i class="fa fa-save"></i>&nbsp;Save All</a></li>',link:function(d){d.saveAllFiles=function(){var e=[];return d.homeDirectory.forEachChildDo(function(a){return a.isDirectory?void 0:a.dirty?e.push(b.saveFile(a)):void 0}),c.all(e).then(function(){a.$broadcast("event:notification",{message:"All files saved.",expires:!0})})},a.$on("event:save-all",function(){d.saveAllFiles()})}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorNewFolderButton",["newFolderService",function(a){return{restrict:"E",replace:!0,template:'<li ng-show="supportsFolders" role="new-folder-button" ng-click="newFolder()"><a><i class="fa fa-folder-open"></i>&nbsp;New Folder</a></li>',link:function(b){b.newFolder=function(){return a.prompt(b.homeDirectory)}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorNewFileMenu",["newFileService","subMenuService",function(a,b){return{restrict:"E",replace:!0,scope:{target:"=",showFileMenu:"=",showFragmentMenu:"=",openFileMenuCondition:"@",menuRole:"@"},templateUrl:"views/menu/new-file-menu.tmpl.html",link:function(c){c.closeFragmentMenu=function(){c.showFragmentMenu=!1},c.openFragmentMenu=function(){b.openSubMenu(c,"showFragmentMenu"),c.fragments=a.files["1.0"]},c.newFragmentFile=function(b){return a.newFragmentFile(c.target||c.$parent.homeDirectory,b)},c.newFile=function(b){return a.newFile(c.target||c.$parent.homeDirectory,b)},c.notSorted=function(a){return a?Object.keys(a).map(function(b){return a[b]}):[]}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorExportMenu",["ramlRepository","subMenuService","ramlToSwagger","$window","$location","$rootScope",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"views/menu/export-menu.tmpl.html",link:function(g){function h(a,b){var c=new Blob([a],{type:"application/json;charset=utf-8"});d.saveAs(c,b)}function i(a){return f.$broadcast("event:notification",{message:a,expires:!0,level:"error"})}function j(a,b){var c=a.lastIndexOf(".");c>-1&&(a=a.substr(0,c));var d=a.lastIndexOf("/");return d>-1&&(a=a.substr(d+1)),a+"."+b}g.xOasExport=g.xOasExport||"true"===e.search().xOasExport,g.openExportMenu=function(){b.openSubMenu(g,"showExportMenu")},g.closeExportMenu=function(){g.showExportMenu=!1},g.exportZipFiles=function(){a.exportFiles()},g.exportJsonFiles=function(){var a=g.fileBrowser.selectedFile;c.json(a).then(function(a){var b=JSON.stringify(a.contents,null,2);h(b,j(a.name||a.path,"json"))})["catch"](function(a){i(a)})},g.exportYamlFiles=function(){var a=g.fileBrowser.selectedFile;c.yaml(a).then(function(a){h(a.contents,j(a.name||a.path,"yaml"))})["catch"](function(a){i(a)})}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorImportButton",["$injector","importModal",function(a,b){return{restrict:"E",replace:!0,template:'<li role="import-button" ng-click="importFile()"><a><i class="fa fa-cloud-download"></i>&nbsp;Import</a></li>',link:function(a){a.importFile=function(){return b.open()}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorViewButton",["$timeout","$window","subMenuService","$rootScope",function(a,b,c,d){return{restrict:"E",templateUrl:"views/menu/view-menu.tmpl.html",link:function(a){a.openViewMenu=function(){c.open(a,"showViewMenu")},a.toogleBackgroundColor=function(){d.$broadcast("event:toggle-theme")}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorHelpButton",["$modal","$timeout","$window","subMenuService",function(a,b,c,d){return{restrict:"E",templateUrl:"views/menu/help-menu.tmpl.html",link:function(b){b.openHelpContextMenu=function(){d.open(b,"menuContextHelpOpen")},b.openHelpModal=function(){a.open({templateUrl:"views/modal/help.html"})}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","$uiTreeHelper","$window","$document","$timeout","ramlRepository","config",function(a,b,c,d,e,f,g){return{require:["^uiTreeNodes","^uiTree","?uiTreeNode"],link:function(h,i,j,k){var l={};angular.extend(l,a),l.nodeClass&&i.addClass(l.nodeClass),h.init(k),h.collapsed=!!b.getNodeAttribute(h,"collapsed"),h.$watch(j.collapsed,function(a){"boolean"==typeof a&&(h.collapsed=a)}),h.$watch("collapsed",function(a){b.setNodeAttribute(h,"collapsed",a),j.$set("collapsed",a)});var m,n,o,p,q,r,s,t,u,v="ontouchstart"in window,w=!0,x=!1,y=null,z=!1,A=null,B=1e3,C=document.body,D=document.documentElement,E=function(a){if((v||2!==a.button&&3!==a.which)&&!(a.uiTreeDragging||a.originalEvent&&a.originalEvent.uiTreeDragging)){var e=angular.element(a.target),f=e.scope();if(f&&f.$type&&!("uiTreeNode"!==f.$type&&"uiTreeHandle"!==f.$type||"uiTreeNode"===f.$type&&f.$handleScope)){var j=e.prop("tagName").toLowerCase();if("input"!==j&&"textarea"!==j&&"button"!==j&&"select"!==j){for(;e&&e[0]&&e[0]!==i;){if(b.nodrag(e))return;e=e.parent()}if(h.beforeDrag(h)){a.uiTreeDragging=!0,a.originalEvent&&(a.originalEvent.uiTreeDragging=!0),a.preventDefault();var k=b.eventObj(a);n=!0,o=b.dragInfo(h);var q=h.$element.prop("tagName");s=angular.element(c.document.createElement(q)),l.hiddenClass&&s.addClass(l.hiddenClass),p=b.positionStarted(k,h.$element),r=angular.element(c.document.createElement(h.$parentNodesScope.$element.prop("tagName"))).addClass(h.$parentNodesScope.$element.attr("class")).addClass(l.dragClass).addClass("light"===g.get("theme")?"drag-light":""),r.css("z-index",9999),h.$element.after(s),r.append(h.$element.clone().html(h.$element.children()[0].innerHTML));var w=d.find("raml-editor-file-browser");w.append(r);var x=k.pageX-p.offsetX-w.offset().left,y=k.pageY-p.offsetY-w.offset().top;r.css({left:x+"px",top:y+"px"}),m={dragging:r},h.$element.addClass("drag-elm");var z=angular.element(r[0].lastChild).scope();z.collapsed=!0,angular.element(d).bind("touchend",K),angular.element(d).bind("touchcancel",K),angular.element(d).bind("touchmove",J),angular.element(d).bind("mouseup",K),angular.element(d).bind("mousemove",J),angular.element(d).bind("mouseleave",L),t=Math.max(C.scrollHeight,C.offsetHeight,D.clientHeight,D.scrollHeight,D.offsetHeight),u=Math.max(C.scrollWidth,C.offsetWidth,D.clientWidth,D.scrollWidth,D.offsetWidth),h.$treeScope.isDragging=!0}}}}},F=function(a){if(!x)return void(w||(x=!0,h.$apply(function(){h.$callbacks.dragStart(o.eventArgs(m,p))})));var f,g,i,j=b.eventObj(a);if(r){a.preventDefault(),c.getSelection?c.getSelection().removeAllRanges():c.document.selection&&c.document.selection.empty();var k=d.find("raml-editor-file-browser");f=j.pageX-p.offsetX-k.offset().left,g=j.pageY-p.offsetY-k.offset().top,i={left:f,right:f+r[0].scrollWidth+5,top:g,bottom:g+r[0].scrollHeight},i.left<0?f=0:i.right>u&&(f=u-r[0].scrollWidth-5),i.top<0?g=0:i.bottom>t&&(g=t-r[0].scrollHeight),r.css({left:f+"px",top:g+"px"});var l=window.pageYOffset||c.document.documentElement.scrollTop,s=l+(window.innerHeight||c.document.clientHeight||c.document.clientHeight);if(s<j.pageY&&t>=s&&window.scrollBy(0,10),l>j.pageY&&window.scrollBy(0,-10),b.positionMoved(a,p,n),n)return void(n=!1);var v;angular.isFunction(r.hide)?r.hide():(v=r[0].style.display,r[0].style.display="none");var y=j.pageX-c.document.body.scrollLeft,z=j.pageY-(window.pageYOffset||c.document.documentElement.scrollTop);c.document.elementFromPoint(y,z);var C=angular.element(c.document.elementFromPoint(y,z));angular.isFunction(r.show)?r.show():r[0].style.display=v;var D=C.scope();if(!p.dirAx&&D!==h.prevHoverNode){var E=!1;if(h.prevHoverNode=D,!D)return;if("uiTree"===D.$type&&D.dragEnabled&&(E=D.isEmpty()),"uiTreeHandle"===D.$type&&(D=D.$nodeScope),"uiTreeDummyNode"===D.$type)return q=D.$parentNodesScope.accept(h,-1),q&&o.moveTo(D.$parentNodesScope,D.$parentNodesScope.childNodes(),H(h.$modelValue,D.$parentNodesScope.$modelValue)),$(".dragover").removeClass("dragover"),C.addClass("dragover"),void(A&&(e.cancel(A),A=null));if("uiTreeNode"!==D.$type&&!E)return;e.cancel(A),$(".dragover").removeClass("dragover"),D.$childNodesScope?(angular.element(D.$element.children()[0]).addClass("dragover"),D.collapsed&&(A=e(function(){D.collapsed=!1,h.nodeToExpand=null},B)),h.nodeToExpand=D):D.$parentNodeScope?(C.addClass("dragover"),angular.element(D.$parentNodeScope.$element.children()[0]).addClass("dragover"),h.nodeToExpand=D.$parentNodeScope):C.addClass("dragover"),E?D.$nodesScope.accept(h,0)&&o.moveTo(D.$nodesScope,D.$nodesScope.childNodes(),0):D.dragEnabled()&&(C=D.$element,q=D.$parentNodesScope.accept(h,D.index()),q&&(D.$childNodesScope?o.moveTo(D.$childNodesScope,D.childNodes(),H(h.$modelValue,D.$childNodesScope.$modelValue)):o.moveTo(D.$parentNodesScope,D.$parentNodesScope.childNodes(),H(h.$modelValue,D.$parentNodesScope.$modelValue))))}h.$apply(function(){h.$callbacks.dragMove(o.eventArgs(m,p))})}},G=function(a){a.preventDefault(),r&&(h.$treeScope.$apply(function(){h.$callbacks.beforeDrop(o.eventArgs(m,p))}),s.replaceWith(h.$element),r.remove(),r=null,h.$$apply?(o.apply(),h.$treeScope.$apply(function(){h.$callbacks.dropped(o.eventArgs(m,p))})):M(),h.$treeScope.$apply(function(){var a=o.eventArgs(m,p);a.canceled=z,h.$callbacks.dragStop(a)}),h.$$apply=!1,o=null),angular.element(d).unbind("touchend",K),angular.element(d).unbind("touchcancel",K),angular.element(d).unbind("touchmove",J),angular.element(d).unbind("mouseup",K),angular.element(d).unbind("mousemove",J),angular.element(c.document.body).unbind("mouseleave",L),$(".dragover").removeClass("dragover"),h.$element.removeClass("drag-elm"),h.$treeScope.isDragging=!1,h.prevHoverNode=null,z=!1},H=function(a,b){for(var c,d=0,e=b.length-1;e>=d;)c=Math.floor((d+e)/2),f.sortingFunction.call(null,b[c],a)>0?e=c-1:d=c+1;return d},I=function(a){h.dragEnabled()&&E(a)},J=function(a){F(a)},K=function(a){h.$$apply=q,G(a)},L=function(a){h.$$apply=!1,z=!0,G(a)},M=function(){e(function(){i.unbind(),i.bind("touchstart mousedown",function(a){w=!0,x=!1,y=e(function(){w=!1,I(a)},h.dragDelay)}),i.bind("touchend touchcancel mouseup",function(){e.cancel(y)})})};M(),angular.element(c.document.body).bind("keydown",function(a){27===a.keyCode&&L(a)})}}}]).directive("uiTreeDummyNode",["treeConfig",function(a){return{require:["^uiTreeNodes","^uiTree"],template:"<div class=\"file-item dummy\" ng-class=\"{'no-drop': fileBrowser.cursorState === 'no', copy: fileBrowser.cursorState === 'ok'}\"></div>",restrict:"E",replace:!0,controller:function(a,b){this.scope=a,a.$element=b,a.$parentNodeScope=null,a.$childNodesScope=null,a.$parentNodesScope=null,a.$treeScope=null,a.$$apply=!1,a.$type="uiTreeDummyNode",a.init=function(b){var c=b[0];a.$treeScope=b[1]?b[1].scope:null,a.$parentNodeScope=c.scope.$nodeScope,a.$parentNodesScope=c.scope}},link:function(b,c,d,e){var f={};angular.extend(f,a),f.nodeClass&&c.addClass(f.nodeClass),b.init(e)}}}])}(),angular.module("ramlEditorApp").run(["$templateCache",function(a){"use strict";a.put("views/confirm-modal.html",'<form name="form" novalidate>\n  <div class="modal-header">\n    <h3>{{title}}</h3>\n  </div>\n\n  <div class="modal-body">\n    <p>{{message}}</p>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">{{dismissButtonLabel}}</button>\n    <button type="button" class="btn btn-default" ng-if="canDiscard" ng-click="discard()">{{discardButtonLabel}}</button>\n    <button type="button" class="btn" ng-class="closeButtonCssClass" ng-click="$close()" ng-auto-focus="true">{{closeButtonLabel}}</button>\n  </div>\n</form>\n'),a.put("views/import-modal.html",'<form name="form" novalidate ng-submit="import(form)">\n  <div class="modal-header">\n    <h3>Import file</h3>\n  </div>\n\n  <div class="modal-body" ng-class="{\'has-error\': submittedType === mode.type && form.$invalid}">\n    <div style="text-align: center; font-size: 2em; margin-bottom: 1em;" ng-show="importing">\n      <i class="fa fa-spin fa-spinner"></i>\n    </div>\n\n    <div class="form-group" style="margin-bottom: 10px;">\n      <div style="float: left; width: 130px;">\n        <select class="form-control" ng-model="mode" ng-options="option.name for option in options"></select>\n      </div>\n\n      <div style="margin-left: 145px;" ng-switch="mode.type">\n        <input id="swagger" name="swagger" type="url" ng-model="mode.value" class="form-control" required ng-switch-when="url" placeholder="http://petstore.swagger.io/v2/swagger.json">\n\n        <input id="file" name="file" type="file" ng-model="mode.value" class="form-control" required ng-switch-when="file" onchange="angular.element(this).scope().handleFileSelect(this)">\n      </div>\n    </div>\n\n    <div ng-if="submittedType === \'url\'">\n      <p class="help-block" ng-show="form.swagger.$error.required || form.swagger.$error.url">Please provide a valid URL.</p>\n    </div>\n\n    <div ng-if="submittedType === \'file\'">\n      <p class="help-block" ng-show="form.file.$error.required">Please select a file to import.</p>\n    </div>\n\n    <div ng-if="mode.type === \'file\'">\n      <p>If you want to upload multiple files, you can .zip them and import them in a single step.</p>\n    </div>\n\n    <div ng-if="mode.spec === \'OAS\'">\n      <p>Note: Currently supports OAS (Swagger) v2.0</p>\n    </div>\n  </div>\n\n  <div class="modal-footer" style="margin-top: 0;">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">Close</button>\n    <button type="submit" class="btn btn-primary">Import</button>\n  </div>\n</form>\n'),
a.put("views/import-service-conflict-modal.html",'<form name="form" novalidate>\n  <div class="modal-header">\n    <h3>Path already exists</h3>\n  </div>\n\n  <div class="modal-body">\n    The path (<strong>{{path}}</strong>) already exists.\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default pull-left" ng-click="skip()">Skip</button>\n    <button type="submit" class="btn btn-primary" ng-click="keep()">Keep Both</button>\n    <button type="submit" class="btn btn-primary" ng-click="replace()">Replace</button>\n  </div>\n</form>\n'),a.put("views/menu/export-menu.tmpl.html",'<li ng-if="!xOasExport" role="export-zip" ng-click="exportZipFiles()">\n  <a><i class="fa fa-download"></i>&nbsp;Export files</a>\n</li>\n\n<a ng-if="xOasExport">\n  <i class="fa fa-plus"></i>&nbsp;Export\n  <i class="submenu-icon fa fa-caret-right"></i>\n</a>\n\n<ul ng-if="xOasExport" role="menu-dropdown" class="submenu-item menu-item-context" ng-show="showExportMenu">\n  <li role="export-zip" ng-click="exportZipFiles()"><a>&nbsp;Project Zip</a></li>\n  <li role="export-json" ng-click="exportJsonFiles()"><a>&nbsp;OAS 2.0 JSON</a></li>\n  <li role="export-yaml" ng-click="exportYamlFiles()"><a>&nbsp;OAS 2.0 YAML</a></li>\n</ul>\n'),a.put("views/menu/help-menu.tmpl.html",'<span role="help-button" class="menu-item-toggle" ng-click="openHelpContextMenu($event)">\n  <i class="fa fa-question-circle"></i>&nbsp;Help\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="menuContextHelpOpen">\n  <li role="context-menu-item"><a role="raml-specification" href="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md" target="_blank">RAML Specification</a></li>\n  <li rile="context-menu-item"><a role="raml-website" href="http://raml.org" target="_blank">raml.org Website</a></li>\n  <li role="context-menu-item"><a role="report-raml-bug" href="https://github.com/mulesoft/api-designer/issues" target="_blank">Report a Bug</a></li>\n  <li role="context-menu-item"><a role="raml-guide" href="http://raml.org/docs.html" target="_blank">Getting Started Guide</a></li>\n  <li role="context-menu-item" ng-click="openHelpModal()"><a role="raml-about">About</a></li>\n</ul>\n'),a.put("views/menu/new-file-menu.tmpl.html",'<ul role="{{menuRole}}" class="submenu-item menu-item-context" ng-show="showFileMenu">\n  <li role="context-menu-item" ng-mouseenter="openFragmentMenu()" ng-mouseleave="closeFragmentMenu()">\n    <a>\n        &nbsp;Raml 1.0\n        <i class="submenu-icon fa fa-caret-right"></i>\n    </a>\n\n    <ul role="{{menuRole}}" class="submenu-item menu-item-context" ng-show="{{ openFileMenuCondition }}">\n      <li role="new-raml-{{fragment.name}}" ng-repeat="fragment in notSorted(fragments)" ng-click="newFragmentFile(fragment.label)">\n        <a>&nbsp;{{ fragment.name }}</a>\n      </li>\n    </ul>\n  </li>\n\n  <li role="new-raml-0.8" ng-click="newFile(\'0.8\')">\n    <a>&nbsp;Raml 0.8 API Spec</a>\n  </li>\n</ul>\n'),a.put("views/menu/project-menu.tmpl.html",'<span class="menu-item-toggle" role="project-button" ng-click="openProjectMenu($event)">\n  <i class="fa fa-cogs"></i>&nbsp;Project\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="showProjectMenu">\n  <li role="new-file" ng-mouseenter="openFileMenu()" ng-mouseleave="closeFileMenu()">\n    <a>\n      <i class="fa fa-plus"></i>&nbsp;New File\n      <i class="submenu-icon fa fa-caret-right"></i>\n    </a>\n    <raml-editor-new-file-menu show-file-menu="showFileMenu" show-fragment-menu="showFragmentMenu" open-file-menu-condition="showFragmentMenu" menu-role="menu-dropdown"></raml-editor-new-file-menu>\n  </li>\n\n  <raml-editor-new-folder-button></raml-editor-new-folder-button>\n\n  <raml-editor-save-file-button></raml-editor-save-file-button>\n\n  <raml-editor-save-all-button></raml-editor-save-all-button>\n\n  <raml-editor-import-button></raml-editor-import-button>\n\n  <raml-editor-export-menu ng-if="!xOasExport"></raml-editor-export-menu>\n\n  <li role="context-menu-item" class="submenu" ng-mouseenter="openExportMenu()" ng-mouseleave="closeExportMenu()" ng-show="xOasExport && canExportFiles()">\n    <raml-editor-export-menu></raml-editor-export-menu>\n  </li>\n</ul>\n'),a.put("views/menu/view-menu.tmpl.html",'<span class="menu-item-toggle" ng-click="openViewMenu($event)">\n  <i class="fa fa-edit"></i>&nbsp;View\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="showViewMenu">\n  <li role="toogle-background" ng-click="toogleBackgroundColor()">\n      <a>&nbsp;Toggle Background Color</a>\n  </li>\n</ul>\n\n'),a.put("views/modal/help.html",'<div class="modal-header">\n    <h3>About</h3>\n</div>\n\n<div class="modal-body">\n    <p>\n        The API Designer for RAML is built by MuleSoft, and is a web-based editor designed to help you author RAML specifications for your APIs.\n        <br />\n        <br />\n        RAML is a human-and-machine readable modeling language for REST APIs, backed by a workgroup of industry leaders.\n    </p>\n\n    <p>\n        To learn more about the RAML specification and other tools which support RAML, please visit <a href="http://www.raml.org" target="_blank">http://www.raml.org</a>.\n        <br />\n        <br />\n        For specific questions, or to get help from the community, head to the community forum at <a href="http://forums.raml.org" target="_blank">http://forums.raml.org</a>.\n    </p>\n</div>\n'),a.put("views/new-name-modal.html",'<form name="form" novalidate ng-submit="submit(form)">\n  <div class="modal-header">\n    <h3>{{input.title}}</h3>\n  </div>\n\n  <div class="modal-body">\n    <!-- name -->\n    <div class="form-group" ng-class="{\'has-error\': form.$submitted && form.name.$invalid}">\n      <p>\n        {{input.message}}\n      </p>\n      <p ng-if="input.link">\n        Learn more\n        <a target="_blank" href="{{input.link}}">\n          <i class="fa fa-external-link"></i>\n        </a>\n      </p>\n      <!-- label -->\n      <label for="name" class="control-label required-field-label">Name</label>\n\n      <!-- input -->\n      <input id="name" name="name" type="text"\n             ng-model="input.newName" class="form-control"\n             ng-validate="isValid($value)"\n             ng-maxlength="64" ng-auto-focus="true" value="{{input.suggestedName}}" required>\n\n      <!-- error -->\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.required">Please provide a name.</p>\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.maxlength">Name must be shorter than 64 characters.</p>\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.validate">{{validationErrorMessage}}</p>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">Cancel</button>\n    <button type="submit" class="btn btn-primary">OK</button>\n  </div>\n</form>\n'),a.put("views/raml-editor-context-menu.tmpl.html",'<ul role="context-menu" ng-show="opened">\n  <li role="context-menu-item" ng-mouseenter="openFileMenu(action)" ng-mouseleave="closeFileMenu()" ng-repeat="action in actions" ng-click="action.execute()">\n    {{ action.label }}\n    <i class="submenu-icon fa fa-caret-right" ng-if="action.fragments !== undefined"></i>\n    <raml-editor-new-file-menu ng-if="action.fragments !== undefined" target="target" show-file-menu="showFileMenu" show-fragment-menu="showFragmentMenu" open-file-menu-condition="showFragmentMenu" menu-role="context-menu"></raml-editor-new-file-menu>\n  </li>\n</ul>\n'),a.put("views/raml-editor-file-browser.tmpl.html",'<raml-editor-context-menu></raml-editor-context-menu>\n\n<script type="text/ng-template" id="file-item.html">\n  <div ui-tree-handle class="file-item" ng-right-click="fileBrowser.showContextMenu($event, node)" ng-click="fileBrowser.select(node)"\n    ng-class="{currentfile: fileBrowser.currentTarget.path === node.path && !isDragging,\n      dirty: node.dirty,\n      geared: fileBrowser.contextMenuOpenedFor(node),\n      directory: node.isDirectory,\n      \'no-drop\': fileBrowser.cursorState === \'no\',\n      copy: fileBrowser.cursorState === \'ok\'}"\n    ng-drop="node.isDirectory && fileBrowser.dropFile($event, node)">\n    <span class="file-name" ng-click="toggleFolderCollapse(node)">\n      <i class="fa icon fa-caret-right fa-fw" ng-if="node.isDirectory" ng-class="{\'fa-rotate-90\': !collapsed}"></i>\n      <i class="fa icon fa-fw" ng-class="{\'fa-folder-o\': node.isDirectory, \'fa-file-text-o\': !node.isDirectory}"></i>\n      &nbsp;{{node.name}}\n    </span>\n    <i class="fa fa-cog" ng-click="fileBrowser.showContextMenu($event, node)" ng-class="{hidden: isDragging}" data-nodrag></i>\n  </div>\n\n  <ul ui-tree-nodes ng-if="node.isDirectory" ng-class="{hidden: collapsed}" ng-model="node.children">\n    <li ui-tree-node ng-repeat="node in node.children" ng-include="\'file-item.html\'" data-collapsed="node.collapsed" data-path="{{node.path}}">\n    </li>\n  </ul>\n</script>\n\n<div ui-tree="fileTreeOptions" ng-model="homeDirectory" class="file-list" data-drag-delay="300" data-empty-place-holder-enabled="false" ng-drop="fileBrowser.dropFile($event, homeDirectory)" ng-right-click="fileBrowser.showContextMenu($event, homeDirectory)">\n  <ul ui-tree-nodes ng-model="homeDirectory.children" id="tree-root">\n    <ui-tree-dummy-node class="top"></ui-tree-dummy-node>\n    <li ui-tree-node ng-repeat="node in homeDirectory.children" ng-include="\'file-item.html\'" data-collapsed="node.collapsed"\n     data-path="{{node.path}}"\n     ng-drag-enter="node.collapsed = false"\n     ng-drag-leave="node.collapsed = true"></li>\n    <ui-tree-dummy-node class="bottom" ng-click="fileBrowser.select(homeDirectory)"></ui-tree-dummy-node>\n  </ul>\n</div>\n'),a.put("views/raml-editor-main.tmpl.html",'<div role="raml-editor" class="{{theme}}">\n  <div role="notifications" ng-controller="notifications" class="hidden" ng-class="{hidden: !shouldDisplayNotifications, error: level === \'error\'}">\n    {{message}}\n    <i class="fa" ng-class="{\'fa-check\': level === \'info\', \'fa-warning\': level === \'error\'}" ng-click="hideNotifications()"></i>\n  </div>\n\n  <header>\n    <h1>\n      <strong>API</strong> Designer\n    </h1>\n\n    <a role="logo" target="_blank" href="http://mulesoft.com"></a>\n  </header>\n\n  <ul class="menubar">\n    <li class="menu-item menu-item-ll">\n      <raml-editor-project-button></raml-editor-project-button>\n    </li>\n    <li class="menu-item menu-item-ll">\n      <raml-editor-view-button></raml-editor-view-button>\n    </li>\n    <li class="menu-item menu-item-ll">\n      <raml-editor-help-button></raml-editor-help-button>\n    </li>\n    <li class="spacer file-absolute-path">{{getSelectedFileAbsolutePath()}}</li>\n    <li class="menu-item menu-item-fr menu-item-mocking-service" ng-show="getIsMockingServiceVisible()" ng-controller="mockingServiceController" ng-click="toggleMockingService()">\n      <div class="title">Mocking Service</div>\n      <div class="field-wrapper" ng-class="{loading: loading}">\n        <i class="fa fa-spin fa-spinner" ng-if="loading"></i>\n        <div class="field" ng-if="!loading">\n          <input type="checkbox" value="None" id="mockingServiceEnabled" ng-checked="enabled" ng-click="$event.preventDefault()" />\n          <label for="mockingServiceEnabled"></label>\n        </div>\n      </div>\n    </li>\n  </ul>\n\n  <div role="flexColumns">\n    <raml-editor-file-browser role="browser"></raml-editor-file-browser>\n\n    <div id="browserAndEditor" ng-splitter="vertical" ng-splitter-collapse-target="prev"><div class="split split-left">&nbsp;</div></div>\n\n    <div role="editor" ng-class="{error: currentError}">\n      <div id="code" role="code"></div>\n\n      <div role="shelf" ng-show="getIsShelfVisible()" ng-class="{expanded: !shelf.collapsed}">\n        <div role="shelf-tab" ng-click="toggleShelf()">\n          <i class="fa fa-inbox fa-lg"></i><i class="fa" ng-class="shelf.collapsed ? \'fa-caret-up\' : \'fa-caret-down\'"></i>\n        </div>\n\n        <div role="shelf-container" ng-show="!shelf.collapsed" ng-include src="\'views/raml-editor-shelf.tmpl.html\'"></div>\n      </div>\n    </div>\n\n    <div id="consoleAndEditor" ng-show="getIsConsoleVisible()" ng-splitter="vertical" ng-splitter-collapse-target="next" ng-splitter-min-width="470"><div class="split split-right">&nbsp;</div></div>\n\n    <div ng-show="getIsConsoleVisible()" role="preview-wrapper" class="raml-console-embedded">\n      <div ng-if="!splitterCollapsed_consoleAndEditor && getIsConsoleVisible()">\n        <raml-console raml="raml"\n            options="{ singleView: true, disableThemeSwitcher: true, disableRamlClientGenerator: true, disableTitle: true}"\n            style="padding: 0; margin-top: 0;"></raml-console>\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("views/raml-editor-shelf.tmpl.html",'<ul role="sections" ng-controller="ramlEditorShelf">\n  <li role="section" ng-repeat="category in model.categories | orderBy:orderSections" class="{{category.name | dasherize}}">\n    {{category.name}}&nbsp;({{category.items.length}})\n    <ul role="items">\n      <li ng-repeat="item in category.items" ng-click="itemClick(item)"><i class="fa fa-reply"></i><span>{{item.title}}</span></li>\n    </ul>\n  </li>\n</ul>\n')}]);